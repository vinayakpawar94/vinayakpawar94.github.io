import{n as A,o as C,r,j as e,m as a,p as E,q as P,s as T,A as w,t as k,v,w as q,x as M,y as S,z as R}from"./vendor-J7lHLved.js";import{p as V}from"./profile-C2fh_60O.js";const Y={apiKey:"AIzaSyBtbylHpm-15DIxABVYjelmszlhAQr0ypw",authDomain:"portfolio-feedback-20539.firebaseapp.com",projectId:"portfolio-feedback-20539",storageBucket:"portfolio-feedback-20539.firebasestorage.app",messagingSenderId:"178281777505",appId:"1:178281777505:web:beb440704c6fc17f029d20"},B=C(Y),F=A(B);function H(){const[u,n]=r.useState(""),[g,p]=r.useState(!1),[d,b]=r.useState(""),[c,f]=r.useState(0),[h,y]=r.useState(!1),[j,l]=r.useState(""),[o,N]=r.useState({total:0,counts:[0,0,0,0,0]});r.useEffect(()=>{(async()=>{try{const s=await M(S(F,"feedback"));let i=0;const m=[0,0,0,0,0];s.forEach(I=>{const x=I.data();x.rating>=1&&x.rating<=5&&(m[x.rating-1]++,i++)}),N({total:i,counts:m})}catch(s){console.error("Error fetching feedback:",s)}})()},[]);const z=async t=>{t.preventDefault(),p(!0),n("");const s=new FormData(t.target);try{const i=await fetch("https://formspree.io/f/xovkwkez",{method:"POST",body:s,headers:{Accept:"application/json"}}),m=await i.json();i.ok?(n("success"),t.target.reset(),setTimeout(()=>n(""),3e3)):(n("error"),setTimeout(()=>n(""),3e3))}catch{n("error"),setTimeout(()=>n(""),3e3)}finally{p(!1)}},D=async t=>{if(t.preventDefault(),!d||!c)return alert("Please enter name and select rating!");y(!0),l("");try{const s=await R(S(F,"feedback"),{name:d,rating:c,timestamp:new Date});console.log("Feedback stored with ID:",s.id);const i=[...o.counts];i[c-1]++,N({total:o.total+1,counts:i}),l("success"),setTimeout(()=>l(""),3e3),b(""),f(0)}catch(s){console.error("Error adding feedback:",s),l("error"),setTimeout(()=>l(""),3e3)}finally{y(!1)}};return e.jsx("section",{id:"contact",className:"py-20 -mt-10 bg-black text-white relative",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[e.jsxs(a.h2,{className:"text-3xl font-bold mb-10 text-green-500 text-center relative",initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},transition:{duration:.6},children:["Contact Me",e.jsx("span",{className:"block w-20 h-[2px] bg-green-500 mt-2 mx-auto"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-10",children:[e.jsxs(a.div,{className:"relative space-y-3 bg-black p-6 rounded-xl border border-green-500/30 shadow-lg shadow-green-500/20",initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8},children:[e.jsx("img",{src:V,alt:"","aria-hidden":"true",className:"absolute inset-0 w-full h-full opacity-20 object-cover object-top rounded-lg z-0"}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(E,{className:"text-green-500 text-xl mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg",children:"Location"}),e.jsx("p",{className:"text-gray-300",children:"Pune, Maharashtra, India"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(P,{className:"text-green-500 text-xl mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg",children:"Email"}),e.jsx("p",{className:"text-gray-300",children:"vnpawar94@gmail.com"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(T,{className:"text-green-500 text-xl mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg",children:"Phone"}),e.jsx("p",{className:"text-gray-300",children:"+91 99609 90969"})]})]})]})]}),e.jsxs(a.form,{onSubmit:z,className:"relative space-y-3 bg-black p-6 rounded-xl border border-green-500/30 shadow-lg shadow-green-500/20",initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8},children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",name:"name",placeholder:"Your Name",required:!0,className:"w-full p-3 rounded-lg bg-black border border-gray-700 text-white focus:ring-2 focus:ring-green-500"}),e.jsx("input",{type:"email",name:"email",placeholder:"Your Email",required:!0,className:"w-full p-3 rounded-lg bg-black border border-gray-700 text-white focus:ring-2 focus:ring-green-500"})]}),e.jsx("input",{type:"text",name:"subject",placeholder:"Subject",required:!0,className:"w-full p-3 rounded-lg bg-black border border-gray-700 text-white focus:ring-2 focus:ring-green-500"}),e.jsx("textarea",{rows:"5",name:"message",placeholder:"Message",required:!0,className:"w-full p-3 rounded-lg bg-black border border-gray-700 text-white focus:ring-2 focus:ring-green-500"}),e.jsx("button",{type:"submit",disabled:g,className:"w-full px-6 py-3 bg-green-500 hover:bg-green-400 text-black font-semibold rounded-lg transition disabled:opacity-50",children:g?"Sending...":"Send Message"}),e.jsxs(w,{children:[u==="success"&&e.jsx(a.div,{className:"absolute inset-0 flex items-center justify-center bg-black/90 rounded-xl",initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:-40},transition:{duration:.6},children:e.jsxs(a.div,{initial:{scale:0},animate:{scale:1.2},transition:{type:"spring",stiffness:200},className:"flex flex-col items-center text-green-500",children:[e.jsx(k,{size:60,className:"animate-pulse"}),e.jsx("p",{className:"mt-3 text-lg font-semibold",children:"Message Sent!"})]})}),u==="error"&&e.jsx(a.div,{className:"absolute inset-0 flex items-center justify-center bg-black/90 rounded-xl",initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:-40},transition:{duration:.6},children:e.jsxs(a.div,{initial:{scale:0},animate:{scale:1.2},transition:{type:"spring",stiffness:200},className:"flex flex-col items-center text-red-500",children:[e.jsx(v,{size:60,className:"animate-pulse"}),e.jsx("p",{className:"mt-3 text-lg font-semibold",children:"Something went wrong!"})]})})]})]})]}),e.jsxs("div",{className:"relative mt-12 bg-black p-4 rounded-xl border border-green-500/30 shadow-lg shadow-green-500/20 max-w-xl mx-auto",children:[e.jsx("h3",{className:"text-2xl font-bold text-green-500 mb-4 text-center",children:"⭐ Give Feedback ⭐"}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsx("input",{type:"text",value:d,onChange:t=>b(t.target.value),placeholder:"Your Name Please",className:"w-full p-3 rounded-lg bg-black border border-gray-700 text-white focus:ring-2 focus:ring-green-500",required:!0}),e.jsx("div",{className:"flex justify-center gap-2 text-2xl",children:[1,2,3,4,5].map(t=>e.jsx(q,{onClick:()=>f(t),className:`cursor-pointer transition ${t<=c?"text-yellow-400":"text-gray-500"}`},t))}),e.jsx("button",{type:"submit",disabled:h,className:"w-full px-6 py-3 bg-green-500 hover:bg-green-400 text-black font-semibold rounded-lg transition disabled:opacity-50",children:h?"Submitting...":"Send Feedback"})]}),e.jsxs(w,{children:[j==="success"&&e.jsx(a.div,{className:"absolute inset-0 flex items-center justify-center bg-black/90 rounded-xl",initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:-40},transition:{duration:.6},children:e.jsxs(a.div,{initial:{scale:0},animate:{scale:1.2},transition:{type:"spring",stiffness:200},className:"flex flex-col items-center text-green-500",children:[e.jsx(k,{size:60,className:"animate-pulse"}),e.jsx("p",{className:"mt-3 text-lg font-semibold",children:"Feedback Sent!"})]})}),j==="error"&&e.jsx(a.div,{className:"absolute inset-0 flex items-center justify-center bg-black/90 rounded-xl",initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:-40},transition:{duration:.6},children:e.jsxs(a.div,{initial:{scale:0},animate:{scale:1.2},transition:{type:"spring",stiffness:200},className:"flex flex-col items-center text-red-500",children:[e.jsx(v,{size:60,className:"animate-pulse"}),e.jsx("p",{className:"mt-3 text-lg font-semibold",children:"Failed to send feedback!"})]})})]}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsxs("p",{className:"text-gray-300",children:["Total Reviews:"," ",e.jsx("span",{className:"text-green-400 font-semibold",children:o.total})]}),e.jsx("div",{className:"flex justify-center gap-3 mt-3",children:o.counts.map((t,s)=>e.jsxs("span",{className:"text-sm text-gray-400",children:[s+1,"⭐:"," ",e.jsx("span",{className:"text-green-400 font-semibold",children:t})]},s))})]})]})]})})}export{H as default};
