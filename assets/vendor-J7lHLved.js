function s_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Df={exports:{}},za={},Mf={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function GT(){if(Sy)return Ie;Sy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=E&&F[E]||F["@@iterator"],typeof F=="function"?F:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,O={};function D(F,Q,Ce){this.props=F,this.context=Q,this.refs=O,this.updater=Ce||P}D.prototype.isReactComponent={},D.prototype.setState=function(F,Q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Q,"setState")},D.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function z(){}z.prototype=D.prototype;function $(F,Q,Ce){this.props=F,this.context=Q,this.refs=O,this.updater=Ce||P}var q=$.prototype=new z;q.constructor=$,L(q,D.prototype),q.isPureReactComponent=!0;var re=Array.isArray,te=Object.prototype.hasOwnProperty,ie={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function A(F,Q,Ce){var Pe,xe={},Ve=null,Ue=null;if(Q!=null)for(Pe in Q.ref!==void 0&&(Ue=Q.ref),Q.key!==void 0&&(Ve=""+Q.key),Q)te.call(Q,Pe)&&!R.hasOwnProperty(Pe)&&(xe[Pe]=Q[Pe]);var Oe=arguments.length-2;if(Oe===1)xe.children=Ce;else if(1<Oe){for(var He=Array(Oe),Kt=0;Kt<Oe;Kt++)He[Kt]=arguments[Kt+2];xe.children=He}if(F&&F.defaultProps)for(Pe in Oe=F.defaultProps,Oe)xe[Pe]===void 0&&(xe[Pe]=Oe[Pe]);return{$$typeof:t,type:F,key:Ve,ref:Ue,props:xe,_owner:ie.current}}function C(F,Q){return{$$typeof:t,type:F.type,key:Q,ref:F.ref,props:F.props,_owner:F._owner}}function k(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function V(F){var Q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Ce){return Q[Ce]})}var b=/\/+/g;function x(F,Q){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):Q.toString(36)}function Re(F,Q,Ce,Pe,xe){var Ve=typeof F;(Ve==="undefined"||Ve==="boolean")&&(F=null);var Ue=!1;if(F===null)Ue=!0;else switch(Ve){case"string":case"number":Ue=!0;break;case"object":switch(F.$$typeof){case t:case e:Ue=!0}}if(Ue)return Ue=F,xe=xe(Ue),F=Pe===""?"."+x(Ue,0):Pe,re(xe)?(Ce="",F!=null&&(Ce=F.replace(b,"$&/")+"/"),Re(xe,Q,Ce,"",function(Kt){return Kt})):xe!=null&&(k(xe)&&(xe=C(xe,Ce+(!xe.key||Ue&&Ue.key===xe.key?"":(""+xe.key).replace(b,"$&/")+"/")+F)),Q.push(xe)),1;if(Ue=0,Pe=Pe===""?".":Pe+":",re(F))for(var Oe=0;Oe<F.length;Oe++){Ve=F[Oe];var He=Pe+x(Ve,Oe);Ue+=Re(Ve,Q,Ce,He,xe)}else if(He=T(F),typeof He=="function")for(F=He.call(F),Oe=0;!(Ve=F.next()).done;)Ve=Ve.value,He=Pe+x(Ve,Oe++),Ue+=Re(Ve,Q,Ce,He,xe);else if(Ve==="object")throw Q=String(F),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ue}function ze(F,Q,Ce){if(F==null)return F;var Pe=[],xe=0;return Re(F,Pe,"","",function(Ve){return Q.call(Ce,Ve,xe++)}),Pe}function Je(F){if(F._status===-1){var Q=F._result;Q=Q(),Q.then(function(Ce){(F._status===0||F._status===-1)&&(F._status=1,F._result=Ce)},function(Ce){(F._status===0||F._status===-1)&&(F._status=2,F._result=Ce)}),F._status===-1&&(F._status=0,F._result=Q)}if(F._status===1)return F._result.default;throw F._result}var we={current:null},ee={transition:null},ue={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:ee,ReactCurrentOwner:ie};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:ze,forEach:function(F,Q,Ce){ze(F,function(){Q.apply(this,arguments)},Ce)},count:function(F){var Q=0;return ze(F,function(){Q++}),Q},toArray:function(F){return ze(F,function(Q){return Q})||[]},only:function(F){if(!k(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ie.Component=D,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=$,Ie.StrictMode=i,Ie.Suspense=d,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ie.act=oe,Ie.cloneElement=function(F,Q,Ce){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Pe=L({},F.props),xe=F.key,Ve=F.ref,Ue=F._owner;if(Q!=null){if(Q.ref!==void 0&&(Ve=Q.ref,Ue=ie.current),Q.key!==void 0&&(xe=""+Q.key),F.type&&F.type.defaultProps)var Oe=F.type.defaultProps;for(He in Q)te.call(Q,He)&&!R.hasOwnProperty(He)&&(Pe[He]=Q[He]===void 0&&Oe!==void 0?Oe[He]:Q[He])}var He=arguments.length-2;if(He===1)Pe.children=Ce;else if(1<He){Oe=Array(He);for(var Kt=0;Kt<He;Kt++)Oe[Kt]=arguments[Kt+2];Pe.children=Oe}return{$$typeof:t,type:F.type,key:xe,ref:Ve,props:Pe,_owner:Ue}},Ie.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},Ie.createElement=A,Ie.createFactory=function(F){var Q=A.bind(null,F);return Q.type=F,Q},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(F){return{$$typeof:f,render:F}},Ie.isValidElement=k,Ie.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:Je}},Ie.memo=function(F,Q){return{$$typeof:m,type:F,compare:Q===void 0?null:Q}},Ie.startTransition=function(F){var Q=ee.transition;ee.transition={};try{F()}finally{ee.transition=Q}},Ie.unstable_act=oe,Ie.useCallback=function(F,Q){return we.current.useCallback(F,Q)},Ie.useContext=function(F){return we.current.useContext(F)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(F){return we.current.useDeferredValue(F)},Ie.useEffect=function(F,Q){return we.current.useEffect(F,Q)},Ie.useId=function(){return we.current.useId()},Ie.useImperativeHandle=function(F,Q,Ce){return we.current.useImperativeHandle(F,Q,Ce)},Ie.useInsertionEffect=function(F,Q){return we.current.useInsertionEffect(F,Q)},Ie.useLayoutEffect=function(F,Q){return we.current.useLayoutEffect(F,Q)},Ie.useMemo=function(F,Q){return we.current.useMemo(F,Q)},Ie.useReducer=function(F,Q,Ce){return we.current.useReducer(F,Q,Ce)},Ie.useRef=function(F){return we.current.useRef(F)},Ie.useState=function(F){return we.current.useState(F)},Ie.useSyncExternalStore=function(F,Q,Ce){return we.current.useSyncExternalStore(F,Q,Ce)},Ie.useTransition=function(){return we.current.useTransition()},Ie.version="18.3.1",Ie}var Ay;function jc(){return Ay||(Ay=1,Mf.exports=GT()),Mf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function QT(){if(Cy)return za;Cy=1;var t=jc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,d,m){var v,E={},T=null,P=null;m!==void 0&&(T=""+m),d.key!==void 0&&(T=""+d.key),d.ref!==void 0&&(P=d.ref);for(v in d)i.call(d,v)&&!l.hasOwnProperty(v)&&(E[v]=d[v]);if(f&&f.defaultProps)for(v in d=f.defaultProps,d)E[v]===void 0&&(E[v]=d[v]);return{$$typeof:e,type:f,key:T,ref:P,props:E,_owner:o.current}}return za.Fragment=n,za.jsx=u,za.jsxs=u,za}var Py;function o_(){return Py||(Py=1,Df.exports=QT()),Df.exports}var Nr=o_(),B=jc();const gs=s_(B);var Gu={},Nf={exports:{}},tn={},Lf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function XT(){return Iy||(Iy=1,(function(t){function e(ee,ue){var oe=ee.length;ee.push(ue);e:for(;0<oe;){var F=oe-1>>>1,Q=ee[F];if(0<o(Q,ue))ee[F]=ue,ee[oe]=Q,oe=F;else break e}}function n(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var ue=ee[0],oe=ee.pop();if(oe!==ue){ee[0]=oe;e:for(var F=0,Q=ee.length,Ce=Q>>>1;F<Ce;){var Pe=2*(F+1)-1,xe=ee[Pe],Ve=Pe+1,Ue=ee[Ve];if(0>o(xe,oe))Ve<Q&&0>o(Ue,xe)?(ee[F]=Ue,ee[Ve]=oe,F=Ve):(ee[F]=xe,ee[Pe]=oe,F=Pe);else if(Ve<Q&&0>o(Ue,oe))ee[F]=Ue,ee[Ve]=oe,F=Ve;else break e}}return ue}function o(ee,ue){var oe=ee.sortIndex-ue.sortIndex;return oe!==0?oe:ee.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],m=[],v=1,E=null,T=3,P=!1,L=!1,O=!1,D=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ee){for(var ue=n(m);ue!==null;){if(ue.callback===null)i(m);else if(ue.startTime<=ee)i(m),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=n(m)}}function re(ee){if(O=!1,q(ee),!L)if(n(d)!==null)L=!0,Je(te);else{var ue=n(m);ue!==null&&we(re,ue.startTime-ee)}}function te(ee,ue){L=!1,O&&(O=!1,z(A),A=-1),P=!0;var oe=T;try{for(q(ue),E=n(d);E!==null&&(!(E.expirationTime>ue)||ee&&!V());){var F=E.callback;if(typeof F=="function"){E.callback=null,T=E.priorityLevel;var Q=F(E.expirationTime<=ue);ue=t.unstable_now(),typeof Q=="function"?E.callback=Q:E===n(d)&&i(d),q(ue)}else i(d);E=n(d)}if(E!==null)var Ce=!0;else{var Pe=n(m);Pe!==null&&we(re,Pe.startTime-ue),Ce=!1}return Ce}finally{E=null,T=oe,P=!1}}var ie=!1,R=null,A=-1,C=5,k=-1;function V(){return!(t.unstable_now()-k<C)}function b(){if(R!==null){var ee=t.unstable_now();k=ee;var ue=!0;try{ue=R(!0,ee)}finally{ue?x():(ie=!1,R=null)}}else ie=!1}var x;if(typeof $=="function")x=function(){$(b)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,ze=Re.port2;Re.port1.onmessage=b,x=function(){ze.postMessage(null)}}else x=function(){D(b,0)};function Je(ee){R=ee,ie||(ie=!0,x())}function we(ee,ue){A=D(function(){ee(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){L||P||(L=!0,Je(te))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ee){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var oe=T;T=ue;try{return ee()}finally{T=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,ue){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var oe=T;T=ee;try{return ue()}finally{T=oe}},t.unstable_scheduleCallback=function(ee,ue,oe){var F=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?F+oe:F):oe=F,ee){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=oe+Q,ee={id:v++,callback:ue,priorityLevel:ee,startTime:oe,expirationTime:Q,sortIndex:-1},oe>F?(ee.sortIndex=oe,e(m,ee),n(d)===null&&ee===n(m)&&(O?(z(A),A=-1):O=!0,we(re,oe-F))):(ee.sortIndex=Q,e(d,ee),L||P||(L=!0,Je(te))),ee},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(ee){var ue=T;return function(){var oe=T;T=ue;try{return ee.apply(this,arguments)}finally{T=oe}}}})(Of)),Of}var Ry;function YT(){return Ry||(Ry=1,Lf.exports=XT()),Lf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function JT(){if(xy)return tn;xy=1;var t=jc(),e=YT();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function T(r){return d.call(E,r)?!0:d.call(v,r)?!1:m.test(r)?E[r]=!0:(v[r]=!0,!1)}function P(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function L(r,s,a,h){if(s===null||typeof s>"u"||P(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(r,s,a,h,p,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){D[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];D[s]=new O(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){D[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){D[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){D[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){D[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){D[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){D[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){D[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function $(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(z,$);D[s]=new O(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(z,$);D[s]=new O(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(z,$);D[s]=new O(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){D[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),D.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){D[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function q(r,s,a,h){var p=D.hasOwnProperty(s)?D[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,a,p,h)&&(a=null),h||p===null?T(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(s=p.attributeName,h=p.attributeNamespace,a===null?r.removeAttribute(s):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var re=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),ie=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),V=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ue(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,F;function Q(r){if(F===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+r}var Ce=!1;function Pe(r,s){if(!r||Ce)return"";Ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var h=W}Reflect.construct(r,[],s)}else{try{s.call()}catch(W){h=W}r.call(s.prototype)}else{try{throw Error()}catch(W){h=W}r()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var p=W.stack.split(`
`),g=h.stack.split(`
`),w=p.length-1,I=g.length-1;1<=w&&0<=I&&p[w]!==g[I];)I--;for(;1<=w&&0<=I;w--,I--)if(p[w]!==g[I]){if(w!==1||I!==1)do if(w--,I--,0>I||p[w]!==g[I]){var M=`
`+p[w].replace(" at new "," at ");return r.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",r.displayName)),M}while(1<=w&&0<=I);break}}}finally{Ce=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Q(r):""}function xe(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function Ve(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case ie:return"Portal";case C:return"Profiler";case A:return"StrictMode";case x:return"Suspense";case Re:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case k:return(r._context.displayName||"Context")+".Provider";case b:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ze:return s=r.displayName||null,s!==null?s:Ve(r.type)||"Memo";case Je:s=r._payload,r=r._init;try{return Ve(r(s))}catch{}}return null}function Ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Oe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function He(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Kt(r){var s=He(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Is(r){r._valueTracker||(r._valueTracker=Kt(r))}function Go(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=He(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Hr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Rs(r,s){var a=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ml(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Oe(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function xs(r,s){s=s.checked,s!=null&&q(r,"checked",s,!1)}function bi(r,s){xs(r,s);var a=Oe(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?pt(r,s.type,a):s.hasOwnProperty("defaultValue")&&pt(r,s.type,Oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Qo(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function pt(r,s,a){(s!=="number"||Hr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var ut=Array.isArray;function xn(r,s,a,h){if(r=r.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=s.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Oe(a),s=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Xo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Yo(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(ut(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Oe(a)}}function Nl(r,s){var a=Oe(s.value),h=Oe(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Wr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Jo(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vs(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Jo(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Kr,Ll=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Kr=Kr||document.createElement("div"),Kr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Kr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Fi(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ol=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(r){Ol.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),qr[s]=qr[r]})});function Gr(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||qr.hasOwnProperty(r)&&qr[r]?(""+s).trim():s+"px"}function ks(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,p=Gr(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,p):r[a]=p}}var Zo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vn(r,s){if(s){if(Zo[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Ds(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qr=null;function Ms(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var gr=null,yr=null,ot=null;function ea(r){if(r=Ia(r)){if(typeof gr!="function")throw Error(n(280));var s=r.stateNode;s&&(s=uu(s),gr(r.stateNode,r.type,s))}}function Xr(r){yr?ot?ot.push(r):ot=[r]:yr=r}function Yr(){if(yr){var r=yr,s=ot;if(ot=yr=null,ea(r),s)for(r=0;r<s.length;r++)ea(s[r])}}function bl(r,s){return r(s)}function Fl(){}var zn=!1;function Bl(r,s,a){if(zn)return r(s,a);zn=!0;try{return bl(r,s,a)}finally{zn=!1,(yr!==null||ot!==null)&&(Fl(),Yr())}}function Bi(r,s){var a=r.stateNode;if(a===null)return null;var h=uu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var Jr=!1;if(f)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){Jr=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{Jr=!1}function Ul(r,s,a,h,p,g,w,I,M){var W=Array.prototype.slice.call(arguments,3);try{s.apply(a,W)}catch(J){this.onError(J)}}var vr=!1,$n=null,Ns=!1,mn=null,jl={onError:function(r){vr=!0,$n=r}};function zl(r,s,a,h,p,g,w,I,M){vr=!1,$n=null,Ul.apply(jl,arguments)}function ta(r,s,a,h,p,g,w,I,M){if(zl.apply(this,arguments),vr){if(vr){var W=$n;vr=!1,$n=null}else throw Error(n(198));Ns||(Ns=!0,mn=W)}}function kn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function na(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function $l(r){if(kn(r)!==r)throw Error(n(188))}function Hl(r){var s=r.alternate;if(!s){if(s=kn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,h=s;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(h=p.return,h!==null){a=h;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return $l(p),r;if(g===h)return $l(p),s;g=g.sibling}throw Error(n(188))}if(a.return!==h.return)a=p,h=g;else{for(var w=!1,I=p.child;I;){if(I===a){w=!0,a=p,h=g;break}if(I===h){w=!0,h=p,a=g;break}I=I.sibling}if(!w){for(I=g.child;I;){if(I===a){w=!0,a=g,h=p;break}if(I===h){w=!0,h=g,a=p;break}I=I.sibling}if(!w)throw Error(n(189))}}if(a.alternate!==h)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function Wl(r){return r=Hl(r),r!==null?Ui(r):null}function Ui(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ui(r);if(s!==null)return s;r=r.sibling}return null}var ra=e.unstable_scheduleCallback,Ls=e.unstable_cancelCallback,ji=e.unstable_shouldYield,_r=e.unstable_requestPaint,qe=e.unstable_now,lh=e.unstable_getCurrentPriorityLevel,Os=e.unstable_ImmediatePriority,ia=e.unstable_UserBlockingPriority,zi=e.unstable_NormalPriority,sa=e.unstable_LowPriority,bs=e.unstable_IdlePriority,$i=null,on=null;function Kl(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot($i,r,void 0,(r.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:Hi,Hn=Math.log,gn=Math.LN2;function Hi(r){return r>>>=0,r===0?32:31-(Hn(r)/gn|0)|0}var Wn=64,ei=4194304;function Be(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Er(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,p=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var I=w&~p;I!==0?h=Be(I):(g&=w,g!==0&&(h=Be(g)))}else w=a&~p,w!==0?h=Be(w):g!==0&&(h=Be(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-an(s),p=1<<a,h|=r[a],s&=~p;return h}function Wi(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ki(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-an(g),I=1<<w,M=p[w];M===-1?((I&a)===0||(I&h)!==0)&&(p[w]=Wi(I,s)):M<=s&&(r.expiredLanes|=I),g&=~I}}function oa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function aa(){var r=Wn;return Wn<<=1,(Wn&4194240)===0&&(Wn=64),r}function la(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function qi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-an(s),r[s]=a}function uh(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-an(a),g=1<<p;s[p]=0,h[p]=-1,r[p]=-1,a&=~g}}function ua(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-an(a),p=1<<h;p&s|r[h]&s&&(r[h]|=s),a&=~p}}var Me=0;function Kn(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ca,Fs,ha,fa,da,qn=!1,Bs=[],Gn=null,Qn=null,Rt=null,Gi=new Map,wr=new Map,ln=[],ql="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ti(r,s){switch(r){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Gi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wr.delete(s.pointerId)}}function Dn(r,s,a,h,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Ia(s),s!==null&&Fs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Gl(r,s,a,h,p){switch(s){case"focusin":return Gn=Dn(Gn,r,s,a,h,p),!0;case"dragenter":return Qn=Dn(Qn,r,s,a,h,p),!0;case"mouseover":return Rt=Dn(Rt,r,s,a,h,p),!0;case"pointerover":var g=p.pointerId;return Gi.set(g,Dn(Gi.get(g)||null,r,s,a,h,p)),!0;case"gotpointercapture":return g=p.pointerId,wr.set(g,Dn(wr.get(g)||null,r,s,a,h,p)),!0}return!1}function Us(r){var s=Ji(r.target);if(s!==null){var a=kn(s);if(a!==null){if(s=a.tag,s===13){if(s=na(a),s!==null){r.blockedOn=s,da(r.priority,function(){ha(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function We(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=js(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Qr=h,a.target.dispatchEvent(h),Qr=null}else return s=Ia(a),s!==null&&Fs(s),r.blockedOn=a,!1;s.shift()}return!0}function Ql(r,s,a){We(r)&&a.delete(s)}function ch(){qn=!1,Gn!==null&&We(Gn)&&(Gn=null),Qn!==null&&We(Qn)&&(Qn=null),Rt!==null&&We(Rt)&&(Rt=null),Gi.forEach(Ql),wr.forEach(Ql)}function ni(r,s){r.blockedOn===s&&(r.blockedOn=null,qn||(qn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ch)))}function ri(r){function s(p){return ni(p,r)}if(0<Bs.length){ni(Bs[0],r);for(var a=1;a<Bs.length;a++){var h=Bs[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Gn!==null&&ni(Gn,r),Qn!==null&&ni(Qn,r),Rt!==null&&ni(Rt,r),Gi.forEach(s),wr.forEach(s),a=0;a<ln.length;a++)h=ln[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<ln.length&&(a=ln[0],a.blockedOn===null);)Us(a),a.blockedOn===null&&ln.shift()}var Tr=re.ReactCurrentBatchConfig,Sr=!0;function Xn(r,s,a,h){var p=Me,g=Tr.transition;Tr.transition=null;try{Me=1,pa(r,s,a,h)}finally{Me=p,Tr.transition=g}}function Xl(r,s,a,h){var p=Me,g=Tr.transition;Tr.transition=null;try{Me=4,pa(r,s,a,h)}finally{Me=p,Tr.transition=g}}function pa(r,s,a,h){if(Sr){var p=js(r,s,a,h);if(p===null)wh(r,s,h,Yn,a),ti(r,h);else if(Gl(p,r,s,a,h))h.stopPropagation();else if(ti(r,h),s&4&&-1<ql.indexOf(r)){for(;p!==null;){var g=Ia(p);if(g!==null&&ca(g),g=js(r,s,a,h),g===null&&wh(r,s,h,Yn,a),g===p)break;p=g}p!==null&&h.stopPropagation()}else wh(r,s,h,null,a)}}var Yn=null;function js(r,s,a,h){if(Yn=null,r=Ms(h),r=Ji(r),r!==null)if(s=kn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=na(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Yn=r,null}function zs(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lh()){case Os:return 1;case ia:return 4;case zi:case sa:return 16;case bs:return 536870912;default:return 16}default:return 16}}var un=null,$s=null,Ar=null;function Yl(){if(Ar)return Ar;var r,s=$s,a=s.length,h,p="value"in un?un.value:un.textContent,g=p.length;for(r=0;r<a&&s[r]===p[r];r++);var w=a-r;for(h=1;h<=w&&s[a-h]===p[g-h];h++);return Ar=p.slice(r,1<h?1-h:void 0)}function Qi(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Jn(){return!0}function ma(){return!1}function bt(r){function s(a,h,p,g,w){this._reactName=a,this._targetInst=p,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(a=r[I],this[I]=a?a(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Jn:ma,this.isPropagationStopped=ma,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),s}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=bt(Zn),ii=oe({},Zn,{view:0,detail:0}),Hs=bt(ii),Ws,Ks,cn,Yi=oe({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Se,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==cn&&(cn&&r.type==="mousemove"?(Ws=r.screenX-cn.screenX,Ks=r.screenY-cn.screenY):Ks=Ws=0,cn=r),Ws)},movementY:function(r){return"movementY"in r?r.movementY:Ks}}),ga=bt(Yi),Jl=oe({},Yi,{dataTransfer:0}),Zl=bt(Jl),qs=oe({},ii,{relatedTarget:0}),xt=bt(qs),eu=oe({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=bt(eu),si=oe({},Zn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),c=bt(si),y=oe({},Zn,{data:0}),_=bt(y),S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function se(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=K[r])?!!s[r]:!1}function Se(){return se}var ct=oe({},ii,{key:function(r){if(r.key){var s=S[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Qi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?j[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Se,charCode:function(r){return r.type==="keypress"?Qi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Qi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$e=bt(ct),mt=oe({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hn=bt(mt),Cr=oe({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Se}),er=bt(Cr),tr=oe({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gs=bt(tr),ya=oe({},Yi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),zw=bt(ya),$w=[9,13,27,32],hh=f&&"CompositionEvent"in window,va=null;f&&"documentMode"in document&&(va=document.documentMode);var Hw=f&&"TextEvent"in window&&!va,mm=f&&(!hh||va&&8<va&&11>=va),gm=" ",ym=!1;function vm(r,s){switch(r){case"keyup":return $w.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _m(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Qs=!1;function Ww(r,s){switch(r){case"compositionend":return _m(s);case"keypress":return s.which!==32?null:(ym=!0,gm);case"textInput":return r=s.data,r===gm&&ym?null:r;default:return null}}function Kw(r,s){if(Qs)return r==="compositionend"||!hh&&vm(r,s)?(r=Yl(),Ar=$s=un=null,Qs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return mm&&s.locale!=="ko"?null:s.data;default:return null}}var qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Em(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!qw[r.type]:s==="textarea"}function wm(r,s,a,h){Xr(h),s=ou(s,"onChange"),0<s.length&&(a=new Xi("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var _a=null,Ea=null;function Gw(r){Bm(r,0)}function nu(r){var s=eo(r);if(Go(s))return r}function Qw(r,s){if(r==="change")return s}var Tm=!1;if(f){var fh;if(f){var dh="oninput"in document;if(!dh){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),dh=typeof Sm.oninput=="function"}fh=dh}else fh=!1;Tm=fh&&(!document.documentMode||9<document.documentMode)}function Am(){_a&&(_a.detachEvent("onpropertychange",Cm),Ea=_a=null)}function Cm(r){if(r.propertyName==="value"&&nu(Ea)){var s=[];wm(s,Ea,r,Ms(r)),Bl(Gw,s)}}function Xw(r,s,a){r==="focusin"?(Am(),_a=s,Ea=a,_a.attachEvent("onpropertychange",Cm)):r==="focusout"&&Am()}function Yw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return nu(Ea)}function Jw(r,s){if(r==="click")return nu(s)}function Zw(r,s){if(r==="input"||r==="change")return nu(s)}function eT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Mn=typeof Object.is=="function"?Object.is:eT;function wa(r,s){if(Mn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var p=a[h];if(!d.call(s,p)||!Mn(r[p],s[p]))return!1}return!0}function Pm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Im(r,s){var a=Pm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pm(a)}}function Rm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Rm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function xm(){for(var r=window,s=Hr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Hr(r.document)}return s}function ph(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function tT(r){var s=xm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Rm(a.ownerDocument.documentElement,a)){if(h!==null&&ph(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,g=Math.min(h.start,p);h=h.end===void 0?g:Math.min(h.end,p),!r.extend&&g>h&&(p=h,h=g,g=p),p=Im(a,g);var w=Im(a,h);p&&w&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var nT=f&&"documentMode"in document&&11>=document.documentMode,Xs=null,mh=null,Ta=null,gh=!1;function Vm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gh||Xs==null||Xs!==Hr(h)||(h=Xs,"selectionStart"in h&&ph(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ta&&wa(Ta,h)||(Ta=h,h=ou(mh,"onSelect"),0<h.length&&(s=new Xi("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Xs)))}function ru(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ys={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionend:ru("Transition","TransitionEnd")},yh={},km={};f&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function iu(r){if(yh[r])return yh[r];if(!Ys[r])return r;var s=Ys[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in km)return yh[r]=s[a];return r}var Dm=iu("animationend"),Mm=iu("animationiteration"),Nm=iu("animationstart"),Lm=iu("transitionend"),Om=new Map,bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(r,s){Om.set(r,s),l(s,[r])}for(var vh=0;vh<bm.length;vh++){var _h=bm[vh],rT=_h.toLowerCase(),iT=_h[0].toUpperCase()+_h.slice(1);oi(rT,"on"+iT)}oi(Dm,"onAnimationEnd"),oi(Mm,"onAnimationIteration"),oi(Nm,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(Lm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function Fm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,ta(h,s,void 0,r),r.currentTarget=null}function Bm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],p=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var I=h[w],M=I.instance,W=I.currentTarget;if(I=I.listener,M!==g&&p.isPropagationStopped())break e;Fm(p,I,W),g=M}else for(w=0;w<h.length;w++){if(I=h[w],M=I.instance,W=I.currentTarget,I=I.listener,M!==g&&p.isPropagationStopped())break e;Fm(p,I,W),g=M}}}if(Ns)throw r=mn,Ns=!1,mn=null,r}function Ge(r,s){var a=s[Ih];a===void 0&&(a=s[Ih]=new Set);var h=r+"__bubble";a.has(h)||(Um(s,r,2,!1),a.add(h))}function Eh(r,s,a){var h=0;s&&(h|=4),Um(a,r,h,s)}var su="_reactListening"+Math.random().toString(36).slice(2);function Aa(r){if(!r[su]){r[su]=!0,i.forEach(function(a){a!=="selectionchange"&&(sT.has(a)||Eh(a,!1,r),Eh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[su]||(s[su]=!0,Eh("selectionchange",!1,s))}}function Um(r,s,a,h){switch(zs(s)){case 1:var p=Xn;break;case 4:p=Xl;break;default:p=pa}a=p.bind(null,s,a,r),p=void 0,!Jr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,a,{capture:!0,passive:p}):r.addEventListener(s,a,!0):p!==void 0?r.addEventListener(s,a,{passive:p}):r.addEventListener(s,a,!1)}function wh(r,s,a,h,p){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var I=h.stateNode.containerInfo;if(I===p||I.nodeType===8&&I.parentNode===p)break;if(w===4)for(w=h.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;w=w.return}for(;I!==null;){if(w=Ji(I),w===null)return;if(M=w.tag,M===5||M===6){h=g=w;continue e}I=I.parentNode}}h=h.return}Bl(function(){var W=g,J=Ms(a),Z=[];e:{var X=Om.get(r);if(X!==void 0){var ae=Xi,he=r;switch(r){case"keypress":if(Qi(a)===0)break e;case"keydown":case"keyup":ae=$e;break;case"focusin":he="focus",ae=xt;break;case"focusout":he="blur",ae=xt;break;case"beforeblur":case"afterblur":ae=xt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Zl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=er;break;case Dm:case Mm:case Nm:ae=tu;break;case Lm:ae=Gs;break;case"scroll":ae=Hs;break;case"wheel":ae=zw;break;case"copy":case"cut":case"paste":ae=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=hn}var fe=(s&4)!==0,ht=!fe&&r==="scroll",U=fe?X!==null?X+"Capture":null:X;fe=[];for(var N=W,H;N!==null;){H=N;var ne=H.stateNode;if(H.tag===5&&ne!==null&&(H=ne,U!==null&&(ne=Bi(N,U),ne!=null&&fe.push(Ca(N,ne,H)))),ht)break;N=N.return}0<fe.length&&(X=new ae(X,he,null,a,J),Z.push({event:X,listeners:fe}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",X&&a!==Qr&&(he=a.relatedTarget||a.fromElement)&&(Ji(he)||he[Pr]))break e;if((ae||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,ae?(he=a.relatedTarget||a.toElement,ae=W,he=he?Ji(he):null,he!==null&&(ht=kn(he),he!==ht||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=W),ae!==he)){if(fe=ga,ne="onMouseLeave",U="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(fe=hn,ne="onPointerLeave",U="onPointerEnter",N="pointer"),ht=ae==null?X:eo(ae),H=he==null?X:eo(he),X=new fe(ne,N+"leave",ae,a,J),X.target=ht,X.relatedTarget=H,ne=null,Ji(J)===W&&(fe=new fe(U,N+"enter",he,a,J),fe.target=H,fe.relatedTarget=ht,ne=fe),ht=ne,ae&&he)t:{for(fe=ae,U=he,N=0,H=fe;H;H=Js(H))N++;for(H=0,ne=U;ne;ne=Js(ne))H++;for(;0<N-H;)fe=Js(fe),N--;for(;0<H-N;)U=Js(U),H--;for(;N--;){if(fe===U||U!==null&&fe===U.alternate)break t;fe=Js(fe),U=Js(U)}fe=null}else fe=null;ae!==null&&jm(Z,X,ae,fe,!1),he!==null&&ht!==null&&jm(Z,ht,he,fe,!0)}}e:{if(X=W?eo(W):window,ae=X.nodeName&&X.nodeName.toLowerCase(),ae==="select"||ae==="input"&&X.type==="file")var de=Qw;else if(Em(X))if(Tm)de=Zw;else{de=Yw;var ge=Xw}else(ae=X.nodeName)&&ae.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(de=Jw);if(de&&(de=de(r,W))){wm(Z,de,a,J);break e}ge&&ge(r,X,W),r==="focusout"&&(ge=X._wrapperState)&&ge.controlled&&X.type==="number"&&pt(X,"number",X.value)}switch(ge=W?eo(W):window,r){case"focusin":(Em(ge)||ge.contentEditable==="true")&&(Xs=ge,mh=W,Ta=null);break;case"focusout":Ta=mh=Xs=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,Vm(Z,a,J);break;case"selectionchange":if(nT)break;case"keydown":case"keyup":Vm(Z,a,J)}var ye;if(hh)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Qs?vm(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(mm&&a.locale!=="ko"&&(Qs||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Qs&&(ye=Yl()):(un=J,$s="value"in un?un.value:un.textContent,Qs=!0)),ge=ou(W,Ee),0<ge.length&&(Ee=new _(Ee,r,null,a,J),Z.push({event:Ee,listeners:ge}),ye?Ee.data=ye:(ye=_m(a),ye!==null&&(Ee.data=ye)))),(ye=Hw?Ww(r,a):Kw(r,a))&&(W=ou(W,"onBeforeInput"),0<W.length&&(J=new _("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:W}),J.data=ye))}Bm(Z,s)})}function Ca(r,s,a){return{instance:r,listener:s,currentTarget:a}}function ou(r,s){for(var a=s+"Capture",h=[];r!==null;){var p=r,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=Bi(r,a),g!=null&&h.unshift(Ca(r,g,p)),g=Bi(r,s),g!=null&&h.push(Ca(r,g,p))),r=r.return}return h}function Js(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function jm(r,s,a,h,p){for(var g=s._reactName,w=[];a!==null&&a!==h;){var I=a,M=I.alternate,W=I.stateNode;if(M!==null&&M===h)break;I.tag===5&&W!==null&&(I=W,p?(M=Bi(a,g),M!=null&&w.unshift(Ca(a,M,I))):p||(M=Bi(a,g),M!=null&&w.push(Ca(a,M,I)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var oT=/\r\n?/g,aT=/\u0000|\uFFFD/g;function zm(r){return(typeof r=="string"?r:""+r).replace(oT,`
`).replace(aT,"")}function au(r,s,a){if(s=zm(s),zm(r)!==s&&a)throw Error(n(425))}function lu(){}var Th=null,Sh=null;function Ah(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ch=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,$m=typeof Promise=="function"?Promise:void 0,uT=typeof queueMicrotask=="function"?queueMicrotask:typeof $m<"u"?function(r){return $m.resolve(null).then(r).catch(cT)}:Ch;function cT(r){setTimeout(function(){throw r})}function Ph(r,s){var a=s,h=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(h===0){r.removeChild(p),ri(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=p}while(a);ri(s)}function ai(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Hm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),nr="__reactFiber$"+Zs,Pa="__reactProps$"+Zs,Pr="__reactContainer$"+Zs,Ih="__reactEvents$"+Zs,hT="__reactListeners$"+Zs,fT="__reactHandles$"+Zs;function Ji(r){var s=r[nr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Pr]||a[nr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Hm(r);r!==null;){if(a=r[nr])return a;r=Hm(r)}return s}r=a,a=r.parentNode}return null}function Ia(r){return r=r[nr]||r[Pr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function eo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function uu(r){return r[Pa]||null}var Rh=[],to=-1;function li(r){return{current:r}}function Qe(r){0>to||(r.current=Rh[to],Rh[to]=null,to--)}function Ke(r,s){to++,Rh[to]=r.current,r.current=s}var ui={},Ft=li(ui),Xt=li(!1),Zi=ui;function no(r,s){var a=r.type.contextTypes;if(!a)return ui;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in a)p[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function Yt(r){return r=r.childContextTypes,r!=null}function cu(){Qe(Xt),Qe(Ft)}function Wm(r,s,a){if(Ft.current!==ui)throw Error(n(168));Ke(Ft,s),Ke(Xt,a)}function Km(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(n(108,Ue(r)||"Unknown",p));return oe({},a,h)}function hu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ui,Zi=Ft.current,Ke(Ft,r),Ke(Xt,Xt.current),!0}function qm(r,s,a){var h=r.stateNode;if(!h)throw Error(n(169));a?(r=Km(r,s,Zi),h.__reactInternalMemoizedMergedChildContext=r,Qe(Xt),Qe(Ft),Ke(Ft,r)):Qe(Xt),Ke(Xt,a)}var Ir=null,fu=!1,xh=!1;function Gm(r){Ir===null?Ir=[r]:Ir.push(r)}function dT(r){fu=!0,Gm(r)}function ci(){if(!xh&&Ir!==null){xh=!0;var r=0,s=Me;try{var a=Ir;for(Me=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Ir=null,fu=!1}catch(p){throw Ir!==null&&(Ir=Ir.slice(r+1)),ra(Os,ci),p}finally{Me=s,xh=!1}}return null}var ro=[],io=0,du=null,pu=0,yn=[],vn=0,es=null,Rr=1,xr="";function ts(r,s){ro[io++]=pu,ro[io++]=du,du=r,pu=s}function Qm(r,s,a){yn[vn++]=Rr,yn[vn++]=xr,yn[vn++]=es,es=r;var h=Rr;r=xr;var p=32-an(h)-1;h&=~(1<<p),a+=1;var g=32-an(s)+p;if(30<g){var w=p-p%5;g=(h&(1<<w)-1).toString(32),h>>=w,p-=w,Rr=1<<32-an(s)+p|a<<p|h,xr=g+r}else Rr=1<<g|a<<p|h,xr=r}function Vh(r){r.return!==null&&(ts(r,1),Qm(r,1,0))}function kh(r){for(;r===du;)du=ro[--io],ro[io]=null,pu=ro[--io],ro[io]=null;for(;r===es;)es=yn[--vn],yn[vn]=null,xr=yn[--vn],yn[vn]=null,Rr=yn[--vn],yn[vn]=null}var fn=null,dn=null,Ze=!1,Nn=null;function Xm(r,s){var a=Tn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Ym(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,fn=r,dn=ai(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,fn=r,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=es!==null?{id:Rr,overflow:xr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Tn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,fn=r,dn=null,!0):!1;default:return!1}}function Dh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Mh(r){if(Ze){var s=dn;if(s){var a=s;if(!Ym(r,s)){if(Dh(r))throw Error(n(418));s=ai(a.nextSibling);var h=fn;s&&Ym(r,s)?Xm(h,a):(r.flags=r.flags&-4097|2,Ze=!1,fn=r)}}else{if(Dh(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ze=!1,fn=r}}}function Jm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;fn=r}function mu(r){if(r!==fn)return!1;if(!Ze)return Jm(r),Ze=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ah(r.type,r.memoizedProps)),s&&(s=dn)){if(Dh(r))throw Zm(),Error(n(418));for(;s;)Xm(r,s),s=ai(s.nextSibling)}if(Jm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){dn=ai(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}dn=null}}else dn=fn?ai(r.stateNode.nextSibling):null;return!0}function Zm(){for(var r=dn;r;)r=ai(r.nextSibling)}function so(){dn=fn=null,Ze=!1}function Nh(r){Nn===null?Nn=[r]:Nn.push(r)}var pT=re.ReactCurrentBatchConfig;function Ra(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var h=a.stateNode}if(!h)throw Error(n(147,r));var p=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var I=p.refs;w===null?delete I[g]:I[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function gu(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function eg(r){var s=r._init;return s(r._payload)}function tg(r){function s(U,N){if(r){var H=U.deletions;H===null?(U.deletions=[N],U.flags|=16):H.push(N)}}function a(U,N){if(!r)return null;for(;N!==null;)s(U,N),N=N.sibling;return null}function h(U,N){for(U=new Map;N!==null;)N.key!==null?U.set(N.key,N):U.set(N.index,N),N=N.sibling;return U}function p(U,N){return U=vi(U,N),U.index=0,U.sibling=null,U}function g(U,N,H){return U.index=H,r?(H=U.alternate,H!==null?(H=H.index,H<N?(U.flags|=2,N):H):(U.flags|=2,N)):(U.flags|=1048576,N)}function w(U){return r&&U.alternate===null&&(U.flags|=2),U}function I(U,N,H,ne){return N===null||N.tag!==6?(N=Pf(H,U.mode,ne),N.return=U,N):(N=p(N,H),N.return=U,N)}function M(U,N,H,ne){var de=H.type;return de===R?J(U,N,H.props.children,ne,H.key):N!==null&&(N.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Je&&eg(de)===N.type)?(ne=p(N,H.props),ne.ref=Ra(U,N,H),ne.return=U,ne):(ne=Uu(H.type,H.key,H.props,null,U.mode,ne),ne.ref=Ra(U,N,H),ne.return=U,ne)}function W(U,N,H,ne){return N===null||N.tag!==4||N.stateNode.containerInfo!==H.containerInfo||N.stateNode.implementation!==H.implementation?(N=If(H,U.mode,ne),N.return=U,N):(N=p(N,H.children||[]),N.return=U,N)}function J(U,N,H,ne,de){return N===null||N.tag!==7?(N=us(H,U.mode,ne,de),N.return=U,N):(N=p(N,H),N.return=U,N)}function Z(U,N,H){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Pf(""+N,U.mode,H),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case te:return H=Uu(N.type,N.key,N.props,null,U.mode,H),H.ref=Ra(U,null,N),H.return=U,H;case ie:return N=If(N,U.mode,H),N.return=U,N;case Je:var ne=N._init;return Z(U,ne(N._payload),H)}if(ut(N)||ue(N))return N=us(N,U.mode,H,null),N.return=U,N;gu(U,N)}return null}function X(U,N,H,ne){var de=N!==null?N.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return de!==null?null:I(U,N,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case te:return H.key===de?M(U,N,H,ne):null;case ie:return H.key===de?W(U,N,H,ne):null;case Je:return de=H._init,X(U,N,de(H._payload),ne)}if(ut(H)||ue(H))return de!==null?null:J(U,N,H,ne,null);gu(U,H)}return null}function ae(U,N,H,ne,de){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return U=U.get(H)||null,I(N,U,""+ne,de);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case te:return U=U.get(ne.key===null?H:ne.key)||null,M(N,U,ne,de);case ie:return U=U.get(ne.key===null?H:ne.key)||null,W(N,U,ne,de);case Je:var ge=ne._init;return ae(U,N,H,ge(ne._payload),de)}if(ut(ne)||ue(ne))return U=U.get(H)||null,J(N,U,ne,de,null);gu(N,ne)}return null}function he(U,N,H,ne){for(var de=null,ge=null,ye=N,Ee=N=0,Pt=null;ye!==null&&Ee<H.length;Ee++){ye.index>Ee?(Pt=ye,ye=null):Pt=ye.sibling;var Fe=X(U,ye,H[Ee],ne);if(Fe===null){ye===null&&(ye=Pt);break}r&&ye&&Fe.alternate===null&&s(U,ye),N=g(Fe,N,Ee),ge===null?de=Fe:ge.sibling=Fe,ge=Fe,ye=Pt}if(Ee===H.length)return a(U,ye),Ze&&ts(U,Ee),de;if(ye===null){for(;Ee<H.length;Ee++)ye=Z(U,H[Ee],ne),ye!==null&&(N=g(ye,N,Ee),ge===null?de=ye:ge.sibling=ye,ge=ye);return Ze&&ts(U,Ee),de}for(ye=h(U,ye);Ee<H.length;Ee++)Pt=ae(ye,U,Ee,H[Ee],ne),Pt!==null&&(r&&Pt.alternate!==null&&ye.delete(Pt.key===null?Ee:Pt.key),N=g(Pt,N,Ee),ge===null?de=Pt:ge.sibling=Pt,ge=Pt);return r&&ye.forEach(function(_i){return s(U,_i)}),Ze&&ts(U,Ee),de}function fe(U,N,H,ne){var de=ue(H);if(typeof de!="function")throw Error(n(150));if(H=de.call(H),H==null)throw Error(n(151));for(var ge=de=null,ye=N,Ee=N=0,Pt=null,Fe=H.next();ye!==null&&!Fe.done;Ee++,Fe=H.next()){ye.index>Ee?(Pt=ye,ye=null):Pt=ye.sibling;var _i=X(U,ye,Fe.value,ne);if(_i===null){ye===null&&(ye=Pt);break}r&&ye&&_i.alternate===null&&s(U,ye),N=g(_i,N,Ee),ge===null?de=_i:ge.sibling=_i,ge=_i,ye=Pt}if(Fe.done)return a(U,ye),Ze&&ts(U,Ee),de;if(ye===null){for(;!Fe.done;Ee++,Fe=H.next())Fe=Z(U,Fe.value,ne),Fe!==null&&(N=g(Fe,N,Ee),ge===null?de=Fe:ge.sibling=Fe,ge=Fe);return Ze&&ts(U,Ee),de}for(ye=h(U,ye);!Fe.done;Ee++,Fe=H.next())Fe=ae(ye,U,Ee,Fe.value,ne),Fe!==null&&(r&&Fe.alternate!==null&&ye.delete(Fe.key===null?Ee:Fe.key),N=g(Fe,N,Ee),ge===null?de=Fe:ge.sibling=Fe,ge=Fe);return r&&ye.forEach(function(qT){return s(U,qT)}),Ze&&ts(U,Ee),de}function ht(U,N,H,ne){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case te:e:{for(var de=H.key,ge=N;ge!==null;){if(ge.key===de){if(de=H.type,de===R){if(ge.tag===7){a(U,ge.sibling),N=p(ge,H.props.children),N.return=U,U=N;break e}}else if(ge.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Je&&eg(de)===ge.type){a(U,ge.sibling),N=p(ge,H.props),N.ref=Ra(U,ge,H),N.return=U,U=N;break e}a(U,ge);break}else s(U,ge);ge=ge.sibling}H.type===R?(N=us(H.props.children,U.mode,ne,H.key),N.return=U,U=N):(ne=Uu(H.type,H.key,H.props,null,U.mode,ne),ne.ref=Ra(U,N,H),ne.return=U,U=ne)}return w(U);case ie:e:{for(ge=H.key;N!==null;){if(N.key===ge)if(N.tag===4&&N.stateNode.containerInfo===H.containerInfo&&N.stateNode.implementation===H.implementation){a(U,N.sibling),N=p(N,H.children||[]),N.return=U,U=N;break e}else{a(U,N);break}else s(U,N);N=N.sibling}N=If(H,U.mode,ne),N.return=U,U=N}return w(U);case Je:return ge=H._init,ht(U,N,ge(H._payload),ne)}if(ut(H))return he(U,N,H,ne);if(ue(H))return fe(U,N,H,ne);gu(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,N!==null&&N.tag===6?(a(U,N.sibling),N=p(N,H),N.return=U,U=N):(a(U,N),N=Pf(H,U.mode,ne),N.return=U,U=N),w(U)):a(U,N)}return ht}var oo=tg(!0),ng=tg(!1),yu=li(null),vu=null,ao=null,Lh=null;function Oh(){Lh=ao=vu=null}function bh(r){var s=yu.current;Qe(yu),r._currentValue=s}function Fh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function lo(r,s){vu=r,Lh=ao=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Jt=!0),r.firstContext=null)}function _n(r){var s=r._currentValue;if(Lh!==r)if(r={context:r,memoizedValue:s,next:null},ao===null){if(vu===null)throw Error(n(308));ao=r,vu.dependencies={lanes:0,firstContext:r}}else ao=ao.next=r;return s}var ns=null;function Bh(r){ns===null?ns=[r]:ns.push(r)}function rg(r,s,a,h){var p=s.interleaved;return p===null?(a.next=a,Bh(s)):(a.next=p.next,p.next=a),s.interleaved=a,Vr(r,h)}function Vr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var hi=!1;function Uh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ig(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function kr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function fi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(be&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Vr(r,a)}return p=h.interleaved,p===null?(s.next=s,Bh(h)):(s.next=p.next,p.next=s),h.interleaved=s,Vr(r,a)}function _u(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,ua(r,a)}}function sg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?p=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?p=g=s:g=g.next=s}else p=g=s;a={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Eu(r,s,a,h){var p=r.updateQueue;hi=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var M=I,W=M.next;M.next=null,w===null?g=W:w.next=W,w=M;var J=r.alternate;J!==null&&(J=J.updateQueue,I=J.lastBaseUpdate,I!==w&&(I===null?J.firstBaseUpdate=W:I.next=W,J.lastBaseUpdate=M))}if(g!==null){var Z=p.baseState;w=0,J=W=M=null,I=g;do{var X=I.lane,ae=I.eventTime;if((h&X)===X){J!==null&&(J=J.next={eventTime:ae,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var he=r,fe=I;switch(X=s,ae=a,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){Z=he.call(ae,Z,X);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,X=typeof he=="function"?he.call(ae,Z,X):he,X==null)break e;Z=oe({},Z,X);break e;case 2:hi=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,X=p.effects,X===null?p.effects=[I]:X.push(I))}else ae={eventTime:ae,lane:X,tag:I.tag,payload:I.payload,callback:I.callback,next:null},J===null?(W=J=ae,M=Z):J=J.next=ae,w|=X;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;X=I,I=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);if(J===null&&(M=Z),p.baseState=M,p.firstBaseUpdate=W,p.lastBaseUpdate=J,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);ss|=w,r.lanes=w,r.memoizedState=Z}}function og(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=a,typeof p!="function")throw Error(n(191,p));p.call(h)}}}var xa={},rr=li(xa),Va=li(xa),ka=li(xa);function rs(r){if(r===xa)throw Error(n(174));return r}function jh(r,s){switch(Ke(ka,s),Ke(Va,r),Ke(rr,xa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Vs(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Vs(s,r)}Qe(rr),Ke(rr,s)}function uo(){Qe(rr),Qe(Va),Qe(ka)}function ag(r){rs(ka.current);var s=rs(rr.current),a=Vs(s,r.type);s!==a&&(Ke(Va,r),Ke(rr,a))}function zh(r){Va.current===r&&(Qe(rr),Qe(Va))}var tt=li(0);function wu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var $h=[];function Hh(){for(var r=0;r<$h.length;r++)$h[r]._workInProgressVersionPrimary=null;$h.length=0}var Tu=re.ReactCurrentDispatcher,Wh=re.ReactCurrentBatchConfig,is=0,nt=null,Et=null,At=null,Su=!1,Da=!1,Ma=0,mT=0;function Bt(){throw Error(n(321))}function Kh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Mn(r[a],s[a]))return!1;return!0}function qh(r,s,a,h,p,g){if(is=g,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Tu.current=r===null||r.memoizedState===null?_T:ET,r=a(h,p),Da){g=0;do{if(Da=!1,Ma=0,25<=g)throw Error(n(301));g+=1,At=Et=null,s.updateQueue=null,Tu.current=wT,r=a(h,p)}while(Da)}if(Tu.current=Pu,s=Et!==null&&Et.next!==null,is=0,At=Et=nt=null,Su=!1,s)throw Error(n(300));return r}function Gh(){var r=Ma!==0;return Ma=0,r}function ir(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?nt.memoizedState=At=r:At=At.next=r,At}function En(){if(Et===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var s=At===null?nt.memoizedState:At.next;if(s!==null)At=s,Et=r;else{if(r===null)throw Error(n(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},At===null?nt.memoizedState=At=r:At=At.next=r}return At}function Na(r,s){return typeof s=="function"?s(r):s}function Qh(r){var s=En(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var h=Et,p=h.baseQueue,g=a.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}h.baseQueue=p=g,a.pending=null}if(p!==null){g=p.next,h=h.baseState;var I=w=null,M=null,W=g;do{var J=W.lane;if((is&J)===J)M!==null&&(M=M.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:r(h,W.action);else{var Z={lane:J,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};M===null?(I=M=Z,w=h):M=M.next=Z,nt.lanes|=J,ss|=J}W=W.next}while(W!==null&&W!==g);M===null?w=h:M.next=I,Mn(h,s.memoizedState)||(Jt=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=M,a.lastRenderedState=h}if(r=a.interleaved,r!==null){p=r;do g=p.lane,nt.lanes|=g,ss|=g,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Xh(r){var s=En(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var h=a.dispatch,p=a.pending,g=s.memoizedState;if(p!==null){a.pending=null;var w=p=p.next;do g=r(g,w.action),w=w.next;while(w!==p);Mn(g,s.memoizedState)||(Jt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function lg(){}function ug(r,s){var a=nt,h=En(),p=s(),g=!Mn(h.memoizedState,p);if(g&&(h.memoizedState=p,Jt=!0),h=h.queue,Yh(fg.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,La(9,hg.bind(null,a,h,p,s),void 0,null),Ct===null)throw Error(n(349));(is&30)!==0||cg(a,s,p)}return p}function cg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function hg(r,s,a,h){s.value=a,s.getSnapshot=h,dg(s)&&pg(r)}function fg(r,s,a){return a(function(){dg(s)&&pg(r)})}function dg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Mn(r,a)}catch{return!0}}function pg(r){var s=Vr(r,1);s!==null&&Fn(s,r,1,-1)}function mg(r){var s=ir();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:r},s.queue=r,r=r.dispatch=vT.bind(null,nt,r),[s.memoizedState,r]}function La(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function gg(){return En().memoizedState}function Au(r,s,a,h){var p=ir();nt.flags|=r,p.memoizedState=La(1|s,a,void 0,h===void 0?null:h)}function Cu(r,s,a,h){var p=En();h=h===void 0?null:h;var g=void 0;if(Et!==null){var w=Et.memoizedState;if(g=w.destroy,h!==null&&Kh(h,w.deps)){p.memoizedState=La(s,a,g,h);return}}nt.flags|=r,p.memoizedState=La(1|s,a,g,h)}function yg(r,s){return Au(8390656,8,r,s)}function Yh(r,s){return Cu(2048,8,r,s)}function vg(r,s){return Cu(4,2,r,s)}function _g(r,s){return Cu(4,4,r,s)}function Eg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function wg(r,s,a){return a=a!=null?a.concat([r]):null,Cu(4,4,Eg.bind(null,s,r),a)}function Jh(){}function Tg(r,s){var a=En();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Kh(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Sg(r,s){var a=En();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Kh(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Ag(r,s,a){return(is&21)===0?(r.baseState&&(r.baseState=!1,Jt=!0),r.memoizedState=a):(Mn(a,s)||(a=aa(),nt.lanes|=a,ss|=a,r.baseState=!0),s)}function gT(r,s){var a=Me;Me=a!==0&&4>a?a:4,r(!0);var h=Wh.transition;Wh.transition={};try{r(!1),s()}finally{Me=a,Wh.transition=h}}function Cg(){return En().memoizedState}function yT(r,s,a){var h=gi(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Pg(r))Ig(s,a);else if(a=rg(r,s,a,h),a!==null){var p=Gt();Fn(a,r,h,p),Rg(a,s,h)}}function vT(r,s,a){var h=gi(r),p={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pg(r))Ig(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,I=g(w,a);if(p.hasEagerState=!0,p.eagerState=I,Mn(I,w)){var M=s.interleaved;M===null?(p.next=p,Bh(s)):(p.next=M.next,M.next=p),s.interleaved=p;return}}catch{}finally{}a=rg(r,s,p,h),a!==null&&(p=Gt(),Fn(a,r,h,p),Rg(a,s,h))}}function Pg(r){var s=r.alternate;return r===nt||s!==null&&s===nt}function Ig(r,s){Da=Su=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Rg(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,ua(r,a)}}var Pu={readContext:_n,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},_T={readContext:_n,useCallback:function(r,s){return ir().memoizedState=[r,s===void 0?null:s],r},useContext:_n,useEffect:yg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Au(4194308,4,Eg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Au(4194308,4,r,s)},useInsertionEffect:function(r,s){return Au(4,2,r,s)},useMemo:function(r,s){var a=ir();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=ir();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=yT.bind(null,nt,r),[h.memoizedState,r]},useRef:function(r){var s=ir();return r={current:r},s.memoizedState=r},useState:mg,useDebugValue:Jh,useDeferredValue:function(r){return ir().memoizedState=r},useTransition:function(){var r=mg(!1),s=r[0];return r=gT.bind(null,r[1]),ir().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=nt,p=ir();if(Ze){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),Ct===null)throw Error(n(349));(is&30)!==0||cg(h,s,a)}p.memoizedState=a;var g={value:a,getSnapshot:s};return p.queue=g,yg(fg.bind(null,h,g,r),[r]),h.flags|=2048,La(9,hg.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=ir(),s=Ct.identifierPrefix;if(Ze){var a=xr,h=Rr;a=(h&~(1<<32-an(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ma++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=mT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},ET={readContext:_n,useCallback:Tg,useContext:_n,useEffect:Yh,useImperativeHandle:wg,useInsertionEffect:vg,useLayoutEffect:_g,useMemo:Sg,useReducer:Qh,useRef:gg,useState:function(){return Qh(Na)},useDebugValue:Jh,useDeferredValue:function(r){var s=En();return Ag(s,Et.memoizedState,r)},useTransition:function(){var r=Qh(Na)[0],s=En().memoizedState;return[r,s]},useMutableSource:lg,useSyncExternalStore:ug,useId:Cg,unstable_isNewReconciler:!1},wT={readContext:_n,useCallback:Tg,useContext:_n,useEffect:Yh,useImperativeHandle:wg,useInsertionEffect:vg,useLayoutEffect:_g,useMemo:Sg,useReducer:Xh,useRef:gg,useState:function(){return Xh(Na)},useDebugValue:Jh,useDeferredValue:function(r){var s=En();return Et===null?s.memoizedState=r:Ag(s,Et.memoizedState,r)},useTransition:function(){var r=Xh(Na)[0],s=En().memoizedState;return[r,s]},useMutableSource:lg,useSyncExternalStore:ug,useId:Cg,unstable_isNewReconciler:!1};function Ln(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Zh(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:oe({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Iu={isMounted:function(r){return(r=r._reactInternals)?kn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Gt(),p=gi(r),g=kr(h,p);g.payload=s,a!=null&&(g.callback=a),s=fi(r,g,p),s!==null&&(Fn(s,r,p,h),_u(s,r,p))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Gt(),p=gi(r),g=kr(h,p);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=fi(r,g,p),s!==null&&(Fn(s,r,p,h),_u(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Gt(),h=gi(r),p=kr(a,h);p.tag=2,s!=null&&(p.callback=s),s=fi(r,p,h),s!==null&&(Fn(s,r,h,a),_u(s,r,h))}};function xg(r,s,a,h,p,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!wa(a,h)||!wa(p,g):!0}function Vg(r,s,a){var h=!1,p=ui,g=s.contextType;return typeof g=="object"&&g!==null?g=_n(g):(p=Yt(s)?Zi:Ft.current,h=s.contextTypes,g=(h=h!=null)?no(r,p):ui),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Iu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=g),s}function kg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Iu.enqueueReplaceState(s,s.state,null)}function ef(r,s,a,h){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},Uh(r);var g=s.contextType;typeof g=="object"&&g!==null?p.context=_n(g):(g=Yt(s)?Zi:Ft.current,p.context=no(r,g)),p.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Zh(r,s,g,a),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Iu.enqueueReplaceState(p,p.state,null),Eu(r,a,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function co(r,s){try{var a="",h=s;do a+=xe(h),h=h.return;while(h);var p=a}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:p,digest:null}}function tf(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function nf(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var TT=typeof WeakMap=="function"?WeakMap:Map;function Dg(r,s,a){a=kr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Nu||(Nu=!0,vf=h),nf(r,s)},a}function Mg(r,s,a){a=kr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;a.payload=function(){return h(p)},a.callback=function(){nf(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){nf(r,s),typeof h!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Ng(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new TT;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(a)||(p.add(a),r=OT.bind(null,r,s,a),s.then(r,r))}function Lg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Og(r,s,a,h,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=kr(-1,1),s.tag=2,fi(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var ST=re.ReactCurrentOwner,Jt=!1;function qt(r,s,a,h){s.child=r===null?ng(s,null,a,h):oo(s,r.child,a,h)}function bg(r,s,a,h,p){a=a.render;var g=s.ref;return lo(s,p),h=qh(r,s,a,h,g,p),a=Gh(),r!==null&&!Jt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Dr(r,s,p)):(Ze&&a&&Vh(s),s.flags|=1,qt(r,s,h,p),s.child)}function Fg(r,s,a,h,p){if(r===null){var g=a.type;return typeof g=="function"&&!Cf(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Bg(r,s,g,h,p)):(r=Uu(a.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&p)===0){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:wa,a(w,h)&&r.ref===s.ref)return Dr(r,s,p)}return s.flags|=1,r=vi(g,h),r.ref=s.ref,r.return=s,s.child=r}function Bg(r,s,a,h,p){if(r!==null){var g=r.memoizedProps;if(wa(g,h)&&r.ref===s.ref)if(Jt=!1,s.pendingProps=h=g,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Jt=!0);else return s.lanes=r.lanes,Dr(r,s,p)}return rf(r,s,a,h,p)}function Ug(r,s,a){var h=s.pendingProps,p=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(fo,pn),pn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(fo,pn),pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Ke(fo,pn),pn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,Ke(fo,pn),pn|=h;return qt(r,s,p,a),s.child}function jg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function rf(r,s,a,h,p){var g=Yt(a)?Zi:Ft.current;return g=no(s,g),lo(s,p),a=qh(r,s,a,h,g,p),h=Gh(),r!==null&&!Jt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Dr(r,s,p)):(Ze&&h&&Vh(s),s.flags|=1,qt(r,s,a,p),s.child)}function zg(r,s,a,h,p){if(Yt(a)){var g=!0;hu(s)}else g=!1;if(lo(s,p),s.stateNode===null)xu(r,s),Vg(s,a,h),ef(s,a,h,p),h=!0;else if(r===null){var w=s.stateNode,I=s.memoizedProps;w.props=I;var M=w.context,W=a.contextType;typeof W=="object"&&W!==null?W=_n(W):(W=Yt(a)?Zi:Ft.current,W=no(s,W));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==h||M!==W)&&kg(s,w,h,W),hi=!1;var X=s.memoizedState;w.state=X,Eu(s,h,w,p),M=s.memoizedState,I!==h||X!==M||Xt.current||hi?(typeof J=="function"&&(Zh(s,a,J,h),M=s.memoizedState),(I=hi||xg(s,a,I,h,X,M,W))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=M),w.props=h,w.state=M,w.context=W,h=I):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,ig(r,s),I=s.memoizedProps,W=s.type===s.elementType?I:Ln(s.type,I),w.props=W,Z=s.pendingProps,X=w.context,M=a.contextType,typeof M=="object"&&M!==null?M=_n(M):(M=Yt(a)?Zi:Ft.current,M=no(s,M));var ae=a.getDerivedStateFromProps;(J=typeof ae=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==Z||X!==M)&&kg(s,w,h,M),hi=!1,X=s.memoizedState,w.state=X,Eu(s,h,w,p);var he=s.memoizedState;I!==Z||X!==he||Xt.current||hi?(typeof ae=="function"&&(Zh(s,a,ae,h),he=s.memoizedState),(W=hi||xg(s,a,W,h,X,he,M)||!1)?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,he,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,he,M)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=he),w.props=h,w.state=he,w.context=M,h=W):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),h=!1)}return sf(r,s,a,h,g,p)}function sf(r,s,a,h,p,g){jg(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return p&&qm(s,a,!1),Dr(r,s,g);h=s.stateNode,ST.current=s;var I=w&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=oo(s,r.child,null,g),s.child=oo(s,null,I,g)):qt(r,s,I,g),s.memoizedState=h.state,p&&qm(s,a,!0),s.child}function $g(r){var s=r.stateNode;s.pendingContext?Wm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Wm(r,s.context,!1),jh(r,s.containerInfo)}function Hg(r,s,a,h,p){return so(),Nh(p),s.flags|=256,qt(r,s,a,h),s.child}var of={dehydrated:null,treeContext:null,retryLane:0};function af(r){return{baseLanes:r,cachePool:null,transitions:null}}function Wg(r,s,a){var h=s.pendingProps,p=tt.current,g=!1,w=(s.flags&128)!==0,I;if((I=w)||(I=r!==null&&r.memoizedState===null?!1:(p&2)!==0),I?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ke(tt,p&1),r===null)return Mh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=ju(w,h,0,null),r=us(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=af(a),s.memoizedState=of,r):lf(s,w));if(p=r.memoizedState,p!==null&&(I=p.dehydrated,I!==null))return AT(r,s,w,h,I,p,a);if(g){g=h.fallback,w=s.mode,p=r.child,I=p.sibling;var M={mode:"hidden",children:h.children};return(w&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=M,s.deletions=null):(h=vi(p,M),h.subtreeFlags=p.subtreeFlags&14680064),I!==null?g=vi(I,g):(g=us(g,w,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?af(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=of,h}return g=r.child,r=g.sibling,h=vi(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function lf(r,s){return s=ju({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ru(r,s,a,h){return h!==null&&Nh(h),oo(s,r.child,null,a),r=lf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function AT(r,s,a,h,p,g,w){if(a)return s.flags&256?(s.flags&=-257,h=tf(Error(n(422))),Ru(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,p=s.mode,h=ju({mode:"visible",children:h.children},p,0,null),g=us(g,p,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&oo(s,r.child,null,w),s.child.memoizedState=af(w),s.memoizedState=of,g);if((s.mode&1)===0)return Ru(r,s,w,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var I=h.dgst;return h=I,g=Error(n(419)),h=tf(g,h,void 0),Ru(r,s,w,h)}if(I=(w&r.childLanes)!==0,Jt||I){if(h=Ct,h!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|w))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Vr(r,p),Fn(h,r,p,-1))}return Af(),h=tf(Error(n(421))),Ru(r,s,w,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=bT.bind(null,r),p._reactRetry=s,null):(r=g.treeContext,dn=ai(p.nextSibling),fn=s,Ze=!0,Nn=null,r!==null&&(yn[vn++]=Rr,yn[vn++]=xr,yn[vn++]=es,Rr=r.id,xr=r.overflow,es=s),s=lf(s,h.children),s.flags|=4096,s)}function Kg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Fh(r.return,s,a)}function uf(r,s,a,h,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=p)}function qg(r,s,a){var h=s.pendingProps,p=h.revealOrder,g=h.tail;if(qt(r,s,h.children,a),h=tt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Kg(r,a,s);else if(r.tag===19)Kg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ke(tt,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(a=s.child,p=null;a!==null;)r=a.alternate,r!==null&&wu(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),uf(s,!1,p,a,g);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&wu(r)===null){s.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}uf(s,!0,a,null,g);break;case"together":uf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Dr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ss|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=vi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=vi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function CT(r,s,a){switch(s.tag){case 3:$g(s),so();break;case 5:ag(s);break;case 1:Yt(s.type)&&hu(s);break;case 4:jh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;Ke(yu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ke(tt,tt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Wg(r,s,a):(Ke(tt,tt.current&1),r=Dr(r,s,a),r!==null?r.sibling:null);Ke(tt,tt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return qg(r,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ke(tt,tt.current),h)break;return null;case 22:case 23:return s.lanes=0,Ug(r,s,a)}return Dr(r,s,a)}var Gg,cf,Qg,Xg;Gg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},cf=function(){},Qg=function(r,s,a,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,rs(rr.current);var g=null;switch(a){case"input":p=Rs(r,p),h=Rs(r,h),g=[];break;case"select":p=oe({},p,{value:void 0}),h=oe({},h,{value:void 0}),g=[];break;case"textarea":p=Xo(r,p),h=Xo(r,h),g=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=lu)}Vn(a,h);var w;a=null;for(W in p)if(!h.hasOwnProperty(W)&&p.hasOwnProperty(W)&&p[W]!=null)if(W==="style"){var I=p[W];for(w in I)I.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in h){var M=h[W];if(I=p?.[W],h.hasOwnProperty(W)&&M!==I&&(M!=null||I!=null))if(W==="style")if(I){for(w in I)!I.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in M)M.hasOwnProperty(w)&&I[w]!==M[w]&&(a||(a={}),a[w]=M[w])}else a||(g||(g=[]),g.push(W,a)),a=M;else W==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,I=I?I.__html:void 0,M!=null&&I!==M&&(g=g||[]).push(W,M)):W==="children"?typeof M!="string"&&typeof M!="number"||(g=g||[]).push(W,""+M):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(M!=null&&W==="onScroll"&&Ge("scroll",r),g||I===M||(g=[])):(g=g||[]).push(W,M))}a&&(g=g||[]).push("style",a);var W=g;(s.updateQueue=W)&&(s.flags|=4)}},Xg=function(r,s,a,h){a!==h&&(s.flags|=4)};function Oa(r,s){if(!Ze)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function PT(r,s,a){var h=s.pendingProps;switch(kh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return Yt(s.type)&&cu(),Ut(s),null;case 3:return h=s.stateNode,uo(),Qe(Xt),Qe(Ft),Hh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(mu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Nn!==null&&(wf(Nn),Nn=null))),cf(r,s),Ut(s),null;case 5:zh(s);var p=rs(ka.current);if(a=s.type,r!==null&&s.stateNode!=null)Qg(r,s,a,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return Ut(s),null}if(r=rs(rr.current),mu(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[nr]=s,h[Pa]=g,r=(s.mode&1)!==0,a){case"dialog":Ge("cancel",h),Ge("close",h);break;case"iframe":case"object":case"embed":Ge("load",h);break;case"video":case"audio":for(p=0;p<Sa.length;p++)Ge(Sa[p],h);break;case"source":Ge("error",h);break;case"img":case"image":case"link":Ge("error",h),Ge("load",h);break;case"details":Ge("toggle",h);break;case"input":Ml(h,g),Ge("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Ge("invalid",h);break;case"textarea":Yo(h,g),Ge("invalid",h)}Vn(a,g),p=null;for(var w in g)if(g.hasOwnProperty(w)){var I=g[w];w==="children"?typeof I=="string"?h.textContent!==I&&(g.suppressHydrationWarning!==!0&&au(h.textContent,I,r),p=["children",I]):typeof I=="number"&&h.textContent!==""+I&&(g.suppressHydrationWarning!==!0&&au(h.textContent,I,r),p=["children",""+I]):o.hasOwnProperty(w)&&I!=null&&w==="onScroll"&&Ge("scroll",h)}switch(a){case"input":Is(h),Qo(h,g,!0);break;case"textarea":Is(h),Wr(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=lu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Jo(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(a,{is:h.is}):(r=w.createElement(a),a==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,a),r[nr]=s,r[Pa]=h,Gg(r,s,!1,!1),s.stateNode=r;e:{switch(w=Ds(a,h),a){case"dialog":Ge("cancel",r),Ge("close",r),p=h;break;case"iframe":case"object":case"embed":Ge("load",r),p=h;break;case"video":case"audio":for(p=0;p<Sa.length;p++)Ge(Sa[p],r);p=h;break;case"source":Ge("error",r),p=h;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),p=h;break;case"details":Ge("toggle",r),p=h;break;case"input":Ml(r,h),p=Rs(r,h),Ge("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=oe({},h,{value:void 0}),Ge("invalid",r);break;case"textarea":Yo(r,h),p=Xo(r,h),Ge("invalid",r);break;default:p=h}Vn(a,p),I=p;for(g in I)if(I.hasOwnProperty(g)){var M=I[g];g==="style"?ks(r,M):g==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ll(r,M)):g==="children"?typeof M=="string"?(a!=="textarea"||M!=="")&&Fi(r,M):typeof M=="number"&&Fi(r,""+M):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?M!=null&&g==="onScroll"&&Ge("scroll",r):M!=null&&q(r,g,M,w))}switch(a){case"input":Is(r),Qo(r,h,!1);break;case"textarea":Is(r),Wr(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Oe(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?xn(r,!!h.multiple,g,!1):h.defaultValue!=null&&xn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=lu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(r&&s.stateNode!=null)Xg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(a=rs(ka.current),rs(rr.current),mu(s)){if(h=s.stateNode,a=s.memoizedProps,h[nr]=s,(g=h.nodeValue!==a)&&(r=fn,r!==null))switch(r.tag){case 3:au(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&au(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[nr]=s,s.stateNode=h}return Ut(s),null;case 13:if(Qe(tt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Zm(),so(),s.flags|=98560,g=!1;else if(g=mu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[nr]=s}else so(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),g=!1}else Nn!==null&&(wf(Nn),Nn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(tt.current&1)!==0?wt===0&&(wt=3):Af())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return uo(),cf(r,s),r===null&&Aa(s.stateNode.containerInfo),Ut(s),null;case 10:return bh(s.type._context),Ut(s),null;case 17:return Yt(s.type)&&cu(),Ut(s),null;case 19:if(Qe(tt),g=s.memoizedState,g===null)return Ut(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)Oa(g,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=wu(r),w!==null){for(s.flags|=128,Oa(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ke(tt,tt.current&1|2),s.child}r=r.sibling}g.tail!==null&&qe()>po&&(s.flags|=128,h=!0,Oa(g,!1),s.lanes=4194304)}else{if(!h)if(r=wu(w),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Oa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Ze)return Ut(s),null}else 2*qe()-g.renderingStartTime>po&&a!==1073741824&&(s.flags|=128,h=!0,Oa(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=qe(),s.sibling=null,a=tt.current,Ke(tt,h?a&1|2:a&1),s):(Ut(s),null);case 22:case 23:return Sf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(pn&1073741824)!==0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function IT(r,s){switch(kh(s),s.tag){case 1:return Yt(s.type)&&cu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return uo(),Qe(Xt),Qe(Ft),Hh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return zh(s),null;case 13:if(Qe(tt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));so()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Qe(tt),null;case 4:return uo(),null;case 10:return bh(s.type._context),null;case 22:case 23:return Sf(),null;case 24:return null;default:return null}}var Vu=!1,jt=!1,RT=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ho(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){at(r,s,h)}else a.current=null}function hf(r,s,a){try{a()}catch(h){at(r,s,h)}}var Yg=!1;function xT(r,s){if(Th=Sr,r=xm(),ph(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var p=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,I=-1,M=-1,W=0,J=0,Z=r,X=null;t:for(;;){for(var ae;Z!==a||p!==0&&Z.nodeType!==3||(I=w+p),Z!==g||h!==0&&Z.nodeType!==3||(M=w+h),Z.nodeType===3&&(w+=Z.nodeValue.length),(ae=Z.firstChild)!==null;)X=Z,Z=ae;for(;;){if(Z===r)break t;if(X===a&&++W===p&&(I=w),X===g&&++J===h&&(M=w),(ae=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=ae}a=I===-1||M===-1?null:{start:I,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sh={focusedElem:r,selectionRange:a},Sr=!1,ce=s;ce!==null;)if(s=ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ce=r;else for(;ce!==null;){s=ce;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,ht=he.memoizedState,U=s.stateNode,N=U.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Ln(s.type,fe),ht);U.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ne){at(s,s.return,ne)}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}return he=Yg,Yg=!1,he}function ba(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var g=p.destroy;p.destroy=void 0,g!==void 0&&hf(s,a,g)}p=p.next}while(p!==h)}}function ku(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function ff(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Jg(r){var s=r.alternate;s!==null&&(r.alternate=null,Jg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[nr],delete s[Pa],delete s[Ih],delete s[hT],delete s[fT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Zg(r){return r.tag===5||r.tag===3||r.tag===4}function ey(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Zg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function df(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=lu));else if(h!==4&&(r=r.child,r!==null))for(df(r,s,a),r=r.sibling;r!==null;)df(r,s,a),r=r.sibling}function pf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(pf(r,s,a),r=r.sibling;r!==null;)pf(r,s,a),r=r.sibling}var Vt=null,On=!1;function di(r,s,a){for(a=a.child;a!==null;)ty(r,s,a),a=a.sibling}function ty(r,s,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount($i,a)}catch{}switch(a.tag){case 5:jt||ho(a,s);case 6:var h=Vt,p=On;Vt=null,di(r,s,a),Vt=h,On=p,Vt!==null&&(On?(r=Vt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Vt.removeChild(a.stateNode));break;case 18:Vt!==null&&(On?(r=Vt,a=a.stateNode,r.nodeType===8?Ph(r.parentNode,a):r.nodeType===1&&Ph(r,a),ri(r)):Ph(Vt,a.stateNode));break;case 4:h=Vt,p=On,Vt=a.stateNode.containerInfo,On=!0,di(r,s,a),Vt=h,On=p;break;case 0:case 11:case 14:case 15:if(!jt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var g=p,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&hf(a,s,w),p=p.next}while(p!==h)}di(r,s,a);break;case 1:if(!jt&&(ho(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(I){at(a,s,I)}di(r,s,a);break;case 21:di(r,s,a);break;case 22:a.mode&1?(jt=(h=jt)||a.memoizedState!==null,di(r,s,a),jt=h):di(r,s,a);break;default:di(r,s,a)}}function ny(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new RT),s.forEach(function(h){var p=FT.bind(null,r,h);a.has(h)||(a.add(h),h.then(p,p))})}}function bn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var p=a[h];try{var g=r,w=s,I=w;e:for(;I!==null;){switch(I.tag){case 5:Vt=I.stateNode,On=!1;break e;case 3:Vt=I.stateNode.containerInfo,On=!0;break e;case 4:Vt=I.stateNode.containerInfo,On=!0;break e}I=I.return}if(Vt===null)throw Error(n(160));ty(g,w,p),Vt=null,On=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(W){at(p,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ry(s,r),s=s.sibling}function ry(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(bn(s,r),sr(r),h&4){try{ba(3,r,r.return),ku(3,r)}catch(fe){at(r,r.return,fe)}try{ba(5,r,r.return)}catch(fe){at(r,r.return,fe)}}break;case 1:bn(s,r),sr(r),h&512&&a!==null&&ho(a,a.return);break;case 5:if(bn(s,r),sr(r),h&512&&a!==null&&ho(a,a.return),r.flags&32){var p=r.stateNode;try{Fi(p,"")}catch(fe){at(r,r.return,fe)}}if(h&4&&(p=r.stateNode,p!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,I=r.type,M=r.updateQueue;if(r.updateQueue=null,M!==null)try{I==="input"&&g.type==="radio"&&g.name!=null&&xs(p,g),Ds(I,w);var W=Ds(I,g);for(w=0;w<M.length;w+=2){var J=M[w],Z=M[w+1];J==="style"?ks(p,Z):J==="dangerouslySetInnerHTML"?Ll(p,Z):J==="children"?Fi(p,Z):q(p,J,Z,W)}switch(I){case"input":bi(p,g);break;case"textarea":Nl(p,g);break;case"select":var X=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?xn(p,!!g.multiple,ae,!1):X!==!!g.multiple&&(g.defaultValue!=null?xn(p,!!g.multiple,g.defaultValue,!0):xn(p,!!g.multiple,g.multiple?[]:"",!1))}p[Pa]=g}catch(fe){at(r,r.return,fe)}}break;case 6:if(bn(s,r),sr(r),h&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,g=r.memoizedProps;try{p.nodeValue=g}catch(fe){at(r,r.return,fe)}}break;case 3:if(bn(s,r),sr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{ri(s.containerInfo)}catch(fe){at(r,r.return,fe)}break;case 4:bn(s,r),sr(r);break;case 13:bn(s,r),sr(r),p=r.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(yf=qe())),h&4&&ny(r);break;case 22:if(J=a!==null&&a.memoizedState!==null,r.mode&1?(jt=(W=jt)||J,bn(s,r),jt=W):bn(s,r),sr(r),h&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!J&&(r.mode&1)!==0)for(ce=r,J=r.child;J!==null;){for(Z=ce=J;ce!==null;){switch(X=ce,ae=X.child,X.tag){case 0:case 11:case 14:case 15:ba(4,X,X.return);break;case 1:ho(X,X.return);var he=X.stateNode;if(typeof he.componentWillUnmount=="function"){h=X,a=X.return;try{s=h,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(fe){at(h,a,fe)}}break;case 5:ho(X,X.return);break;case 22:if(X.memoizedState!==null){oy(Z);continue}}ae!==null?(ae.return=X,ce=ae):oy(Z)}J=J.sibling}e:for(J=null,Z=r;;){if(Z.tag===5){if(J===null){J=Z;try{p=Z.stateNode,W?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(I=Z.stateNode,M=Z.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,I.style.display=Gr("display",w))}catch(fe){at(r,r.return,fe)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=W?"":Z.memoizedProps}catch(fe){at(r,r.return,fe)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:bn(s,r),sr(r),h&4&&ny(r);break;case 21:break;default:bn(s,r),sr(r)}}function sr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Zg(a)){var h=a;break e}a=a.return}throw Error(n(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Fi(p,""),h.flags&=-33);var g=ey(r);pf(r,g,p);break;case 3:case 4:var w=h.stateNode.containerInfo,I=ey(r);df(r,I,w);break;default:throw Error(n(161))}}catch(M){at(r,r.return,M)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function VT(r,s,a){ce=r,iy(r)}function iy(r,s,a){for(var h=(r.mode&1)!==0;ce!==null;){var p=ce,g=p.child;if(p.tag===22&&h){var w=p.memoizedState!==null||Vu;if(!w){var I=p.alternate,M=I!==null&&I.memoizedState!==null||jt;I=Vu;var W=jt;if(Vu=w,(jt=M)&&!W)for(ce=p;ce!==null;)w=ce,M=w.child,w.tag===22&&w.memoizedState!==null?ay(p):M!==null?(M.return=w,ce=M):ay(p);for(;g!==null;)ce=g,iy(g),g=g.sibling;ce=p,Vu=I,jt=W}sy(r)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,ce=g):sy(r)}}function sy(r){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:jt||ku(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!jt)if(a===null)h.componentDidMount();else{var p=s.elementType===s.type?a.memoizedProps:Ln(s.type,a.memoizedProps);h.componentDidUpdate(p,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&og(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}og(s,w,a)}break;case 5:var I=s.stateNode;if(a===null&&s.flags&4){a=I;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&a.focus();break;case"img":M.src&&(a.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var J=W.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&ri(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}jt||s.flags&512&&ff(s)}catch(X){at(s,s.return,X)}}if(s===r){ce=null;break}if(a=s.sibling,a!==null){a.return=s.return,ce=a;break}ce=s.return}}function oy(r){for(;ce!==null;){var s=ce;if(s===r){ce=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ce=a;break}ce=s.return}}function ay(r){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{ku(4,s)}catch(M){at(s,a,M)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(M){at(s,p,M)}}var g=s.return;try{ff(s)}catch(M){at(s,g,M)}break;case 5:var w=s.return;try{ff(s)}catch(M){at(s,w,M)}}}catch(M){at(s,s.return,M)}if(s===r){ce=null;break}var I=s.sibling;if(I!==null){I.return=s.return,ce=I;break}ce=s.return}}var kT=Math.ceil,Du=re.ReactCurrentDispatcher,mf=re.ReactCurrentOwner,wn=re.ReactCurrentBatchConfig,be=0,Ct=null,gt=null,kt=0,pn=0,fo=li(0),wt=0,Fa=null,ss=0,Mu=0,gf=0,Ba=null,Zt=null,yf=0,po=1/0,Mr=null,Nu=!1,vf=null,pi=null,Lu=!1,mi=null,Ou=0,Ua=0,_f=null,bu=-1,Fu=0;function Gt(){return(be&6)!==0?qe():bu!==-1?bu:bu=qe()}function gi(r){return(r.mode&1)===0?1:(be&2)!==0&&kt!==0?kt&-kt:pT.transition!==null?(Fu===0&&(Fu=aa()),Fu):(r=Me,r!==0||(r=window.event,r=r===void 0?16:zs(r.type)),r)}function Fn(r,s,a,h){if(50<Ua)throw Ua=0,_f=null,Error(n(185));qi(r,a,h),((be&2)===0||r!==Ct)&&(r===Ct&&((be&2)===0&&(Mu|=a),wt===4&&yi(r,kt)),en(r,h),a===1&&be===0&&(s.mode&1)===0&&(po=qe()+500,fu&&ci()))}function en(r,s){var a=r.callbackNode;Ki(r,s);var h=Er(r,r===Ct?kt:0);if(h===0)a!==null&&Ls(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&Ls(a),s===1)r.tag===0?dT(uy.bind(null,r)):Gm(uy.bind(null,r)),uT(function(){(be&6)===0&&ci()}),a=null;else{switch(Kn(h)){case 1:a=Os;break;case 4:a=ia;break;case 16:a=zi;break;case 536870912:a=bs;break;default:a=zi}a=yy(a,ly.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function ly(r,s){if(bu=-1,Fu=0,(be&6)!==0)throw Error(n(327));var a=r.callbackNode;if(mo()&&r.callbackNode!==a)return null;var h=Er(r,r===Ct?kt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Bu(r,h);else{s=h;var p=be;be|=2;var g=hy();(Ct!==r||kt!==s)&&(Mr=null,po=qe()+500,as(r,s));do try{NT();break}catch(I){cy(r,I)}while(!0);Oh(),Du.current=g,be=p,gt!==null?s=0:(Ct=null,kt=0,s=wt)}if(s!==0){if(s===2&&(p=oa(r),p!==0&&(h=p,s=Ef(r,p))),s===1)throw a=Fa,as(r,0),yi(r,h),en(r,qe()),a;if(s===6)yi(r,h);else{if(p=r.current.alternate,(h&30)===0&&!DT(p)&&(s=Bu(r,h),s===2&&(g=oa(r),g!==0&&(h=g,s=Ef(r,g))),s===1))throw a=Fa,as(r,0),yi(r,h),en(r,qe()),a;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:ls(r,Zt,Mr);break;case 3:if(yi(r,h),(h&130023424)===h&&(s=yf+500-qe(),10<s)){if(Er(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){Gt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Ch(ls.bind(null,r,Zt,Mr),s);break}ls(r,Zt,Mr);break;case 4:if(yi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var w=31-an(h);g=1<<w,w=s[w],w>p&&(p=w),h&=~g}if(h=p,h=qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*kT(h/1960))-h,10<h){r.timeoutHandle=Ch(ls.bind(null,r,Zt,Mr),h);break}ls(r,Zt,Mr);break;case 5:ls(r,Zt,Mr);break;default:throw Error(n(329))}}}return en(r,qe()),r.callbackNode===a?ly.bind(null,r):null}function Ef(r,s){var a=Ba;return r.current.memoizedState.isDehydrated&&(as(r,s).flags|=256),r=Bu(r,s),r!==2&&(s=Zt,Zt=a,s!==null&&wf(s)),r}function wf(r){Zt===null?Zt=r:Zt.push.apply(Zt,r)}function DT(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var p=a[h],g=p.getSnapshot;p=p.value;try{if(!Mn(g(),p))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yi(r,s){for(s&=~gf,s&=~Mu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-an(s),h=1<<a;r[a]=-1,s&=~h}}function uy(r){if((be&6)!==0)throw Error(n(327));mo();var s=Er(r,0);if((s&1)===0)return en(r,qe()),null;var a=Bu(r,s);if(r.tag!==0&&a===2){var h=oa(r);h!==0&&(s=h,a=Ef(r,h))}if(a===1)throw a=Fa,as(r,0),yi(r,s),en(r,qe()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ls(r,Zt,Mr),en(r,qe()),null}function Tf(r,s){var a=be;be|=1;try{return r(s)}finally{be=a,be===0&&(po=qe()+500,fu&&ci())}}function os(r){mi!==null&&mi.tag===0&&(be&6)===0&&mo();var s=be;be|=1;var a=wn.transition,h=Me;try{if(wn.transition=null,Me=1,r)return r()}finally{Me=h,wn.transition=a,be=s,(be&6)===0&&ci()}}function Sf(){pn=fo.current,Qe(fo)}function as(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,lT(a)),gt!==null)for(a=gt.return;a!==null;){var h=a;switch(kh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&cu();break;case 3:uo(),Qe(Xt),Qe(Ft),Hh();break;case 5:zh(h);break;case 4:uo();break;case 13:Qe(tt);break;case 19:Qe(tt);break;case 10:bh(h.type._context);break;case 22:case 23:Sf()}a=a.return}if(Ct=r,gt=r=vi(r.current,null),kt=pn=s,wt=0,Fa=null,gf=Mu=ss=0,Zt=Ba=null,ns!==null){for(s=0;s<ns.length;s++)if(a=ns[s],h=a.interleaved,h!==null){a.interleaved=null;var p=h.next,g=a.pending;if(g!==null){var w=g.next;g.next=p,h.next=w}a.pending=h}ns=null}return r}function cy(r,s){do{var a=gt;try{if(Oh(),Tu.current=Pu,Su){for(var h=nt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Su=!1}if(is=0,At=Et=nt=null,Da=!1,Ma=0,mf.current=null,a===null||a.return===null){wt=1,Fa=s,gt=null;break}e:{var g=r,w=a.return,I=a,M=s;if(s=kt,I.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=M,J=I,Z=J.tag;if((J.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var ae=Lg(w);if(ae!==null){ae.flags&=-257,Og(ae,w,I,g,s),ae.mode&1&&Ng(g,W,s),s=ae,M=W;var he=s.updateQueue;if(he===null){var fe=new Set;fe.add(M),s.updateQueue=fe}else he.add(M);break e}else{if((s&1)===0){Ng(g,W,s),Af();break e}M=Error(n(426))}}else if(Ze&&I.mode&1){var ht=Lg(w);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Og(ht,w,I,g,s),Nh(co(M,I));break e}}g=M=co(M,I),wt!==4&&(wt=2),Ba===null?Ba=[g]:Ba.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var U=Dg(g,M,s);sg(g,U);break e;case 1:I=M;var N=g.type,H=g.stateNode;if((g.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(pi===null||!pi.has(H)))){g.flags|=65536,s&=-s,g.lanes|=s;var ne=Mg(g,I,s);sg(g,ne);break e}}g=g.return}while(g!==null)}dy(a)}catch(de){s=de,gt===a&&a!==null&&(gt=a=a.return);continue}break}while(!0)}function hy(){var r=Du.current;return Du.current=Pu,r===null?Pu:r}function Af(){(wt===0||wt===3||wt===2)&&(wt=4),Ct===null||(ss&268435455)===0&&(Mu&268435455)===0||yi(Ct,kt)}function Bu(r,s){var a=be;be|=2;var h=hy();(Ct!==r||kt!==s)&&(Mr=null,as(r,s));do try{MT();break}catch(p){cy(r,p)}while(!0);if(Oh(),be=a,Du.current=h,gt!==null)throw Error(n(261));return Ct=null,kt=0,wt}function MT(){for(;gt!==null;)fy(gt)}function NT(){for(;gt!==null&&!ji();)fy(gt)}function fy(r){var s=gy(r.alternate,r,pn);r.memoizedProps=r.pendingProps,s===null?dy(r):gt=s,mf.current=null}function dy(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=PT(a,s,pn),a!==null){gt=a;return}}else{if(a=IT(a,s),a!==null){a.flags&=32767,gt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{wt=6,gt=null;return}}if(s=s.sibling,s!==null){gt=s;return}gt=s=r}while(s!==null);wt===0&&(wt=5)}function ls(r,s,a){var h=Me,p=wn.transition;try{wn.transition=null,Me=1,LT(r,s,a,h)}finally{wn.transition=p,Me=h}return null}function LT(r,s,a,h){do mo();while(mi!==null);if((be&6)!==0)throw Error(n(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(uh(r,g),r===Ct&&(gt=Ct=null,kt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Lu||(Lu=!0,yy(zi,function(){return mo(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=wn.transition,wn.transition=null;var w=Me;Me=1;var I=be;be|=4,mf.current=null,xT(r,a),ry(a,r),tT(Sh),Sr=!!Th,Sh=Th=null,r.current=a,VT(a),_r(),be=I,Me=w,wn.transition=g}else r.current=a;if(Lu&&(Lu=!1,mi=r,Ou=p),g=r.pendingLanes,g===0&&(pi=null),Kl(a.stateNode),en(r,qe()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)p=s[a],h(p.value,{componentStack:p.stack,digest:p.digest});if(Nu)throw Nu=!1,r=vf,vf=null,r;return(Ou&1)!==0&&r.tag!==0&&mo(),g=r.pendingLanes,(g&1)!==0?r===_f?Ua++:(Ua=0,_f=r):Ua=0,ci(),null}function mo(){if(mi!==null){var r=Kn(Ou),s=wn.transition,a=Me;try{if(wn.transition=null,Me=16>r?16:r,mi===null)var h=!1;else{if(r=mi,mi=null,Ou=0,(be&6)!==0)throw Error(n(331));var p=be;for(be|=4,ce=r.current;ce!==null;){var g=ce,w=g.child;if((ce.flags&16)!==0){var I=g.deletions;if(I!==null){for(var M=0;M<I.length;M++){var W=I[M];for(ce=W;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:ba(8,J,g)}var Z=J.child;if(Z!==null)Z.return=J,ce=Z;else for(;ce!==null;){J=ce;var X=J.sibling,ae=J.return;if(Jg(J),J===W){ce=null;break}if(X!==null){X.return=ae,ce=X;break}ce=ae}}}var he=g.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var ht=fe.sibling;fe.sibling=null,fe=ht}while(fe!==null)}}ce=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,ce=w;else e:for(;ce!==null;){if(g=ce,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:ba(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,ce=U;break e}ce=g.return}}var N=r.current;for(ce=N;ce!==null;){w=ce;var H=w.child;if((w.subtreeFlags&2064)!==0&&H!==null)H.return=w,ce=H;else e:for(w=N;ce!==null;){if(I=ce,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:ku(9,I)}}catch(de){at(I,I.return,de)}if(I===w){ce=null;break e}var ne=I.sibling;if(ne!==null){ne.return=I.return,ce=ne;break e}ce=I.return}}if(be=p,ci(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot($i,r)}catch{}h=!0}return h}finally{Me=a,wn.transition=s}}return!1}function py(r,s,a){s=co(a,s),s=Dg(r,s,1),r=fi(r,s,1),s=Gt(),r!==null&&(qi(r,1,s),en(r,s))}function at(r,s,a){if(r.tag===3)py(r,r,a);else for(;s!==null;){if(s.tag===3){py(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(pi===null||!pi.has(h))){r=co(a,r),r=Mg(s,r,1),s=fi(s,r,1),r=Gt(),s!==null&&(qi(s,1,r),en(s,r));break}}s=s.return}}function OT(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Gt(),r.pingedLanes|=r.suspendedLanes&a,Ct===r&&(kt&a)===a&&(wt===4||wt===3&&(kt&130023424)===kt&&500>qe()-yf?as(r,0):gf|=a),en(r,s)}function my(r,s){s===0&&((r.mode&1)===0?s=1:(s=ei,ei<<=1,(ei&130023424)===0&&(ei=4194304)));var a=Gt();r=Vr(r,s),r!==null&&(qi(r,s,a),en(r,a))}function bT(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),my(r,a)}function FT(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),my(r,a)}var gy;gy=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Xt.current)Jt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Jt=!1,CT(r,s,a);Jt=(r.flags&131072)!==0}else Jt=!1,Ze&&(s.flags&1048576)!==0&&Qm(s,pu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;xu(r,s),r=s.pendingProps;var p=no(s,Ft.current);lo(s,a),p=qh(null,s,h,r,p,a);var g=Gh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Yt(h)?(g=!0,hu(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Uh(s),p.updater=Iu,s.stateNode=p,p._reactInternals=s,ef(s,h,r,a),s=sf(null,s,h,!0,g,a)):(s.tag=0,Ze&&g&&Vh(s),qt(null,s,p,a),s=s.child),s;case 16:h=s.elementType;e:{switch(xu(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=UT(h),r=Ln(h,r),p){case 0:s=rf(null,s,h,r,a);break e;case 1:s=zg(null,s,h,r,a);break e;case 11:s=bg(null,s,h,r,a);break e;case 14:s=Fg(null,s,h,Ln(h.type,r),a);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Ln(h,p),rf(r,s,h,p,a);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Ln(h,p),zg(r,s,h,p,a);case 3:e:{if($g(s),r===null)throw Error(n(387));h=s.pendingProps,g=s.memoizedState,p=g.element,ig(r,s),Eu(s,h,null,a);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=co(Error(n(423)),s),s=Hg(r,s,h,a,p);break e}else if(h!==p){p=co(Error(n(424)),s),s=Hg(r,s,h,a,p);break e}else for(dn=ai(s.stateNode.containerInfo.firstChild),fn=s,Ze=!0,Nn=null,a=ng(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(so(),h===p){s=Dr(r,s,a);break e}qt(r,s,h,a)}s=s.child}return s;case 5:return ag(s),r===null&&Mh(s),h=s.type,p=s.pendingProps,g=r!==null?r.memoizedProps:null,w=p.children,Ah(h,p)?w=null:g!==null&&Ah(h,g)&&(s.flags|=32),jg(r,s),qt(r,s,w,a),s.child;case 6:return r===null&&Mh(s),null;case 13:return Wg(r,s,a);case 4:return jh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=oo(s,null,h,a):qt(r,s,h,a),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Ln(h,p),bg(r,s,h,p,a);case 7:return qt(r,s,s.pendingProps,a),s.child;case 8:return qt(r,s,s.pendingProps.children,a),s.child;case 12:return qt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,g=s.memoizedProps,w=p.value,Ke(yu,h._currentValue),h._currentValue=w,g!==null)if(Mn(g.value,w)){if(g.children===p.children&&!Xt.current){s=Dr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var I=g.dependencies;if(I!==null){w=g.child;for(var M=I.firstContext;M!==null;){if(M.context===h){if(g.tag===1){M=kr(-1,a&-a),M.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var J=W.pending;J===null?M.next=M:(M.next=J.next,J.next=M),W.pending=M}}g.lanes|=a,M=g.alternate,M!==null&&(M.lanes|=a),Fh(g.return,a,s),I.lanes|=a;break}M=M.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(n(341));w.lanes|=a,I=w.alternate,I!==null&&(I.lanes|=a),Fh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}qt(r,s,p.children,a),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,lo(s,a),p=_n(p),h=h(p),s.flags|=1,qt(r,s,h,a),s.child;case 14:return h=s.type,p=Ln(h,s.pendingProps),p=Ln(h.type,p),Fg(r,s,h,p,a);case 15:return Bg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Ln(h,p),xu(r,s),s.tag=1,Yt(h)?(r=!0,hu(s)):r=!1,lo(s,a),Vg(s,h,p),ef(s,h,p,a),sf(null,s,h,!0,r,a);case 19:return qg(r,s,a);case 22:return Ug(r,s,a)}throw Error(n(156,s.tag))};function yy(r,s){return ra(r,s)}function BT(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(r,s,a,h){return new BT(r,s,a,h)}function Cf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function UT(r){if(typeof r=="function")return Cf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===b)return 11;if(r===ze)return 14}return 2}function vi(r,s){var a=r.alternate;return a===null?(a=Tn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Uu(r,s,a,h,p,g){var w=2;if(h=r,typeof r=="function")Cf(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case R:return us(a.children,p,g,s);case A:w=8,p|=8;break;case C:return r=Tn(12,a,s,p|2),r.elementType=C,r.lanes=g,r;case x:return r=Tn(13,a,s,p),r.elementType=x,r.lanes=g,r;case Re:return r=Tn(19,a,s,p),r.elementType=Re,r.lanes=g,r;case we:return ju(a,p,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:w=10;break e;case V:w=9;break e;case b:w=11;break e;case ze:w=14;break e;case Je:w=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Tn(w,a,s,p),s.elementType=r,s.type=h,s.lanes=g,s}function us(r,s,a,h){return r=Tn(7,r,h,s),r.lanes=a,r}function ju(r,s,a,h){return r=Tn(22,r,h,s),r.elementType=we,r.lanes=a,r.stateNode={isHidden:!1},r}function Pf(r,s,a){return r=Tn(6,r,null,s),r.lanes=a,r}function If(r,s,a){return s=Tn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function jT(r,s,a,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Rf(r,s,a,h,p,g,w,I,M){return r=new jT(r,s,a,I,M),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Tn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uh(g),r}function zT(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function vy(r){if(!r)return ui;r=r._reactInternals;e:{if(kn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Yt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Yt(a))return Km(r,a,s)}return s}function _y(r,s,a,h,p,g,w,I,M){return r=Rf(a,h,!0,r,p,g,w,I,M),r.context=vy(null),a=r.current,h=Gt(),p=gi(a),g=kr(h,p),g.callback=s??null,fi(a,g,p),r.current.lanes=p,qi(r,p,h),en(r,h),r}function zu(r,s,a,h){var p=s.current,g=Gt(),w=gi(p);return a=vy(a),s.context===null?s.context=a:s.pendingContext=a,s=kr(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=fi(p,s,w),r!==null&&(Fn(r,p,w,g),_u(r,p,w)),w}function $u(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ey(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function xf(r,s){Ey(r,s),(r=r.alternate)&&Ey(r,s)}function $T(){return null}var wy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Vf(r){this._internalRoot=r}Hu.prototype.render=Vf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));zu(r,s,null,null)},Hu.prototype.unmount=Vf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;os(function(){zu(null,r,null,null)}),s[Pr]=null}};function Hu(r){this._internalRoot=r}Hu.prototype.unstable_scheduleHydration=function(r){if(r){var s=fa();r={blockedOn:null,target:r,priority:s};for(var a=0;a<ln.length&&s!==0&&s<ln[a].priority;a++);ln.splice(a,0,r),a===0&&Us(r)}};function kf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Wu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ty(){}function HT(r,s,a,h,p){if(p){if(typeof h=="function"){var g=h;h=function(){var W=$u(w);g.call(W)}}var w=_y(s,h,r,0,null,!1,!1,"",Ty);return r._reactRootContainer=w,r[Pr]=w.current,Aa(r.nodeType===8?r.parentNode:r),os(),w}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var I=h;h=function(){var W=$u(M);I.call(W)}}var M=Rf(r,0,!1,null,null,!1,!1,"",Ty);return r._reactRootContainer=M,r[Pr]=M.current,Aa(r.nodeType===8?r.parentNode:r),os(function(){zu(s,M,a,h)}),M}function Ku(r,s,a,h,p){var g=a._reactRootContainer;if(g){var w=g;if(typeof p=="function"){var I=p;p=function(){var M=$u(w);I.call(M)}}zu(s,w,r,p)}else w=HT(a,s,r,p,h);return $u(w)}ca=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Be(s.pendingLanes);a!==0&&(ua(s,a|1),en(s,qe()),(be&6)===0&&(po=qe()+500,ci()))}break;case 13:os(function(){var h=Vr(r,1);if(h!==null){var p=Gt();Fn(h,r,1,p)}}),xf(r,1)}},Fs=function(r){if(r.tag===13){var s=Vr(r,134217728);if(s!==null){var a=Gt();Fn(s,r,134217728,a)}xf(r,134217728)}},ha=function(r){if(r.tag===13){var s=gi(r),a=Vr(r,s);if(a!==null){var h=Gt();Fn(a,r,s,h)}xf(r,s)}},fa=function(){return Me},da=function(r,s){var a=Me;try{return Me=r,s()}finally{Me=a}},gr=function(r,s,a){switch(s){case"input":if(bi(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var p=uu(h);if(!p)throw Error(n(90));Go(h),bi(h,p)}}}break;case"textarea":Nl(r,a);break;case"select":s=a.value,s!=null&&xn(r,!!a.multiple,s,!1)}},bl=Tf,Fl=os;var WT={usingClientEntryPoint:!1,Events:[Ia,eo,uu,Xr,Yr,Tf]},ja={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KT={bundleType:ja.bundleType,version:ja.version,rendererPackageName:ja.rendererPackageName,rendererConfig:ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Wl(r),r===null?null:r.stateNode},findFiberByHostInstance:ja.findFiberByHostInstance||$T,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{$i=qu.inject(KT),on=qu}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WT,tn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kf(s))throw Error(n(200));return zT(r,s,null,a)},tn.createRoot=function(r,s){if(!kf(r))throw Error(n(299));var a=!1,h="",p=wy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Rf(r,1,!1,null,null,a,!1,h,p),r[Pr]=s.current,Aa(r.nodeType===8?r.parentNode:r),new Vf(s)},tn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Wl(s),r=r===null?null:r.stateNode,r},tn.flushSync=function(r){return os(r)},tn.hydrate=function(r,s,a){if(!Wu(s))throw Error(n(200));return Ku(null,r,s,!0,a)},tn.hydrateRoot=function(r,s,a){if(!kf(r))throw Error(n(405));var h=a!=null&&a.hydratedSources||null,p=!1,g="",w=wy;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=_y(s,null,r,1,a??null,p,!1,g,w),r[Pr]=s.current,Aa(r),h)for(r=0;r<h.length;r++)a=h[r],p=a._getVersion,p=p(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,p]:s.mutableSourceEagerHydrationData.push(a,p);return new Hu(s)},tn.render=function(r,s,a){if(!Wu(s))throw Error(n(200));return Ku(null,r,s,!1,a)},tn.unmountComponentAtNode=function(r){if(!Wu(r))throw Error(n(40));return r._reactRootContainer?(os(function(){Ku(null,null,r,!1,function(){r._reactRootContainer=null,r[Pr]=null})}),!0):!1},tn.unstable_batchedUpdates=Tf,tn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Wu(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ku(r,s,a,!1,h)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var Vy;function ZT(){if(Vy)return Nf.exports;Vy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nf.exports=JT(),Nf.exports}var ky;function eS(){if(ky)return Gu;ky=1;var t=ZT();return Gu.createRoot=t.createRoot,Gu.hydrateRoot=t.hydrateRoot,Gu}var tS=eS();const hD=s_(tS);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dy="popstate";function nS(t={}){function e(o,l){let{pathname:u="/",search:f="",hash:d=""}=ws(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),ud("",{pathname:u,search:f,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let u=o.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let d=o.location.href,m=d.indexOf("#");f=m===-1?d:d.slice(0,m)}return f+"#"+(typeof l=="string"?l:sl(l))}function i(o,l){jn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return iS(e,n,i,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rS(){return Math.random().toString(36).substring(2,10)}function My(t,e){return{usr:t.state,key:t.key,idx:e}}function ud(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ws(e):e,state:n,key:e&&e.key||i||rS()}}function sl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ws(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function iS(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,f="POP",d=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function E(){f="POP";let D=v(),z=D==null?null:D-m;m=D,d&&d({action:f,location:O.location,delta:z})}function T(D,z){f="PUSH";let $=ud(O.location,D,z);n&&n($,D),m=v()+1;let q=My($,m),re=O.createHref($);try{u.pushState(q,"",re)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(re)}l&&d&&d({action:f,location:O.location,delta:1})}function P(D,z){f="REPLACE";let $=ud(O.location,D,z);n&&n($,D),m=v();let q=My($,m),re=O.createHref($);u.replaceState(q,"",re),l&&d&&d({action:f,location:O.location,delta:0})}function L(D){return sS(D)}let O={get action(){return f},get location(){return t(o,u)},listen(D){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Dy,E),d=D,()=>{o.removeEventListener(Dy,E),d=null}},createHref(D){return e(o,D)},createURL:L,encodeLocation(D){let z=L(D);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:P,go(D){return u.go(D)}};return O}function sS(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:sl(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function a_(t,e,n="/"){return oS(t,e,n,!1)}function oS(t,e,n,i){let o=typeof e=="string"?ws(e):e,l=br(o.pathname||"/",n);if(l==null)return null;let u=l_(t);aS(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let m=vS(l);f=gS(u[d],m,i)}return f}function l_(t,e=[],n=[],i="",o=!1){let l=(u,f,d=o,m)=>{let v={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&d)return;it(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let E=Lr([i,v.relativePath]),T=n.concat(v);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),l_(u.children,e,T,E,d)),!(u.path==null&&!u.index)&&e.push({path:E,score:pS(E,u.index),routesMeta:T})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let d of u_(u.path))l(u,f,!0,d)}),e}function u_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=u_(i.join("/")),f=[];return f.push(...u.map(d=>d===""?l:[l,d].join("/"))),o&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function aS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var lS=/^:[\w-]+$/,uS=3,cS=2,hS=1,fS=10,dS=-2,Ny=t=>t==="*";function pS(t,e){let n=t.split("/"),i=n.length;return n.some(Ny)&&(i+=dS),e&&(i+=cS),n.filter(o=>!Ny(o)).reduce((o,l)=>o+(lS.test(l)?uS:l===""?hS:fS),i)}function mS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function gS(t,e,n=!1){let{routesMeta:i}=t,o={},l="/",u=[];for(let f=0;f<i.length;++f){let d=i[f],m=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=vc({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},v),T=d.route;if(!E&&m&&n&&!i[i.length-1].route.index&&(E=vc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:Lr([l,E.pathname]),pathnameBase:TS(Lr([l,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(l=Lr([l,E.pathnameBase]))}return u}function vc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=yS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:E},T)=>{if(v==="*"){let L=f[T]||"";u=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const P=f[T];return E&&!P?m[v]=void 0:m[v]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function yS(t,e=!1,n=!0){jn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(i.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function vS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function br(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function _S(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?ws(t):t;return{pathname:n?n.startsWith("/")?n:ES(n,e):e,search:SS(i),hash:AS(o)}}function ES(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function bf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function c_(t){let e=wS(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function h_(t,e,n,i=!1){let o;typeof t=="string"?o=ws(t):(o={...t},it(!o.pathname||!o.pathname.includes("?"),bf("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),bf("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),bf("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=n;else{let E=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}f=E>=0?e[E]:"/"}let d=_S(o,f),m=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||v)&&(d.pathname+="/"),d}var Lr=t=>t.join("/").replace(/\/\/+/g,"/"),TS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var f_=["POST","PUT","PATCH","DELETE"];new Set(f_);var PS=["GET",...f_];new Set(PS);var Bo=B.createContext(null);Bo.displayName="DataRouter";var zc=B.createContext(null);zc.displayName="DataRouterState";B.createContext(!1);var d_=B.createContext({isTransitioning:!1});d_.displayName="ViewTransition";var IS=B.createContext(new Map);IS.displayName="Fetchers";var RS=B.createContext(null);RS.displayName="Await";var mr=B.createContext(null);mr.displayName="Navigation";var wl=B.createContext(null);wl.displayName="Location";var $r=B.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var Zd=B.createContext(null);Zd.displayName="RouteError";function xS(t,{relative:e}={}){it(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=B.useContext(mr),{hash:o,pathname:l,search:u}=Sl(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Lr([n,l])),i.createHref({pathname:f,search:u,hash:o})}function Tl(){return B.useContext(wl)!=null}function Ts(){return it(Tl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(wl).location}var p_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m_(t){B.useContext(mr).static||B.useLayoutEffect(t)}function VS(){let{isDataRoute:t}=B.useContext($r);return t?$S():kS()}function kS(){it(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(Bo),{basename:e,navigator:n}=B.useContext(mr),{matches:i}=B.useContext($r),{pathname:o}=Ts(),l=JSON.stringify(c_(i)),u=B.useRef(!1);return m_(()=>{u.current=!0}),B.useCallback((d,m={})=>{if(jn(u.current,p_),!u.current)return;if(typeof d=="number"){n.go(d);return}let v=h_(d,JSON.parse(l),o,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Lr([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,l,o,t])}B.createContext(null);function Sl(t,{relative:e}={}){let{matches:n}=B.useContext($r),{pathname:i}=Ts(),o=JSON.stringify(c_(n));return B.useMemo(()=>h_(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function DS(t,e){return g_(t,e)}function g_(t,e,n,i,o){it(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=B.useContext(mr),{matches:u}=B.useContext($r),f=u[u.length-1],d=f?f.params:{},m=f?f.pathname:"/",v=f?f.pathnameBase:"/",E=f&&f.route;{let $=E&&E.path||"";y_(m,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let T=Ts(),P;if(e){let $=typeof e=="string"?ws(e):e;it(v==="/"||$.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),P=$}else P=T;let L=P.pathname||"/",O=L;if(v!=="/"){let $=v.replace(/^\//,"").split("/");O="/"+L.replace(/^\//,"").split("/").slice($.length).join("/")}let D=a_(t,{pathname:O});jn(E||D!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),jn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=bS(D&&D.map($=>Object.assign({},$,{params:Object.assign({},d,$.params),pathname:Lr([v,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:Lr([v,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),u,n,i,o);return e&&z?B.createElement(wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},z):z}function MS(){let t=zS(),e=CS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,u)}var NS=B.createElement(MS,null),LS=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?B.createElement($r.Provider,{value:this.props.routeContext},B.createElement(Zd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OS({routeContext:t,match:e,children:n}){let i=B.useContext(Bo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement($r.Provider,{value:t},n)}function bS(t,e=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let m=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);it(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,d=-1;if(n)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=m),v.route.id){let{loaderData:E,errors:T}=n,P=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||P){f=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((m,v,E)=>{let T,P=!1,L=null,O=null;n&&(T=u&&v.route.id?u[v.route.id]:void 0,L=v.route.errorElement||NS,f&&(d<0&&E===0?(y_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,O=null):d===E&&(P=!0,O=v.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,E+1)),z=()=>{let $;return T?$=L:P?$=O:v.route.Component?$=B.createElement(v.route.Component,null):v.route.element?$=v.route.element:$=m,B.createElement(OS,{match:v,routeContext:{outlet:m,matches:D,isDataRoute:n!=null},children:$})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?B.createElement(LS,{location:n.location,revalidation:n.revalidation,component:L,error:T,children:z(),routeContext:{outlet:null,matches:D,isDataRoute:!0},unstable_onError:i}):z()},null)}function ep(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FS(t){let e=B.useContext(Bo);return it(e,ep(t)),e}function BS(t){let e=B.useContext(zc);return it(e,ep(t)),e}function US(t){let e=B.useContext($r);return it(e,ep(t)),e}function tp(t){let e=US(t),n=e.matches[e.matches.length-1];return it(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jS(){return tp("useRouteId")}function zS(){let t=B.useContext(Zd),e=BS("useRouteError"),n=tp("useRouteError");return t!==void 0?t:e.errors?.[n]}function $S(){let{router:t}=FS("useNavigate"),e=tp("useNavigate"),n=B.useRef(!1);return m_(()=>{n.current=!0}),B.useCallback(async(o,l={})=>{jn(n.current,p_),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Ly={};function y_(t,e,n){!e&&!Ly[t]&&(Ly[t]=!0,jn(!1,n))}B.memo(HS);function HS({routes:t,future:e,state:n,unstable_onError:i}){return g_(t,void 0,n,i,e)}function WS(t){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KS({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:l=!1}){it(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=B.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof n=="string"&&(n=ws(n));let{pathname:d="/",search:m="",hash:v="",state:E=null,key:T="default"}=n,P=B.useMemo(()=>{let L=br(d,u);return L==null?null:{location:{pathname:L,search:m,hash:v,state:E,key:T},navigationType:i}},[u,d,m,v,E,T,i]);return jn(P!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:B.createElement(mr.Provider,{value:f},B.createElement(wl.Provider,{children:e,value:P}))}function fD({children:t,location:e}){return DS(cd(t),e)}function cd(t,e=[]){let n=[];return B.Children.forEach(t,(i,o)=>{if(!B.isValidElement(i))return;let l=[...e,o];if(i.type===B.Fragment){n.push.apply(n,cd(i.props.children,l));return}it(i.type===WS,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=cd(i.props.children,l)),n.push(u)}),n}var oc="get",ac="application/x-www-form-urlencoded";function $c(t){return t!=null&&typeof t.tagName=="string"}function qS(t){return $c(t)&&t.tagName.toLowerCase()==="button"}function GS(t){return $c(t)&&t.tagName.toLowerCase()==="form"}function QS(t){return $c(t)&&t.tagName.toLowerCase()==="input"}function XS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YS(t,e){return t.button===0&&(!e||e==="_self")&&!XS(t)}var Qu=null;function JS(){if(Qu===null)try{new FormData(document.createElement("form"),0),Qu=!1}catch{Qu=!0}return Qu}var ZS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ff(t){return t!=null&&!ZS.has(t)?(jn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ac}"`),null):t}function e2(t,e){let n,i,o,l,u;if(GS(t)){let f=t.getAttribute("action");i=f?br(f,e):null,n=t.getAttribute("method")||oc,o=Ff(t.getAttribute("enctype"))||ac,l=new FormData(t)}else if(qS(t)||QS(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(i=d?br(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||oc,o=Ff(t.getAttribute("formenctype"))||Ff(f.getAttribute("enctype"))||ac,l=new FormData(f,t),!JS()){let{name:m,type:v,value:E}=t;if(v==="image"){let T=m?`${m}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else m&&l.append(m,E)}}else{if($c(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oc,i=null,o=ac,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function np(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function t2(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&br(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function n2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function r2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function i2(t,e,n){let i=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await n2(l,n);return u.links?u.links():[]}return[]}));return l2(i.flat(1).filter(r2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Oy(t,e,n,i,o,l){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,f=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>u(d,m)||f(d,m)):l==="data"?e.filter((d,m)=>{let v=i.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(u(d,m)||f(d,m))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function s2(t,e,{includeHydrateFallback:n}={}){return o2(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function o2(t){return[...new Set(t)]}function a2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function l2(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let l=JSON.stringify(a2(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}function v_(){let t=B.useContext(Bo);return np(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function u2(){let t=B.useContext(zc);return np(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rp=B.createContext(void 0);rp.displayName="FrameworkContext";function __(){let t=B.useContext(rp);return np(t,"You must render this element inside a <HydratedRouter> element"),t}function c2(t,e){let n=B.useContext(rp),[i,o]=B.useState(!1),[l,u]=B.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:m,onMouseLeave:v,onTouchStart:E}=e,T=B.useRef(null);B.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let O=z=>{z.forEach($=>{u($.isIntersecting)})},D=new IntersectionObserver(O,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[t]),B.useEffect(()=>{if(i){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[i]);let P=()=>{o(!0)},L=()=>{o(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:$a(f,P),onBlur:$a(d,L),onMouseEnter:$a(m,P),onMouseLeave:$a(v,L),onTouchStart:$a(E,P)}]:[!1,T,{}]}function $a(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function h2({page:t,...e}){let{router:n}=v_(),i=B.useMemo(()=>a_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?B.createElement(d2,{page:t,matches:i,...e}):null}function f2(t){let{manifest:e,routeModules:n}=__(),[i,o]=B.useState([]);return B.useEffect(()=>{let l=!1;return i2(t,e,n).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,n]),i}function d2({page:t,matches:e,...n}){let i=Ts(),{manifest:o,routeModules:l}=__(),{basename:u}=v_(),{loaderData:f,matches:d}=u2(),m=B.useMemo(()=>Oy(t,e,d,o,i,"data"),[t,e,d,o,i]),v=B.useMemo(()=>Oy(t,e,d,o,i,"assets"),[t,e,d,o,i]),E=B.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let L=new Set,O=!1;if(e.forEach(z=>{let $=o.routes[z.route.id];!$||!$.hasLoader||(!m.some(q=>q.route.id===z.route.id)&&z.route.id in f&&l[z.route.id]?.shouldRevalidate||$.hasClientLoader?O=!0:L.add(z.route.id))}),L.size===0)return[];let D=t2(t,u,"data");return O&&L.size>0&&D.searchParams.set("_routes",e.filter(z=>L.has(z.route.id)).map(z=>z.route.id).join(",")),[D.pathname+D.search]},[u,f,i,o,m,e,t,l]),T=B.useMemo(()=>s2(v,o),[v,o]),P=f2(v);return B.createElement(B.Fragment,null,E.map(L=>B.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),T.map(L=>B.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),P.map(({key:L,link:O})=>B.createElement("link",{key:L,nonce:n.nonce,...O})))}function p2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var E_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E_&&(window.__reactRouterVersion="7.9.3")}catch{}function dD({basename:t,children:e,window:n}){let i=B.useRef();i.current==null&&(i.current=nS({window:n,v5Compat:!0}));let o=i.current,[l,u]=B.useState({action:o.action,location:o.location}),f=B.useCallback(d=>{B.startTransition(()=>u(d))},[u]);return B.useLayoutEffect(()=>o.listen(f),[o,f]),B.createElement(KS,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var w_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T_=B.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:f,target:d,to:m,preventScrollReset:v,viewTransition:E,...T},P){let{basename:L}=B.useContext(mr),O=typeof m=="string"&&w_.test(m),D,z=!1;if(typeof m=="string"&&O&&(D=m,E_))try{let C=new URL(window.location.href),k=m.startsWith("//")?new URL(C.protocol+m):new URL(m),V=br(k.pathname,L);k.origin===C.origin&&V!=null?m=V+k.search+k.hash:z=!0}catch{jn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=xS(m,{relative:o}),[q,re,te]=c2(i,T),ie=v2(m,{replace:u,state:f,target:d,preventScrollReset:v,relative:o,viewTransition:E});function R(C){e&&e(C),C.defaultPrevented||ie(C)}let A=B.createElement("a",{...T,...te,href:D||$,onClick:z||l?e:R,ref:p2(P,re),target:d,"data-discover":!O&&n==="render"?"true":void 0});return q&&!O?B.createElement(B.Fragment,null,A,B.createElement(h2,{page:$})):A});T_.displayName="Link";var m2=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:f,children:d,...m},v){let E=Sl(u,{relative:m.relative}),T=Ts(),P=B.useContext(zc),{navigator:L,basename:O}=B.useContext(mr),D=P!=null&&S2(E)&&f===!0,z=L.encodeLocation?L.encodeLocation(E).pathname:E.pathname,$=T.pathname,q=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||($=$.toLowerCase(),q=q?q.toLowerCase():null,z=z.toLowerCase()),q&&O&&(q=br(q,O)||q);const re=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let te=$===z||!o&&$.startsWith(z)&&$.charAt(re)==="/",ie=q!=null&&(q===z||!o&&q.startsWith(z)&&q.charAt(z.length)==="/"),R={isActive:te,isPending:ie,isTransitioning:D},A=te?e:void 0,C;typeof i=="function"?C=i(R):C=[i,te?"active":null,ie?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(R):l;return B.createElement(T_,{...m,"aria-current":A,className:C,ref:v,style:k,to:u,viewTransition:f},typeof d=="function"?d(R):d)});m2.displayName="NavLink";var g2=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:l,method:u=oc,action:f,onSubmit:d,relative:m,preventScrollReset:v,viewTransition:E,...T},P)=>{let L=w2(),O=T2(f,{relative:m}),D=u.toLowerCase()==="get"?"get":"post",z=typeof f=="string"&&w_.test(f),$=q=>{if(d&&d(q),q.defaultPrevented)return;q.preventDefault();let re=q.nativeEvent.submitter,te=re?.getAttribute("formmethod")||u;L(re||q.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:o,state:l,relative:m,preventScrollReset:v,viewTransition:E})};return B.createElement("form",{ref:P,method:D,action:O,onSubmit:i?d:$,...T,"data-discover":!z&&t==="render"?"true":void 0})});g2.displayName="Form";function y2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S_(t){let e=B.useContext(Bo);return it(e,y2(t)),e}function v2(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:u}={}){let f=VS(),d=Ts(),m=Sl(t,{relative:l});return B.useCallback(v=>{if(YS(v,e)){v.preventDefault();let E=n!==void 0?n:sl(d)===sl(m);f(t,{replace:E,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[d,f,m,n,i,e,t,o,l,u])}var _2=0,E2=()=>`__${String(++_2)}__`;function w2(){let{router:t}=S_("useSubmit"),{basename:e}=B.useContext(mr),n=jS();return B.useCallback(async(i,o={})=>{let{action:l,method:u,encType:f,formData:d,body:m}=e2(i,e);if(o.navigate===!1){let v=o.fetcherKey||E2();await t.fetch(v,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function T2(t,{relative:e}={}){let{basename:n}=B.useContext(mr),i=B.useContext($r);it(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Sl(t||".",{relative:e})},u=Ts();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(v=>v==="")){f.delete("index"),d.filter(E=>E).forEach(E=>f.append("index",E));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Lr([n,l.pathname])),sl(l)}function S2(t,{relative:e}={}){let n=B.useContext(d_);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=S_("useViewTransitionState"),o=Sl(t,{relative:e});if(!n.isTransitioning)return!1;let l=br(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=br(n.nextLocation.pathname,i)||n.nextLocation.pathname;return vc(o.pathname,u)!=null||vc(o.pathname,l)!=null}const ip=B.createContext({});function sp(t){const e=B.useRef(null);return e.current===null&&(e.current=t()),e.current}const op=typeof window<"u",A_=op?B.useLayoutEffect:B.useEffect,Hc=B.createContext(null);function ap(t,e){t.indexOf(e)===-1&&t.push(e)}function lp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fr=(t,e,n)=>n>e?e:n<t?t:n;let up=()=>{};const Br={},C_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function P_(t){return typeof t=="object"&&t!==null}const I_=t=>/^0[^.\s]+$/u.test(t);function cp(t){let e;return()=>(e===void 0&&(e=t()),e)}const Rn=t=>t,A2=(t,e)=>n=>e(t(n)),Al=(...t)=>t.reduce(A2),ol=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class hp{constructor(){this.subscriptions=[]}add(e){return ap(this.subscriptions,e),()=>lp(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ar=t=>t*1e3,In=t=>t/1e3;function R_(t,e){return e?t*(1e3/e):0}const x_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,C2=1e-7,P2=12;function I2(t,e,n,i,o){let l,u,f=0;do u=e+(n-e)/2,l=x_(u,i,o)-t,l>0?n=u:e=u;while(Math.abs(l)>C2&&++f<P2);return u}function Cl(t,e,n,i){if(t===e&&n===i)return Rn;const o=l=>I2(l,0,1,t,n);return l=>l===0||l===1?l:x_(o(l),e,i)}const V_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,k_=t=>e=>1-t(1-e),D_=Cl(.33,1.53,.69,.99),fp=k_(D_),M_=V_(fp),N_=t=>(t*=2)<1?.5*fp(t):.5*(2-Math.pow(2,-10*(t-1))),dp=t=>1-Math.sin(Math.acos(t)),L_=k_(dp),O_=V_(dp),R2=Cl(.42,0,1,1),x2=Cl(0,0,.58,1),b_=Cl(.42,0,.58,1),V2=t=>Array.isArray(t)&&typeof t[0]!="number",F_=t=>Array.isArray(t)&&typeof t[0]=="number",k2={linear:Rn,easeIn:R2,easeInOut:b_,easeOut:x2,circIn:dp,circInOut:O_,circOut:L_,backIn:fp,backInOut:M_,backOut:D_,anticipate:N_},D2=t=>typeof t=="string",by=t=>{if(F_(t)){up(t.length===4);const[e,n,i,o]=t;return Cl(e,n,i,o)}else if(D2(t))return k2[t];return t},Xu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function M2(t,e){let n=new Set,i=new Set,o=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function d(v){u.has(v)&&(m.schedule(v),t()),v(f)}const m={schedule:(v,E=!1,T=!1)=>{const L=T&&o?n:i;return E&&u.add(v),L.has(v)||L.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(f=v,o){l=!0;return}o=!0,[n,i]=[i,n],n.forEach(d),n.clear(),o=!1,l&&(l=!1,m.process(v))}};return m}const N2=40;function B_(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Xu.reduce((q,re)=>(q[re]=M2(l),q),{}),{setup:f,read:d,resolveKeyframes:m,preUpdate:v,update:E,preRender:T,render:P,postRender:L}=u,O=()=>{const q=Br.useManualTiming?o.timestamp:performance.now();n=!1,Br.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(q-o.timestamp,N2),1)),o.timestamp=q,o.isProcessing=!0,f.process(o),d.process(o),m.process(o),v.process(o),E.process(o),T.process(o),P.process(o),L.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(O))},D=()=>{n=!0,i=!0,o.isProcessing||t(O)};return{schedule:Xu.reduce((q,re)=>{const te=u[re];return q[re]=(ie,R=!1,A=!1)=>(n||D(),te.schedule(ie,R,A)),q},{}),cancel:q=>{for(let re=0;re<Xu.length;re++)u[Xu[re]].cancel(q)},state:o,steps:u}}const{schedule:et,cancel:Ri,state:Dt,steps:Bf}=B_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0);let lc;function L2(){lc=void 0}const rn={now:()=>(lc===void 0&&rn.set(Dt.isProcessing||Br.useManualTiming?Dt.timestamp:performance.now()),lc),set:t=>{lc=t,queueMicrotask(L2)}},U_=t=>e=>typeof e=="string"&&e.startsWith(t),pp=U_("--"),O2=U_("var(--"),mp=t=>O2(t)?b2.test(t.split("/*")[0].trim()):!1,b2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Uo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},al={...Uo,transform:t=>Fr(0,1,t)},Yu={...Uo,default:1},Qa=t=>Math.round(t*1e5)/1e5,gp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F2(t){return t==null}const B2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yp=(t,e)=>n=>!!(typeof n=="string"&&B2.test(n)&&n.startsWith(t)||e&&!F2(n)&&Object.prototype.hasOwnProperty.call(n,e)),j_=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,l,u,f]=i.match(gp);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},U2=t=>Fr(0,255,t),Uf={...Uo,transform:t=>Math.round(U2(t))},ds={test:yp("rgb","red"),parse:j_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Uf.transform(t)+", "+Uf.transform(e)+", "+Uf.transform(n)+", "+Qa(al.transform(i))+")"};function j2(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const hd={test:yp("#"),parse:j2,transform:ds.transform},Pl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ei=Pl("deg"),lr=Pl("%"),_e=Pl("px"),z2=Pl("vh"),$2=Pl("vw"),Fy={...lr,parse:t=>lr.parse(t)/100,transform:t=>lr.transform(t*100)},wo={test:yp("hsl","hue"),parse:j_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+lr.transform(Qa(e))+", "+lr.transform(Qa(n))+", "+Qa(al.transform(i))+")"},vt={test:t=>ds.test(t)||hd.test(t)||wo.test(t),parse:t=>ds.test(t)?ds.parse(t):wo.test(t)?wo.parse(t):hd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ds.transform(t):wo.transform(t),getAnimatableNone:t=>{const e=vt.parse(t);return e.alpha=0,vt.transform(e)}},H2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W2(t){return isNaN(t)&&typeof t=="string"&&(t.match(gp)?.length||0)+(t.match(H2)?.length||0)>0}const z_="number",$_="color",K2="var",q2="var(",By="${}",G2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ll(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let l=0;const f=e.replace(G2,d=>(vt.test(d)?(i.color.push(l),o.push($_),n.push(vt.parse(d))):d.startsWith(q2)?(i.var.push(l),o.push(K2),n.push(d)):(i.number.push(l),o.push(z_),n.push(parseFloat(d))),++l,By)).split(By);return{values:n,split:f,indexes:i,types:o}}function H_(t){return ll(t).values}function W_(t){const{split:e,types:n}=ll(t),i=e.length;return o=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],o[u]!==void 0){const f=n[u];f===z_?l+=Qa(o[u]):f===$_?l+=vt.transform(o[u]):l+=o[u]}return l}}const Q2=t=>typeof t=="number"?0:vt.test(t)?vt.getAnimatableNone(t):t;function X2(t){const e=H_(t);return W_(t)(e.map(Q2))}const xi={test:W2,parse:H_,createTransformer:W_,getAnimatableNone:X2};function jf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Y2({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;o=jf(d,f,t+1/3),l=jf(d,f,t),u=jf(d,f,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function _c(t,e){return n=>n>0?e:t}const rt=(t,e,n)=>t+(e-t)*n,zf=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},J2=[hd,ds,wo],Z2=t=>J2.find(e=>e.test(t));function Uy(t){const e=Z2(t);if(!e)return!1;let n=e.parse(t);return e===wo&&(n=Y2(n)),n}const jy=(t,e)=>{const n=Uy(t),i=Uy(e);if(!n||!i)return _c(t,e);const o={...n};return l=>(o.red=zf(n.red,i.red,l),o.green=zf(n.green,i.green,l),o.blue=zf(n.blue,i.blue,l),o.alpha=rt(n.alpha,i.alpha,l),ds.transform(o))},fd=new Set(["none","hidden"]);function eA(t,e){return fd.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function tA(t,e){return n=>rt(t,e,n)}function vp(t){return typeof t=="number"?tA:typeof t=="string"?mp(t)?_c:vt.test(t)?jy:iA:Array.isArray(t)?K_:typeof t=="object"?vt.test(t)?jy:nA:_c}function K_(t,e){const n=[...t],i=n.length,o=t.map((l,u)=>vp(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=o[u](l);return n}}function nA(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=vp(t[o])(t[o],e[o]));return o=>{for(const l in i)n[l]=i[l](o);return n}}function rA(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][i[l]],f=t.values[u]??0;n[o]=f,i[l]++}return n}const iA=(t,e)=>{const n=xi.createTransformer(e),i=ll(t),o=ll(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?fd.has(t)&&!o.values.length||fd.has(e)&&!i.values.length?eA(t,e):Al(K_(rA(i,o),o.values),n):_c(t,e)};function q_(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?rt(t,e,n):vp(t)(t,e)}const sA=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>et.update(e,n),stop:()=>Ri(e),now:()=>Dt.isProcessing?Dt.timestamp:rn.now()}},G_=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)i+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ec=2e4;function _p(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Ec;)e+=n,i=t.next(e);return e>=Ec?1/0:e}function oA(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(_p(i),Ec);return{type:"keyframes",ease:l=>i.next(o*l).value/e,duration:In(o)}}const aA=5;function Q_(t,e,n){const i=Math.max(e-aA,0);return R_(n-t(i),e-i)}const lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$f=.001;function lA({duration:t=lt.duration,bounce:e=lt.bounce,velocity:n=lt.velocity,mass:i=lt.mass}){let o,l,u=1-e;u=Fr(lt.minDamping,lt.maxDamping,u),t=Fr(lt.minDuration,lt.maxDuration,In(t)),u<1?(o=m=>{const v=m*u,E=v*t,T=v-n,P=dd(m,u),L=Math.exp(-E);return $f-T/P*L},l=m=>{const E=m*u*t,T=E*n+n,P=Math.pow(u,2)*Math.pow(m,2)*t,L=Math.exp(-E),O=dd(Math.pow(m,2),u);return(-o(m)+$f>0?-1:1)*((T-P)*L)/O}):(o=m=>{const v=Math.exp(-m*t),E=(m-n)*t+1;return-$f+v*E},l=m=>{const v=Math.exp(-m*t),E=(n-m)*(t*t);return v*E});const f=5/t,d=cA(o,l,f);if(t=ar(t),isNaN(d))return{stiffness:lt.stiffness,damping:lt.damping,duration:t};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:t}}}const uA=12;function cA(t,e,n){let i=n;for(let o=1;o<uA;o++)i=i-t(i)/e(i);return i}function dd(t,e){return t*Math.sqrt(1-e*e)}const hA=["duration","bounce"],fA=["stiffness","damping","mass"];function zy(t,e){return e.some(n=>t[n]!==void 0)}function dA(t){let e={velocity:lt.velocity,stiffness:lt.stiffness,damping:lt.damping,mass:lt.mass,isResolvedFromDuration:!1,...t};if(!zy(t,fA)&&zy(t,hA))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,l=2*Fr(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:lt.mass,stiffness:o,damping:l}}else{const n=lA(t);e={...e,...n,mass:lt.mass},e.isResolvedFromDuration=!0}return e}function wc(t=lt.visualDuration,e=lt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:d,damping:m,mass:v,duration:E,velocity:T,isResolvedFromDuration:P}=dA({...n,velocity:-In(n.velocity||0)}),L=T||0,O=m/(2*Math.sqrt(d*v)),D=u-l,z=In(Math.sqrt(d/v)),$=Math.abs(D)<5;i||(i=$?lt.restSpeed.granular:lt.restSpeed.default),o||(o=$?lt.restDelta.granular:lt.restDelta.default);let q;if(O<1){const te=dd(z,O);q=ie=>{const R=Math.exp(-O*z*ie);return u-R*((L+O*z*D)/te*Math.sin(te*ie)+D*Math.cos(te*ie))}}else if(O===1)q=te=>u-Math.exp(-z*te)*(D+(L+z*D)*te);else{const te=z*Math.sqrt(O*O-1);q=ie=>{const R=Math.exp(-O*z*ie),A=Math.min(te*ie,300);return u-R*((L+O*z*D)*Math.sinh(A)+te*D*Math.cosh(A))/te}}const re={calculatedDuration:P&&E||null,next:te=>{const ie=q(te);if(P)f.done=te>=E;else{let R=te===0?L:0;O<1&&(R=te===0?ar(L):Q_(q,te,ie));const A=Math.abs(R)<=i,C=Math.abs(u-ie)<=o;f.done=A&&C}return f.value=f.done?u:ie,f},toString:()=>{const te=Math.min(_p(re),Ec),ie=G_(R=>re.next(te*R).value,te,30);return te+"ms "+ie},toTransition:()=>{}};return re}wc.applyToOptions=t=>{const e=oA(t,100,wc);return t.ease=e.ease,t.duration=ar(e.duration),t.type="keyframes",t};function pd({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:d,restDelta:m=.5,restSpeed:v}){const E=t[0],T={done:!1,value:E},P=A=>f!==void 0&&A<f||d!==void 0&&A>d,L=A=>f===void 0?d:d===void 0||Math.abs(f-A)<Math.abs(d-A)?f:d;let O=n*e;const D=E+O,z=u===void 0?D:u(D);z!==D&&(O=z-E);const $=A=>-O*Math.exp(-A/i),q=A=>z+$(A),re=A=>{const C=$(A),k=q(A);T.done=Math.abs(C)<=m,T.value=T.done?z:k};let te,ie;const R=A=>{P(T.value)&&(te=A,ie=wc({keyframes:[T.value,L(T.value)],velocity:Q_(q,A,T.value),damping:o,stiffness:l,restDelta:m,restSpeed:v}))};return R(0),{calculatedDuration:null,next:A=>{let C=!1;return!ie&&te===void 0&&(C=!0,re(A),R(A)),te!==void 0&&A>=te?ie.next(A-te):(!C&&re(A),T)}}}function pA(t,e,n){const i=[],o=n||Br.mix||q_,l=t.length-1;for(let u=0;u<l;u++){let f=o(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||Rn:e;f=Al(d,f)}i.push(f)}return i}function mA(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const l=t.length;if(up(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=pA(e,i,o),d=f.length,m=v=>{if(u&&v<t[0])return e[0];let E=0;if(d>1)for(;E<t.length-2&&!(v<t[E+1]);E++);const T=ol(t[E],t[E+1],v);return f[E](T)};return n?v=>m(Fr(t[0],t[l-1],v)):m}function gA(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=ol(0,e,i);t.push(rt(n,1,o))}}function yA(t){const e=[0];return gA(e,t.length-1),e}function vA(t,e){return t.map(n=>n*e)}function _A(t,e){return t.map(()=>e||b_).splice(0,t.length-1)}function Xa({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=V2(i)?i.map(by):by(i),l={done:!1,value:e[0]},u=vA(n&&n.length===e.length?n:yA(e),t),f=mA(u,e,{ease:Array.isArray(o)?o:_A(e,o)});return{calculatedDuration:t,next:d=>(l.value=f(d),l.done=d>=t,l)}}const EA=t=>t!==null;function Ep(t,{repeat:e,repeatType:n="loop"},i,o=1){const l=t.filter(EA),f=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const wA={decay:pd,inertia:pd,tween:Xa,keyframes:Xa,spring:wc};function X_(t){typeof t.type=="string"&&(t.type=wA[t.type])}class wp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const TA=t=>t/100;class Tp extends wp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==rn.now()&&this.tick(rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;X_(e);const{type:n=Xa,repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const d=n||Xa;d!==Xa&&typeof f[0]!="number"&&(this.mixKeyframes=Al(TA,q_(f[0],f[1])),f=[0,100]);const m=d({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...f].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=_p(m));const{calculatedDuration:v}=m;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:v,repeat:E,repeatType:T,repeatDelay:P,type:L,onUpdate:O,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-m*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?z<0:z>o;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let q=this.currentTime,re=i;if(E){const A=Math.min(this.currentTime,o)/f;let C=Math.floor(A),k=A%1;!k&&A>=1&&(k=1),k===1&&C--,C=Math.min(C,E+1),!!(C%2)&&(T==="reverse"?(k=1-k,P&&(k-=P/f)):T==="mirror"&&(re=u)),q=Fr(0,1,k)*f}const te=$?{done:!1,value:v[0]}:re.next(q);l&&(te.value=l(te.value));let{done:ie}=te;!$&&d!==null&&(ie=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return R&&L!==pd&&(te.value=Ep(v,this.options,D,this.speed)),O&&O(te.value),R&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return In(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+In(e)}get time(){return In(this.currentTime)}set time(e){e=ar(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=In(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=sA,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function SA(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ps=t=>t*180/Math.PI,md=t=>{const e=ps(Math.atan2(t[1],t[0]));return gd(e)},AA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:md,rotateZ:md,skewX:t=>ps(Math.atan(t[1])),skewY:t=>ps(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},gd=t=>(t=t%360,t<0&&(t+=360),t),$y=md,Hy=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Wy=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),CA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hy,scaleY:Wy,scale:t=>(Hy(t)+Wy(t))/2,rotateX:t=>gd(ps(Math.atan2(t[6],t[5]))),rotateY:t=>gd(ps(Math.atan2(-t[2],t[0]))),rotateZ:$y,rotate:$y,skewX:t=>ps(Math.atan(t[4])),skewY:t=>ps(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function yd(t){return t.includes("scale")?1:0}function vd(t,e){if(!t||t==="none")return yd(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=CA,o=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=AA,o=f}if(!o)return yd(e);const l=i[e],u=o[1].split(",").map(IA);return typeof l=="function"?l(u):u[l]}const PA=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return vd(n,e)};function IA(t){return parseFloat(t.trim())}const jo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zo=new Set(jo),Ky=t=>t===Uo||t===_e,RA=new Set(["x","y","z"]),xA=jo.filter(t=>!RA.has(t));function VA(t){const e=[];return xA.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ys={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>vd(e,"x"),y:(t,{transform:e})=>vd(e,"y")};ys.translateX=ys.x;ys.translateY=ys.y;const vs=new Set;let _d=!1,Ed=!1,wd=!1;function Y_(){if(Ed){const t=Array.from(vs).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=VA(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ed=!1,_d=!1,vs.forEach(t=>t.complete(wd)),vs.clear()}function J_(){vs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ed=!0)})}function kA(){wd=!0,J_(),Y_(),wd=!1}class Sp{constructor(e,n,i,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(vs.add(this),_d||(_d=!0,et.read(J_),et.resolveKeyframes(Y_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}SA(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),vs.delete(this)}cancel(){this.state==="scheduled"&&(vs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const DA=t=>t.startsWith("--");function MA(t,e,n){DA(e)?t.style.setProperty(e,n):t.style[e]=n}const NA=cp(()=>window.ScrollTimeline!==void 0),LA={};function OA(t,e){const n=cp(t);return()=>LA[e]??n()}const Z_=OA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wa=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,qy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wa([0,.65,.55,1]),circOut:Wa([.55,0,1,.45]),backIn:Wa([.31,.01,.66,-.59]),backOut:Wa([.33,1.53,.69,.99])};function e1(t,e){if(t)return typeof t=="function"?Z_()?G_(t,e):"ease-out":F_(t)?Wa(t):Array.isArray(t)?t.map(n=>e1(n,e)||qy.easeOut):qy[t]}function bA(t,e,n,{delay:i=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:d}={},m=void 0){const v={[e]:n};d&&(v.offset=d);const E=e1(f,o);Array.isArray(E)&&(v.easing=E);const T={delay:i,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(T.pseudoElement=m),t.animate(v,T)}function t1(t){return typeof t=="function"&&"applyToOptions"in t}function FA({type:t,...e}){return t1(t)&&Z_()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class BA extends wp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,up(typeof e.type!="string");const m=FA(e);this.animation=bA(n,i,o,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Ep(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):MA(n,i,v),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return In(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+In(e)}get time(){return In(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ar(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&NA()?(this.animation.timeline=e,Rn):n(this)}}const n1={anticipate:N_,backInOut:M_,circInOut:O_};function UA(t){return t in n1}function jA(t){typeof t.ease=="string"&&UA(t.ease)&&(t.ease=n1[t.ease])}const Gy=10;class zA extends BA{constructor(e){jA(e),X_(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Tp({...u,autoplay:!1}),d=ar(this.finishedTime??this.time);n.setWithVelocity(f.sample(d-Gy).value,f.sample(d).value,Gy),f.stop()}}const Qy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xi.test(t)||t==="0")&&!t.startsWith("url("));function $A(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function HA(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Qy(o,e),f=Qy(l,e);return!u||!f?!1:$A(t)||(n==="spring"||t1(n))&&i}function Td(t){t.duration=0,t.type="keyframes"}const WA=new Set(["opacity","clipPath","filter","transform"]),KA=cp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qA(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return KA()&&n&&WA.has(n)&&(n!=="transform"||!m)&&!d&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}const GA=40;class QA extends wp{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:d,motionValue:m,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=rn.now();const T={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:l,repeatType:u,name:d,motionValue:m,element:v,...E},P=v?.KeyframeResolver||Sp;this.keyframeResolver=new P(f,(L,O,D)=>this.onKeyframesResolved(L,O,T,!D),d,m,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:d,isHandoff:m,onUpdate:v}=i;this.resolvedAt=rn.now(),HA(e,l,u,f)||((Br.instantAnimations||!d)&&v?.(Ep(e,i,n)),e[0]=e[e.length-1],Td(i),i.repeat=0);const T={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>GA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},P=!m&&qA(T)?new zA({...T,element:T.motionValue.owner.current}):new Tp(T);P.finished.then(()=>this.notifyFinished()).catch(Rn),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),kA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const XA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YA(t){const e=XA.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function r1(t,e,n=1){const[i,o]=YA(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return C_(u)?parseFloat(u):u}return mp(o)?r1(o,e,n+1):o}function Ap(t,e){return t?.[e]??t?.default??t}const i1=new Set(["width","height","top","left","right","bottom",...jo]),JA={test:t=>t==="auto",parse:t=>t},s1=t=>e=>e.test(t),o1=[Uo,_e,lr,Ei,$2,z2,JA],Xy=t=>o1.find(s1(t));function ZA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||I_(t):!0}const eC=new Set(["brightness","contrast","saturate","opacity"]);function tC(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(gp)||[];if(!i)return t;const o=n.replace(i,"");let l=eC.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+o+")"}const nC=/\b([a-z-]*)\(.*?\)/gu,Sd={...xi,getAnimatableNone:t=>{const e=t.match(nC);return e?e.map(tC).join(" "):t}},Yy={...Uo,transform:Math.round},rC={rotate:Ei,rotateX:Ei,rotateY:Ei,rotateZ:Ei,scale:Yu,scaleX:Yu,scaleY:Yu,scaleZ:Yu,skew:Ei,skewX:Ei,skewY:Ei,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:al,originX:Fy,originY:Fy,originZ:_e},Cp={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e,...rC,zIndex:Yy,fillOpacity:al,strokeOpacity:al,numOctaves:Yy},iC={...Cp,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:Sd,WebkitFilter:Sd},a1=t=>iC[t];function l1(t,e){let n=a1(t);return n!==Sd&&(n=xi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sC=new Set(["auto","none","0"]);function oC(t,e,n){let i=0,o;for(;i<t.length&&!o;){const l=t[i];typeof l=="string"&&!sC.has(l)&&ll(l).values.length&&(o=t[i]),i++}if(o&&n)for(const l of e)t[l]=l1(n,o)}class aC extends Sp{constructor(e,n,i,o,l){super(e,n,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),mp(m))){const v=r1(m,n.current);v!==void 0&&(e[d]=v),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!i1.has(i)||e.length!==2)return;const[o,l]=e,u=Xy(o),f=Xy(l);if(u!==f)if(Ky(u)&&Ky(f))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else ys[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||ZA(e[o]))&&i.push(o);i.length&&oC(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ys[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=ys[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,d])=>{e.getValue(f).set(d)}),this.resolveNoneKeyframes()}}function lC(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=n?.[t]??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const u1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function c1(t){return P_(t)&&"offsetHeight"in t}const Jy=30,uC=t=>!isNaN(parseFloat(t));class cC{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const o=rn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hp);const i=this.events[e].add(n);return e==="change"?()=>{i(),et.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Jy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Jy);return R_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ko(t,e){return new cC(t,e)}const{schedule:Pp}=B_(queueMicrotask,!1),Bn={x:!1,y:!1};function h1(){return Bn.x||Bn.y}function hC(t){return t==="x"||t==="y"?Bn[t]?null:(Bn[t]=!0,()=>{Bn[t]=!1}):Bn.x||Bn.y?null:(Bn.x=Bn.y=!0,()=>{Bn.x=Bn.y=!1})}function f1(t,e){const n=lC(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function Zy(t){return!(t.pointerType==="touch"||h1())}function fC(t,e,n={}){const[i,o,l]=f1(t,n),u=f=>{if(!Zy(f))return;const{target:d}=f,m=e(d,f);if(typeof m!="function"||!d)return;const v=E=>{Zy(E)&&(m(E),d.removeEventListener("pointerleave",v))};d.addEventListener("pointerleave",v,o)};return i.forEach(f=>{f.addEventListener("pointerenter",u,o)}),l}const d1=(t,e)=>e?t===e?!0:d1(t,e.parentElement):!1,Ip=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,dC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pC(t){return dC.has(t.tagName)||t.tabIndex!==-1}const uc=new WeakSet;function ev(t){return e=>{e.key==="Enter"&&t(e)}}function Hf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mC=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=ev(()=>{if(uc.has(n))return;Hf(n,"down");const o=ev(()=>{Hf(n,"up")}),l=()=>Hf(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function tv(t){return Ip(t)&&!h1()}function gC(t,e,n={}){const[i,o,l]=f1(t,n),u=f=>{const d=f.currentTarget;if(!tv(f))return;uc.add(d);const m=e(d,f),v=(P,L)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",T),uc.has(d)&&uc.delete(d),tv(P)&&typeof m=="function"&&m(P,{success:L})},E=P=>{v(P,d===window||d===document||n.useGlobalTarget||d1(d,P.target))},T=P=>{v(P,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",T,o)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),c1(f)&&(f.addEventListener("focus",m=>mC(m,o)),!pC(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function p1(t){return P_(t)&&"ownerSVGElement"in t}function yC(t){return p1(t)&&t.tagName==="svg"}const Wt=t=>!!(t&&t.getVelocity),vC=[...o1,vt,xi],_C=t=>vC.find(s1(t)),Rp=B.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function nv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function EC(...t){return e=>{let n=!1;const i=t.map(o=>{const l=nv(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():nv(t[o],null)}}}}function wC(...t){return B.useCallback(EC(...t),t)}class TC extends B.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,o=c1(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function SC({children:t,isPresent:e,anchorX:n,root:i}){const o=B.useId(),l=B.useRef(null),u=B.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=B.useContext(Rp),d=wC(l,t?.ref);return B.useInsertionEffect(()=>{const{width:m,height:v,top:E,left:T,right:P}=u.current;if(e||!l.current||!m||!v)return;const L=n==="left"?`left: ${T}`:`right: ${P}`;l.current.dataset.motionPopId=o;const O=document.createElement("style");f&&(O.nonce=f);const D=i??document.head;return D.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${v}px !important;
            ${L}px !important;
            top: ${E}px !important;
          }
        `),()=>{D.contains(O)&&D.removeChild(O)}},[e]),Nr.jsx(TC,{isPresent:e,childRef:l,sizeRef:u,children:B.cloneElement(t,{ref:d})})}const AC=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:u,anchorX:f,root:d})=>{const m=sp(CC),v=B.useId();let E=!0,T=B.useMemo(()=>(E=!1,{id:v,initial:e,isPresent:n,custom:o,onExitComplete:P=>{m.set(P,!0);for(const L of m.values())if(!L)return;i&&i()},register:P=>(m.set(P,!1),()=>m.delete(P))}),[n,m,i]);return l&&E&&(T={...T}),B.useMemo(()=>{m.forEach((P,L)=>m.set(L,!1))},[n]),B.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),u==="popLayout"&&(t=Nr.jsx(SC,{isPresent:n,anchorX:f,root:d,children:t})),Nr.jsx(Hc.Provider,{value:T,children:t})};function CC(){return new Map}function m1(t=!0){const e=B.useContext(Hc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,l=B.useId();B.useEffect(()=>{if(t)return o(l)},[t]);const u=B.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const Ju=t=>t.key||"";function rv(t){const e=[];return B.Children.forEach(t,n=>{B.isValidElement(n)&&e.push(n)}),e}const pD=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:d})=>{const[m,v]=m1(u),E=B.useMemo(()=>rv(t),[t]),T=u&&!m?[]:E.map(Ju),P=B.useRef(!0),L=B.useRef(E),O=sp(()=>new Map),[D,z]=B.useState(E),[$,q]=B.useState(E);A_(()=>{P.current=!1,L.current=E;for(let ie=0;ie<$.length;ie++){const R=Ju($[ie]);T.includes(R)?O.delete(R):O.get(R)!==!0&&O.set(R,!1)}},[$,T.length,T.join("-")]);const re=[];if(E!==D){let ie=[...E];for(let R=0;R<$.length;R++){const A=$[R],C=Ju(A);T.includes(C)||(ie.splice(R,0,A),re.push(A))}return l==="wait"&&re.length&&(ie=re),q(rv(ie)),z(E),null}const{forceRender:te}=B.useContext(ip);return Nr.jsx(Nr.Fragment,{children:$.map(ie=>{const R=Ju(ie),A=u&&!m?!1:E===$||T.includes(R),C=()=>{if(O.has(R))O.set(R,!0);else return;let k=!0;O.forEach(V=>{V||(k=!1)}),k&&(te?.(),q(L.current),u&&v?.(),i&&i())};return Nr.jsx(AC,{isPresent:A,initial:!P.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:d,onExitComplete:A?void 0:C,anchorX:f,children:ie},R)})})},g1=B.createContext({strict:!1}),iv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Do={};for(const t in iv)Do[t]={isEnabled:e=>iv[t].some(n=>!!e[n])};function PC(t){for(const e in t)Do[e]={...Do[e],...t[e]}}const IC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||IC.has(t)}let y1=t=>!Tc(t);function RC(t){typeof t=="function"&&(y1=e=>e.startsWith("on")?!Tc(e):t(e))}try{RC(require("@emotion/is-prop-valid").default)}catch{}function xC(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(y1(o)||n===!0&&Tc(o)||!e&&!Tc(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const Wc=B.createContext({});function Kc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ul(t){return typeof t=="string"||Array.isArray(t)}const xp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vp=["initial",...xp];function qc(t){return Kc(t.animate)||Vp.some(e=>ul(t[e]))}function v1(t){return!!(qc(t)||t.variants)}function VC(t,e){if(qc(t)){const{initial:n,animate:i}=t;return{initial:n===!1||ul(n)?n:void 0,animate:ul(i)?i:void 0}}return t.inherit!==!1?e:{}}function kC(t){const{initial:e,animate:n}=VC(t,B.useContext(Wc));return B.useMemo(()=>({initial:e,animate:n}),[sv(e),sv(n)])}function sv(t){return Array.isArray(t)?t.join(" "):t}const cl={};function DC(t){for(const e in t)cl[e]=t[e],pp(e)&&(cl[e].isCSSVariable=!0)}function _1(t,{layout:e,layoutId:n}){return zo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!cl[t]||t==="opacity")}const MC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NC=jo.length;function LC(t,e,n){let i="",o=!0;for(let l=0;l<NC;l++){const u=jo[l],f=t[u];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(u.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const m=u1(f,Cp[u]);if(!d){o=!1;const v=MC[u]||u;i+=`${v}(${m}) `}n&&(e[u]=m)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function kp(t,e,n){const{style:i,vars:o,transformOrigin:l}=t;let u=!1,f=!1;for(const d in e){const m=e[d];if(zo.has(d)){u=!0;continue}else if(pp(d)){o[d]=m;continue}else{const v=u1(m,Cp[d]);d.startsWith("origin")?(f=!0,l[d]=v):i[d]=v}}if(e.transform||(u||n?i.transform=LC(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:d="50%",originY:m="50%",originZ:v=0}=l;i.transformOrigin=`${d} ${m} ${v}`}}const Dp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function E1(t,e,n){for(const i in e)!Wt(e[i])&&!_1(i,n)&&(t[i]=e[i])}function OC({transformTemplate:t},e){return B.useMemo(()=>{const n=Dp();return kp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bC(t,e){const n=t.style||{},i={};return E1(i,n,t),Object.assign(i,OC(t,e)),i}function FC(t,e){const n={},i=bC(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const BC={offset:"stroke-dashoffset",array:"stroke-dasharray"},UC={offset:"strokeDashoffset",array:"strokeDasharray"};function jC(t,e,n=1,i=0,o=!0){t.pathLength=1;const l=o?BC:UC;t[l.offset]=_e.transform(-i);const u=_e.transform(e),f=_e.transform(n);t[l.array]=`${u} ${f}`}function w1(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...f},d,m,v){if(kp(t,f,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:T}=t;E.transform&&(T.transform=E.transform,delete E.transform),(T.transform||E.transformOrigin)&&(T.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),T.transform&&(T.transformBox=v?.transformBox??"fill-box",delete E.transformBox),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),i!==void 0&&(E.scale=i),o!==void 0&&jC(E,o,l,u,!1)}const T1=()=>({...Dp(),attrs:{}}),S1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zC(t,e,n,i){const o=B.useMemo(()=>{const l=T1();return w1(l,e,S1(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};E1(l,t.style,t),o.style={...l,...o.style}}return o}const $C=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mp(t){return typeof t!="string"||t.includes("-")?!1:!!($C.indexOf(t)>-1||/[A-Z]/u.test(t))}function HC(t,e,n,{latestValues:i},o,l=!1){const f=(Mp(t)?zC:FC)(e,i,o,t),d=xC(e,typeof t=="string",l),m=t!==B.Fragment?{...d,...f,ref:n}:{},{children:v}=e,E=B.useMemo(()=>Wt(v)?v.get():v,[v]);return B.createElement(t,{...m,children:E})}function ov(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Np(t,e,n,i){if(typeof e=="function"){const[o,l]=ov(i);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=ov(i);e=e(n!==void 0?n:t.custom,o,l)}return e}function cc(t){return Wt(t)?t.get():t}function WC({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:KC(n,i,o,t),renderState:e()}}function KC(t,e,n,i){const o={},l=i(t,{});for(const T in l)o[T]=cc(l[T]);let{initial:u,animate:f}=t;const d=qc(t),m=v1(t);e&&m&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const E=v?f:u;if(E&&typeof E!="boolean"&&!Kc(E)){const T=Array.isArray(E)?E:[E];for(let P=0;P<T.length;P++){const L=Np(t,T[P]);if(L){const{transitionEnd:O,transition:D,...z}=L;for(const $ in z){let q=z[$];if(Array.isArray(q)){const re=v?q.length-1:0;q=q[re]}q!==null&&(o[$]=q)}for(const $ in O)o[$]=O[$]}}}return o}const A1=t=>(e,n)=>{const i=B.useContext(Wc),o=B.useContext(Hc),l=()=>WC(t,e,i,o);return n?l():sp(l)};function Lp(t,e,n){const{style:i}=t,o={};for(const l in i)(Wt(i[l])||e.style&&Wt(e.style[l])||_1(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=i[l]);return o}const qC=A1({scrapeMotionValuesFromProps:Lp,createRenderState:Dp});function C1(t,e,n){const i=Lp(t,e,n);for(const o in t)if(Wt(t[o])||Wt(e[o])){const l=jo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=t[o]}return i}const GC=A1({scrapeMotionValuesFromProps:C1,createRenderState:T1}),QC=Symbol.for("motionComponentSymbol");function To(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function XC(t,e,n){return B.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):To(n)&&(n.current=i))},[e])}const Op=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YC="framerAppearId",P1="data-"+Op(YC),I1=B.createContext({});function JC(t,e,n,i,o){const{visualElement:l}=B.useContext(Wc),u=B.useContext(g1),f=B.useContext(Hc),d=B.useContext(Rp).reducedMotion,m=B.useRef(null);i=i||u.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const v=m.current,E=B.useContext(I1);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&ZC(m.current,n,o,E);const T=B.useRef(!1);B.useInsertionEffect(()=>{v&&T.current&&v.update(n,f)});const P=n[P1],L=B.useRef(!!P&&!window.MotionHandoffIsComplete?.(P)&&window.MotionHasOptimisedAnimation?.(P));return A_(()=>{v&&(T.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),L.current&&v.animationState&&v.animationState.animateChanges())}),B.useEffect(()=>{v&&(!L.current&&v.animationState&&v.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(P)}),L.current=!1),v.enteringChildren=void 0)}),v}function ZC(t,e,n,i){const{layoutId:o,layout:l,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:m,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:R1(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||f&&To(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:d,layoutRoot:m})}function R1(t){if(t)return t.options.allowProjection!==!1?t.projection:R1(t.parent)}function Wf(t,{forwardMotionProps:e=!1}={},n,i){n&&PC(n);const o=Mp(t)?GC:qC;function l(f,d){let m;const v={...B.useContext(Rp),...f,layoutId:eP(f)},{isStatic:E}=v,T=kC(f),P=o(f,E);if(!E&&op){tP();const L=nP(v);m=L.MeasureLayout,T.visualElement=JC(t,P,v,i,L.ProjectionNode)}return Nr.jsxs(Wc.Provider,{value:T,children:[m&&T.visualElement?Nr.jsx(m,{visualElement:T.visualElement,...v}):null,HC(t,f,XC(P,T.visualElement,d),P,E,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=B.forwardRef(l);return u[QC]=t,u}function eP({layoutId:t}){const e=B.useContext(ip).id;return e&&t!==void 0?e+"-"+t:t}function tP(t,e){B.useContext(g1).strict}function nP(t){const{drag:e,layout:n}=Do;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function rP(t,e){if(typeof Proxy>"u")return Wf;const n=new Map,i=(l,u)=>Wf(l,u,t,e),o=(l,u)=>i(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,Wf(u,void 0,t,e)),n.get(u))})}function x1({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function iP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Kf(t){return t===void 0||t===1}function Ad({scale:t,scaleX:e,scaleY:n}){return!Kf(t)||!Kf(e)||!Kf(n)}function hs(t){return Ad(t)||V1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function V1(t){return av(t.x)||av(t.y)}function av(t){return t&&t!=="0%"}function Sc(t,e,n){const i=t-n,o=e*i;return n+o}function lv(t,e,n,i,o){return o!==void 0&&(t=Sc(t,o,i)),Sc(t,n,i)+e}function Cd(t,e=0,n=1,i,o){t.min=lv(t.min,e,n,i,o),t.max=lv(t.max,e,n,i,o)}function k1(t,{x:e,y:n}){Cd(t.x,e.translate,e.scale,e.originPoint),Cd(t.y,n.translate,n.scale,n.originPoint)}const uv=.999999999999,cv=1.0000000000001;function oP(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let f=0;f<o;f++){l=n[f],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ao(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,k1(t,u)),i&&hs(l.latestValues)&&Ao(t,l.latestValues))}e.x<cv&&e.x>uv&&(e.x=1),e.y<cv&&e.y>uv&&(e.y=1)}function So(t,e){t.min=t.min+e,t.max=t.max+e}function hv(t,e,n,i,o=.5){const l=rt(t.min,t.max,o);Cd(t,e,n,l,i)}function Ao(t,e){hv(t.x,e.x,e.scaleX,e.scale,e.originX),hv(t.y,e.y,e.scaleY,e.scale,e.originY)}function D1(t,e){return x1(sP(t.getBoundingClientRect(),e))}function aP(t,e,n){const i=D1(t,n),{scroll:o}=e;return o&&(So(i.x,o.offset.x),So(i.y,o.offset.y)),i}const fv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Co=()=>({x:fv(),y:fv()}),dv=()=>({min:0,max:0}),ft=()=>({x:dv(),y:dv()}),Pd={current:null},M1={current:!1};function lP(){if(M1.current=!0,!!op)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pd.current=t.matches;t.addEventListener("change",e),e()}else Pd.current=!1}const uP=new WeakMap;function cP(t,e,n){for(const i in e){const o=e[i],l=n[i];if(Wt(o))t.addValue(i,o);else if(Wt(l))t.addValue(i,ko(o,{owner:t}));else if(l!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,ko(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const pv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hP{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=rn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,et.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=qc(n),this.isVariantNode=v1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in E){const P=E[T];d[T]!==void 0&&Wt(P)&&P.set(d[T])}}mount(e){this.current=e,uP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),M1.current||lP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pd.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ri(this.notifyUpdate),Ri(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=zo.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&et.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Do){const n=Do[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<pv.length;i++){const o=pv[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=cP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ko(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(C_(i)||I_(i))?i=parseFloat(i):!_C(i)&&xi.test(n)&&(i=l1(e,n)),this.setBaseTarget(e,Wt(i)?i.get():i)),Wt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Np(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Wt(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Pp.render(this.render)}}class N1 extends hP{constructor(){super(...arguments),this.KeyframeResolver=aC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function L1(t,{style:e,vars:n},i,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function fP(t){return window.getComputedStyle(t)}class dP extends N1{constructor(){super(...arguments),this.type="html",this.renderInstance=L1}readValueFromInstance(e,n){if(zo.has(n))return this.projection?.isProjecting?yd(n):PA(e,n);{const i=fP(e),o=(pp(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return D1(e,n)}build(e,n,i){kp(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Lp(e,n,i)}}const O1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pP(t,e,n,i){L1(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(O1.has(o)?o:Op(o),e.attrs[o])}class mP extends N1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zo.has(n)){const i=a1(n);return i&&i.default||0}return n=O1.has(n)?n:Op(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return C1(e,n,i)}build(e,n,i){w1(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){pP(e,n,i,o)}mount(e){this.isSVGTag=S1(e.tagName),super.mount(e)}}const gP=(t,e)=>Mp(t)?new mP(e):new dP(e,{allowProjection:t!==B.Fragment});function Po(t,e,n){const i=t.getProps();return Np(i,e,n!==void 0?n:i.custom,t)}const Id=t=>Array.isArray(t);function yP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ko(n))}function vP(t){return Id(t)?t[t.length-1]||0:t}function _P(t,e){const n=Po(t,e);let{transitionEnd:i={},transition:o={},...l}=n||{};l={...l,...i};for(const u in l){const f=vP(l[u]);yP(t,u,f)}}function EP(t){return!!(Wt(t)&&t.add)}function Rd(t,e){const n=t.getValue("willChange");if(EP(n))return n.add(e);if(!n&&Br.WillChange){const i=new Br.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function b1(t){return t.props[P1]}const wP=t=>t!==null;function TP(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(wP),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}const SP={type:"spring",stiffness:500,damping:25,restSpeed:10},AP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CP={type:"keyframes",duration:.8},PP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IP=(t,{keyframes:e})=>e.length>2?CP:zo.has(t)?t.startsWith("scale")?AP(e[1]):SP:PP;function RP({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:f,from:d,elapsed:m,...v}){return!!Object.keys(v).length}const bp=(t,e,n,i={},o,l)=>u=>{const f=Ap(i,t)||{},d=f.delay||i.delay||0;let{elapsed:m=0}=i;m=m-ar(d);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-m,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:o};RP(f)||Object.assign(v,IP(t,v)),v.duration&&(v.duration=ar(v.duration)),v.repeatDelay&&(v.repeatDelay=ar(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Td(v),v.delay===0&&(E=!0)),(Br.instantAnimations||Br.skipAnimations)&&(E=!0,Td(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,E&&!l&&e.get()!==void 0){const T=TP(v.keyframes,f);if(T!==void 0){et.update(()=>{v.onUpdate(T),v.onComplete()});return}}return f.isSync?new Tp(v):new QA(v)};function xP({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function F1(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(l=i);const d=[],m=o&&t.animationState&&t.animationState.getState()[o];for(const v in f){const E=t.getValue(v,t.latestValues[v]??null),T=f[v];if(T===void 0||m&&xP(m,v))continue;const P={delay:n,...Ap(l||{},v)},L=E.get();if(L!==void 0&&!E.isAnimating&&!Array.isArray(T)&&T===L&&!P.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const z=b1(t);if(z){const $=window.MotionHandoffAnimation(z,v,et);$!==null&&(P.startTime=$,O=!0)}}Rd(t,v),E.start(bp(v,E,T,t.shouldReduceMotion&&i1.has(v)?{type:!1}:P,t,O));const D=E.animation;D&&d.push(D)}return u&&Promise.all(d).then(()=>{et.update(()=>{u&&_P(t,u)})}),d}function B1(t,e,n,i=0,o=1){const l=Array.from(t).sort((m,v)=>m.sortNodePosition(v)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(l,u):o===1?l*i:f-l*i}function xd(t,e,n={}){const i=Po(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const l=i?()=>Promise.all(F1(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:E}=o;return VP(t,e,d,m,v,E,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[d,m]=f==="beforeChildren"?[l,u]:[u,l];return d().then(()=>m())}else return Promise.all([l(),u(n.delay)])}function VP(t,e,n=0,i=0,o=0,l=1,u){const f=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),f.push(xd(d,e,{...u,delay:n+(typeof i=="function"?0:i)+B1(t.variantChildren,d,i,o,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(f)}function kP(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>xd(t,l,n));i=Promise.all(o)}else if(typeof e=="string")i=xd(t,e,n);else{const o=typeof e=="function"?Po(t,e,n.custom):e;i=Promise.all(F1(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function U1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const DP=Vp.length;function j1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?j1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<DP;n++){const i=Vp[n],o=t.props[i];(ul(o)||o===!1)&&(e[i]=o)}return e}const MP=[...xp].reverse(),NP=xp.length;function LP(t){return e=>Promise.all(e.map(({animation:n,options:i})=>kP(t,n,i)))}function OP(t){let e=LP(t),n=mv(),i=!0;const o=d=>(m,v)=>{const E=Po(t,v,d==="exit"?t.presenceContext?.custom:void 0);if(E){const{transition:T,transitionEnd:P,...L}=E;m={...m,...L,...P}}return m};function l(d){e=d(t)}function u(d){const{props:m}=t,v=j1(t.parent)||{},E=[],T=new Set;let P={},L=1/0;for(let D=0;D<NP;D++){const z=MP[D],$=n[z],q=m[z]!==void 0?m[z]:v[z],re=ul(q),te=z===d?$.isActive:null;te===!1&&(L=D);let ie=q===v[z]&&q!==m[z]&&re;if(ie&&i&&t.manuallyAnimateOnMount&&(ie=!1),$.protectedKeys={...P},!$.isActive&&te===null||!q&&!$.prevProp||Kc(q)||typeof q=="boolean")continue;const R=bP($.prevProp,q);let A=R||z===d&&$.isActive&&!ie&&re||D>L&&re,C=!1;const k=Array.isArray(q)?q:[q];let V=k.reduce(o(z),{});te===!1&&(V={});const{prevResolvedValues:b={}}=$,x={...b,...V},Re=we=>{A=!0,T.has(we)&&(C=!0,T.delete(we)),$.needsAnimating[we]=!0;const ee=t.getValue(we);ee&&(ee.liveStyle=!1)};for(const we in x){const ee=V[we],ue=b[we];if(P.hasOwnProperty(we))continue;let oe=!1;Id(ee)&&Id(ue)?oe=!U1(ee,ue):oe=ee!==ue,oe?ee!=null?Re(we):T.add(we):ee!==void 0&&T.has(we)?Re(we):$.protectedKeys[we]=!0}$.prevProp=q,$.prevResolvedValues=V,$.isActive&&(P={...P,...V}),i&&t.blockInitialAnimation&&(A=!1);const ze=ie&&R;A&&(!ze||C)&&E.push(...k.map(we=>{const ee={type:z};if(typeof we=="string"&&i&&!ze&&t.manuallyAnimateOnMount&&t.parent){const{parent:ue}=t,oe=Po(ue,we);if(ue.enteringChildren&&oe){const{delayChildren:F}=oe.transition||{};ee.delay=B1(ue.enteringChildren,t,F)}}return{animation:we,options:ee}}))}if(T.size){const D={};if(typeof m.initial!="boolean"){const z=Po(t,Array.isArray(m.initial)?m.initial[0]:m.initial);z&&z.transition&&(D.transition=z.transition)}T.forEach(z=>{const $=t.getBaseTarget(z),q=t.getValue(z);q&&(q.liveStyle=!0),D[z]=$??null}),E.push({animation:D})}let O=!!E.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(O=!1),i=!1,O?e(E):Promise.resolve()}function f(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(E=>E.animationState?.setActive(d,m)),n[d].isActive=m;const v=u(d);for(const E in n)n[E].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=mv(),i=!0}}}function bP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!U1(e,t):!1}function cs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mv(){return{animate:cs(!0),whileInView:cs(),whileHover:cs(),whileTap:cs(),whileDrag:cs(),whileFocus:cs(),exit:cs()}}class Oi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class FP extends Oi{constructor(e){super(e),e.animationState||(e.animationState=OP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let BP=0;class UP extends Oi{constructor(){super(...arguments),this.id=BP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const jP={animation:{Feature:FP},exit:{Feature:UP}};function hl(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Il(t){return{point:{x:t.pageX,y:t.pageY}}}const zP=t=>e=>Ip(e)&&t(e,Il(e));function Ya(t,e,n,i){return hl(t,e,zP(n),i)}const z1=1e-4,$P=1-z1,HP=1+z1,$1=.01,WP=0-$1,KP=0+$1;function Qt(t){return t.max-t.min}function qP(t,e,n){return Math.abs(t-e)<=n}function gv(t,e,n,i=.5){t.origin=i,t.originPoint=rt(e.min,e.max,t.origin),t.scale=Qt(n)/Qt(e),t.translate=rt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$P&&t.scale<=HP||isNaN(t.scale))&&(t.scale=1),(t.translate>=WP&&t.translate<=KP||isNaN(t.translate))&&(t.translate=0)}function Ja(t,e,n,i){gv(t.x,e.x,n.x,i?i.originX:void 0),gv(t.y,e.y,n.y,i?i.originY:void 0)}function yv(t,e,n){t.min=n.min+e.min,t.max=t.min+Qt(e)}function GP(t,e,n){yv(t.x,e.x,n.x),yv(t.y,e.y,n.y)}function vv(t,e,n){t.min=e.min-n.min,t.max=t.min+Qt(e)}function Za(t,e,n){vv(t.x,e.x,n.x),vv(t.y,e.y,n.y)}function An(t){return[t("x"),t("y")]}const H1=({current:t})=>t?t.ownerDocument.defaultView:null,_v=(t,e)=>Math.abs(t-e);function QP(t,e){const n=_v(t.x,e.x),i=_v(t.y,e.y);return Math.sqrt(n**2+i**2)}class W1{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Gf(this.lastMoveEventInfo,this.history),P=this.startEvent!==null,L=QP(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!P&&!L)return;const{point:O}=T,{timestamp:D}=Dt;this.history.push({...O,timestamp:D});const{onStart:z,onMove:$}=this.handlers;P||(z&&z(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,T)},this.handlePointerMove=(T,P)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=qf(P,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(T,P)=>{this.end();const{onEnd:L,onSessionEnd:O,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Gf(T.type==="pointercancel"?this.lastMoveEventInfo:qf(P,this.transformPagePoint),this.history);this.startEvent&&L&&L(T,z),O&&O(T,z)},!Ip(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const f=Il(e),d=qf(f,this.transformPagePoint),{point:m}=d,{timestamp:v}=Dt;this.history=[{...m,timestamp:v}];const{onSessionStart:E}=n;E&&E(e,Gf(d,this.history)),this.removeListeners=Al(Ya(this.contextWindow,"pointermove",this.handlePointerMove),Ya(this.contextWindow,"pointerup",this.handlePointerUp),Ya(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ri(this.updatePoint)}}function qf(t,e){return e?{point:e(t.point)}:t}function Ev(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Gf({point:t},e){return{point:t,delta:Ev(t,K1(e)),offset:Ev(t,XP(e)),velocity:YP(e,.1)}}function XP(t){return t[0]}function K1(t){return t[t.length-1]}function YP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=K1(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>ar(e)));)n--;if(!i)return{x:0,y:0};const l=In(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function JP(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?rt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?rt(n,t,i.max):Math.min(t,n)),t}function wv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ZP(t,{top:e,left:n,bottom:i,right:o}){return{x:wv(t.x,n,o),y:wv(t.y,e,i)}}function Tv(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function eI(t,e){return{x:Tv(t.x,e.x),y:Tv(t.y,e.y)}}function tI(t,e){let n=.5;const i=Qt(t),o=Qt(e);return o>i?n=ol(e.min,e.max-i,t.min):i>o&&(n=ol(t.min,t.max-o,e.min)),Fr(0,1,n)}function nI(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Vd=.35;function rI(t=Vd){return t===!1?t=0:t===!0&&(t=Vd),{x:Sv(t,"left","right"),y:Sv(t,"top","bottom")}}function Sv(t,e,n){return{min:Av(t,e),max:Av(t,n)}}function Av(t,e){return typeof t=="number"?t:t[e]||0}const iI=new WeakMap;class sI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=E=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Il(E).point)},u=(E,T)=>{const{drag:P,dragPropagation:L,onDragStart:O}=this.getProps();if(P&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hC(P),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),An(z=>{let $=this.getAxisMotionValue(z).get()||0;if(lr.test($)){const{projection:q}=this.visualElement;if(q&&q.layout){const re=q.layout.layoutBox[z];re&&($=Qt(re)*(parseFloat($)/100))}}this.originPoint[z]=$}),O&&et.postRender(()=>O(E,T)),Rd(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},f=(E,T)=>{this.latestPointerEvent=E,this.latestPanInfo=T;const{dragPropagation:P,dragDirectionLock:L,onDirectionLock:O,onDrag:D}=this.getProps();if(!P&&!this.openDragLock)return;const{offset:z}=T;if(L&&this.currentDirection===null){this.currentDirection=oI(z),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",T.point,z),this.updateAxis("y",T.point,z),this.visualElement.render(),D&&D(E,T)},d=(E,T)=>{this.latestPointerEvent=E,this.latestPanInfo=T,this.stop(E,T),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>An(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new W1(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:H1(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&et.postRender(()=>f(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!Zu(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=JP(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&To(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=ZP(i.layoutBox,e):this.constraints=!1,this.elastic=rI(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&An(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=nI(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!To(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=aP(i,o.root,this.visualElement.getTransformPagePoint());let u=eI(o.layout.layoutBox,l);if(n){const f=n(iP(u));this.hasMutatedConstraints=!!f,f&&(u=x1(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},m=An(v=>{if(!Zu(v,n,this.currentDirection))return;let E=d&&d[v]||{};u&&(E={min:0,max:0});const T=o?200:1e6,P=o?40:1e7,L={type:"inertia",velocity:i?e[v]:0,bounceStiffness:T,bounceDamping:P,timeConstant:750,restDelta:1,restSpeed:10,...l,...E};return this.startAxisValueAnimation(v,L)});return Promise.all(m).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Rd(this.visualElement,e),i.start(bp(e,i,0,n,this.visualElement,!1))}stopAnimation(){An(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){An(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){An(n=>{const{drag:i}=this.getProps();if(!Zu(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n];l.set(e[n]-rt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!To(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};An(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const d=f.get();o[u]=tI({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),An(u=>{if(!Zu(u,e,null))return;const f=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];f.set(rt(d,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;iI.set(this.visualElement,this);const e=this.visualElement.current,n=Ya(e,"pointerdown",d=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();To(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),et.read(i);const u=hl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(An(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=d[v].translate,E.set(E.get()+d[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Vd,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Zu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function oI(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class aI extends Oi{constructor(e){super(e),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new sI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cv=t=>(e,n)=>{t&&et.postRender(()=>t(e,n))};class lI extends Oi{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(e){this.session=new W1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:H1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:Cv(e),onStart:Cv(n),onMove:i,onEnd:(l,u)=>{delete this.session,o&&et.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=Ya(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ha={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_e.test(t))t=parseFloat(t);else return t;const n=Pv(t,e.target.x),i=Pv(t,e.target.y);return`${n}% ${i}%`}},uI={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=xi.parse(t);if(o.length>5)return i;const l=xi.createTransformer(t),u=typeof o[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;o[0+u]/=f,o[1+u]/=d;const m=rt(f,d,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}};let Qf=!1;class cI extends B.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;DC(hI),l&&(n.group&&n.group.add(l),i&&i.register&&o&&i.register(l),Qf&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),hc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,Qf=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||et.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Pp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;Qf=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function q1(t){const[e,n]=m1(),i=B.useContext(ip);return Nr.jsx(cI,{...t,layoutGroup:i,switchLayoutGroup:B.useContext(I1),isPresent:e,safeToRemove:n})}const hI={borderRadius:{...Ha,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ha,borderTopRightRadius:Ha,borderBottomLeftRadius:Ha,borderBottomRightRadius:Ha,boxShadow:uI};function fI(t,e,n){const i=Wt(t)?t:ko(t);return i.start(bp("",i,e,n)),i.animation}const dI=(t,e)=>t.depth-e.depth;class pI{constructor(){this.children=[],this.isDirty=!1}add(e){ap(this.children,e),this.isDirty=!0}remove(e){lp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dI),this.isDirty=!1,this.children.forEach(e)}}function mI(t,e){const n=rn.now(),i=({timestamp:o})=>{const l=o-n;l>=e&&(Ri(i),t(l-e))};return et.setup(i,!0),()=>Ri(i)}const G1=["TopLeft","TopRight","BottomLeft","BottomRight"],gI=G1.length,Iv=t=>typeof t=="string"?parseFloat(t):t,Rv=t=>typeof t=="number"||_e.test(t);function yI(t,e,n,i,o,l){o?(t.opacity=rt(0,n.opacity??1,vI(i)),t.opacityExit=rt(e.opacity??1,0,_I(i))):l&&(t.opacity=rt(e.opacity??1,n.opacity??1,i));for(let u=0;u<gI;u++){const f=`border${G1[u]}Radius`;let d=xv(e,f),m=xv(n,f);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||Rv(d)===Rv(m)?(t[f]=Math.max(rt(Iv(d),Iv(m),i),0),(lr.test(m)||lr.test(d))&&(t[f]+="%")):t[f]=m}(e.rotate||n.rotate)&&(t.rotate=rt(e.rotate||0,n.rotate||0,i))}function xv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vI=Q1(0,.5,L_),_I=Q1(.5,.95,Rn);function Q1(t,e,n){return i=>i<t?0:i>e?1:n(ol(t,e,i))}function Vv(t,e){t.min=e.min,t.max=e.max}function Sn(t,e){Vv(t.x,e.x),Vv(t.y,e.y)}function kv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Dv(t,e,n,i,o){return t-=e,t=Sc(t,1/n,i),o!==void 0&&(t=Sc(t,1/o,i)),t}function EI(t,e=0,n=1,i=.5,o,l=t,u=t){if(lr.test(e)&&(e=parseFloat(e),e=rt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=rt(l.min,l.max,i);t===l&&(f-=e),t.min=Dv(t.min,e,n,f,o),t.max=Dv(t.max,e,n,f,o)}function Mv(t,e,[n,i,o],l,u){EI(t,e[n],e[i],e[o],e.scale,l,u)}const wI=["x","scaleX","originX"],TI=["y","scaleY","originY"];function Nv(t,e,n,i){Mv(t.x,e,wI,n?n.x:void 0,i?i.x:void 0),Mv(t.y,e,TI,n?n.y:void 0,i?i.y:void 0)}function Lv(t){return t.translate===0&&t.scale===1}function X1(t){return Lv(t.x)&&Lv(t.y)}function Ov(t,e){return t.min===e.min&&t.max===e.max}function SI(t,e){return Ov(t.x,e.x)&&Ov(t.y,e.y)}function bv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Y1(t,e){return bv(t.x,e.x)&&bv(t.y,e.y)}function Fv(t){return Qt(t.x)/Qt(t.y)}function Bv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class AI{constructor(){this.members=[]}add(e){ap(this.members,e),e.scheduleRender()}remove(e){if(lp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function CI(t,e,n){let i="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((o||l||u)&&(i=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:v,rotateX:E,rotateY:T,skewX:P,skewY:L}=n;m&&(i=`perspective(${m}px) ${i}`),v&&(i+=`rotate(${v}deg) `),E&&(i+=`rotateX(${E}deg) `),T&&(i+=`rotateY(${T}deg) `),P&&(i+=`skewX(${P}deg) `),L&&(i+=`skewY(${L}deg) `)}const f=t.x.scale*e.x,d=t.y.scale*e.y;return(f!==1||d!==1)&&(i+=`scale(${f}, ${d})`),i||"none"}const Xf=["","X","Y","Z"],PI=1e3;let II=0;function Yf(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function J1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=b1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(o||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&J1(i)}function Z1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},f=e?.()){this.id=II++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VI),this.nodes.forEach(NI),this.nodes.forEach(LI),this.nodes.forEach(kI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new pI)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new hp),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const d=this.eventHandlers.get(u);d&&d.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=p1(u)&&!yC(u),this.instance=u;const{layoutId:f,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),t){let v,E=0;const T=()=>this.root.updateBlockedByResize=!1;et.read(()=>{E=window.innerWidth}),t(u,()=>{const P=window.innerWidth;P!==E&&(E=P,this.root.updateBlockedByResize=!0,v&&v(),v=mI(T,250),hc.hasAnimatedSinceResize&&(hc.hasAnimatedSinceResize=!1,this.nodes.forEach(zv)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||d)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:T,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||m.getDefaultTransition()||UI,{onLayoutAnimationStart:O,onLayoutAnimationComplete:D}=m.getProps(),z=!this.targetLayout||!Y1(this.targetLayout,P),$=!E&&T;if(this.options.layoutRoot||this.resumeFrom||$||E&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Ap(L,"layout"),onPlay:O,onComplete:D};(m.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(v,$)}else E||zv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OI),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&J1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(MI),this.nodes.forEach(RI),this.nodes.forEach(xI)):this.nodes.forEach(jv),this.clearAllSnapshots();const f=rn.now();Dt.delta=Fr(0,1e3/60,f-Dt.timestamp),Dt.timestamp=f,Dt.isProcessing=!0,Bf.update.process(Dt),Bf.preRender.process(Dt),Bf.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DI),this.sharedNodes.forEach(bI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qt(this.snapshot.measuredBox.x)&&!Qt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!X1(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;u&&this.instance&&(f||hs(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return u&&(d=this.removeTransform(d)),jI(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ft();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(zI))){const{scroll:m}=this.root;m&&(So(f.x,m.offset.x),So(f.y,m.offset.y))}return f}removeElementScroll(u){const f=ft();if(Sn(f,u),this.scroll?.wasRoot)return f;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:v,options:E}=m;m!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Sn(f,u),So(f.x,v.offset.x),So(f.y,v.offset.y))}return f}applyTransform(u,f=!1){const d=ft();Sn(d,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ao(d,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),hs(v.latestValues)&&Ao(d,v.latestValues)}return hs(this.latestValues)&&Ao(d,this.latestValues),d}removeTransform(u){const f=ft();Sn(f,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!hs(m.latestValues))continue;Ad(m.latestValues)&&m.updateSnapshot();const v=ft(),E=m.measurePageBox();Sn(v,E),Nv(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return hs(this.latestValues)&&Nv(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Dt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Za(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sn(this.target,this.layout.layoutBox),k1(this.target,this.targetDelta)):Sn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Za(this.relativeTargetOrigin,this.target,T.target),Sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ad(this.parent.latestValues)||V1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(d=!1),d)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;Sn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,T=this.treeScale.y;oP(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ft());const{target:P}=u;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kv(this.prevProjectionDelta.x,this.projectionDelta.x),kv(this.prevProjectionDelta.y,this.projectionDelta.y)),Ja(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==T||!Bv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Bv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Co(),this.projectionDelta=Co(),this.projectionDeltaWithTransform=Co()}setAnimationOrigin(u,f=!1){const d=this.snapshot,m=d?d.latestValues:{},v={...this.latestValues},E=Co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=ft(),P=d?d.source:void 0,L=this.layout?this.layout.source:void 0,O=P!==L,D=this.getStack(),z=!D||D.members.length<=1,$=!!(O&&!z&&this.options.crossfade===!0&&!this.path.some(BI));this.animationProgress=0;let q;this.mixTargetDelta=re=>{const te=re/1e3;$v(E.x,u.x,te),$v(E.y,u.y,te),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Za(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FI(this.relativeTarget,this.relativeTargetOrigin,T,te),q&&SI(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=ft()),Sn(q,this.relativeTarget)),O&&(this.animationValues=v,yI(v,m,this.latestValues,te,$,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{hc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ko(0)),this.currentAnimation=fI(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:d,layout:m,latestValues:v}=u;if(!(!f||!d||!m)){if(this!==u&&this.layout&&m&&eE(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||ft();const E=Qt(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+E;const T=Qt(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+T}Sn(f,d),Ao(f,v),Ja(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new AI),this.sharedNodes.get(u).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const m={};d.z&&Yf("z",u,m,this.animationValues);for(let v=0;v<Xf.length;v++)Yf(`rotate${Xf[v]}`,u,m,this.animationValues),Yf(`skew${Xf[v]}`,u,m,this.animationValues);u.render();for(const v in m)u.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=cc(f?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=cc(f?.pointerEvents)||""),this.hasProjected&&!hs(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=m.animationValues||m.latestValues;this.applyTransformsToTarget();let E=CI(this.projectionDeltaWithTransform,this.treeScale,v);d&&(E=d(v,E)),u.transform=E;const{x:T,y:P}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${P.origin*100}% 0`,m.animationValues?u.opacity=m===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=m===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const L in cl){if(v[L]===void 0)continue;const{correct:O,applyTo:D,isCSSVariable:z}=cl[L],$=E==="none"?v[L]:O(v[L],m);if(D){const q=D.length;for(let re=0;re<q;re++)u[D[re]]=$}else z?this.options.visualElement.renderState.vars[L]=$:u[L]=$}this.options.layoutId&&(u.pointerEvents=m===this?cc(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Uv),this.root.sharedNodes.clear()}}}function RI(t){t.updateLayout()}function xI(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?An(v=>{const E=l?e.measuredBox[v]:e.layoutBox[v],T=Qt(E);E.min=n[v].min,E.max=E.min+T}):eE(o,e.layoutBox,n)&&An(v=>{const E=l?e.measuredBox[v]:e.layoutBox[v],T=Qt(n[v]);E.max=E.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const u=Co();Ja(u,n,e.layoutBox);const f=Co();l?Ja(f,t.applyTransform(i,!0),e.measuredBox):Ja(f,n,e.layoutBox);const d=!X1(u);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:T}=v;if(E&&T){const P=ft();Za(P,e.layoutBox,E.layoutBox);const L=ft();Za(L,n,T.layoutBox),Y1(P,L)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=L,t.relativeTargetOrigin=P,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function VI(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function DI(t){t.clearSnapshot()}function Uv(t){t.clearMeasurements()}function jv(t){t.isLayoutDirty=!1}function MI(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function NI(t){t.resolveTargetDelta()}function LI(t){t.calcProjection()}function OI(t){t.resetSkewAndRotation()}function bI(t){t.removeLeadSnapshot()}function $v(t,e,n){t.translate=rt(e.translate,0,n),t.scale=rt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Hv(t,e,n,i){t.min=rt(e.min,n.min,i),t.max=rt(e.max,n.max,i)}function FI(t,e,n,i){Hv(t.x,e.x,n.x,i),Hv(t.y,e.y,n.y,i)}function BI(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const UI={duration:.45,ease:[.4,0,.1,1]},Wv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Kv=Wv("applewebkit/")&&!Wv("chrome/")?Math.round:Rn;function qv(t){t.min=Kv(t.min),t.max=Kv(t.max)}function jI(t){qv(t.x),qv(t.y)}function eE(t,e,n){return t==="position"||t==="preserve-aspect"&&!qP(Fv(e),Fv(n),.2)}function zI(t){return t!==t.root&&t.scroll?.wasRoot}const $I=Z1({attachResizeListener:(t,e)=>hl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jf={current:void 0},tE=Z1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jf.current){const t=new $I({});t.mount(window),t.setOptions({layoutScroll:!0}),Jf.current=t}return Jf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),HI={pan:{Feature:lI},drag:{Feature:aI,ProjectionNode:tE,MeasureLayout:q1}};function Gv(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=i[o];l&&et.postRender(()=>l(e,Il(e)))}class WI extends Oi{mount(){const{current:e}=this.node;e&&(this.unmount=fC(e,(n,i)=>(Gv(this.node,i,"Start"),o=>Gv(this.node,o,"End"))))}unmount(){}}class KI extends Oi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Al(hl(this.node.current,"focus",()=>this.onFocus()),hl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Qv(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=i[o];l&&et.postRender(()=>l(e,Il(e)))}class qI extends Oi{mount(){const{current:e}=this.node;e&&(this.unmount=gC(e,(n,i)=>(Qv(this.node,i,"Start"),(o,{success:l})=>Qv(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kd=new WeakMap,Zf=new WeakMap,GI=t=>{const e=kd.get(t.target);e&&e(t)},QI=t=>{t.forEach(GI)};function XI({root:t,...e}){const n=t||document;Zf.has(n)||Zf.set(n,{});const i=Zf.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(QI,{root:t,...e})),i[o]}function YI(t,e,n){const i=XI(e);return kd.set(t,n),i.observe(t),()=>{kd.delete(t),i.unobserve(t)}}const JI={some:0,all:1};class ZI extends Oi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:JI[o]},f=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),T=m?v:E;T&&T(d)};return YI(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(eR(e,n))&&this.startObserver()}unmount(){}}function eR({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tR={inView:{Feature:ZI},tap:{Feature:qI},focus:{Feature:KI},hover:{Feature:WI}},nR={layout:{ProjectionNode:tE,MeasureLayout:q1}},rR={...jP,...tR,...HI,...nR},gD=rP(rR,gP);var nE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xv=gs.createContext&&gs.createContext(nE),Ti=function(){return Ti=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ti.apply(this,arguments)},iR=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};function rE(t){return t&&t.map(function(e,n){return gs.createElement(e.tag,Ti({key:n},e.attr),rE(e.child))})}function sn(t){return function(e){return gs.createElement(sR,Ti({attr:Ti({},t.attr)},e),rE(t.child))}}function sR(t){var e=function(n){var i=t.attr,o=t.size,l=t.title,u=iR(t,["attr","size","title"]),f=o||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),gs.createElement("svg",Ti({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:d,style:Ti(Ti({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&gs.createElement("title",null,l),t.children)};return Xv!==void 0?gs.createElement(Xv.Consumer,null,function(n){return e(n)}):e(nE)}function yD(t){return sn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(t)}function vD(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(t)}function _D(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(t)}function ED(t){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"}}]})(t)}function wD(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(t)}function TD(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(t)}function SD(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(t)}function AD(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(t)}function CD(t){return sn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(t)}function PD(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"}}]})(t)}function ID(t){return sn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(t)}function RD(t){return sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(t)}function xD(t){return sn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)}function VD(t){return sn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z"}}]})(t)}var go={},Yv;function oR(){if(Yv)return go;Yv=1,Object.defineProperty(go,"__esModule",{value:!0});var t=o_(),e=jc();function n(f){return f&&typeof f=="object"&&"default"in f?f:{default:f}}var i=n(e),o=function(){return(o=Object.assign||function(f){for(var d,m=1,v=arguments.length;m<v;m++)for(var E in d=arguments[m])Object.prototype.hasOwnProperty.call(d,E)&&(f[E]=d[E]);return f}).apply(this,arguments)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var l="styles-module_blinkingCursor__288eE";(function(f,d){d===void 0&&(d={});var m=d.insertAt;if(typeof document<"u"){var v=document.head||document.getElementsByTagName("head")[0],E=document.createElement("style");E.type="text/css",m==="top"&&v.firstChild?v.insertBefore(E,v.firstChild):v.appendChild(E),E.styleSheet?E.styleSheet.cssText=f:E.appendChild(document.createTextNode(f))}})(".styles-module_blinkingCursor__288eE{position:relative;font:inherit;color:inherit;line-height:inherit;left:3px;top:0;-webkit-animation-name:styles-module_blink__dHnpo;animation-name:styles-module_blink__dHnpo;-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;opacity:1}@-webkit-keyframes styles-module_blink__dHnpo{0%{opacity:1}to{opacity:0}}@keyframes styles-module_blink__dHnpo{0%{opacity:1}to{opacity:0}}");var u=function(f){var d=f.cursorStyle,m=d===void 0?"|":d;return t.jsx("span",o({className:l},{children:m}),void 0)};return go.Cursor=u,go.Typewriter=function(f){var d=f.words,m=d===void 0?["Hello","World","This","is","Typewriter"]:d,v=f.loop,E=v===void 0?1:v,T=f.cursor,P=T!==void 0&&T,L=f.cursorStyle,O=L===void 0?".":L,D=f.typeSpeed,z=D===void 0?100:D,$=f.delaySpeed,q=$===void 0?1500:$,re=f.deleteSpeed,te=re===void 0?50:re,ie=f.onLoopDone,R=e.useState(z),A=R[0],C=R[1],k=e.useState(""),V=k[0],b=k[1],x=e.useRef(0),Re=e.useRef(0),ze=e.useRef(!1),Je=e.useRef(!1),we=e.useCallback((function(){C(z);var ee=x.current%m.length,ue=m[ee];ze.current?(b((function(oe){return ue.substring(0,oe.length-1)})),V===""&&(ze.current=!1,C(te),x.current+=1)):(b((function(oe){return ue.substring(0,oe.length+1)})),V===ue&&(Re.current+=1,ze.current=!0,C(q),Re.current/m.length===E&&(Je.current=!0,E>0&&ie&&ie())))}),[q,te,E,V,z,m,ie]);return e.useEffect((function(){var ee=setTimeout((function(){return we()}),A);return Je.current&&clearTimeout(ee),function(){return clearTimeout(ee)}}),[we,A]),t.jsxs(i.default.Fragment,{children:[t.jsx("span",{children:V},void 0),P&&t.jsx(u,{cursorStyle:O},void 0)]},void 0)},go.useTypewriter=function(f){var d=f.words,m=d===void 0?["Hello","World","This","is","Typewriter"]:d,v=f.loop,E=v===void 0?1:v,T=f.typeSpeed,P=T===void 0?20:T,L=f.deleteSpeed,O=L===void 0?50:L,D=f.delaySpeed,z=D===void 0?1500:D,$=f.onLoopDone,q=e.useState(P),re=q[0],te=q[1],ie=e.useState(""),R=ie[0],A=ie[1],C=e.useRef(0),k=e.useRef(0),V=e.useRef(!1),b=e.useRef(!1),x=e.useCallback((function(){te(P);var Re=C.current%m.length,ze=m[Re];V.current?(A((function(Je){return ze.substring(0,Je.length-1)})),R===""&&(V.current=!1,te(O),C.current+=1)):(A((function(Je){return ze.substring(0,Je.length+1)})),R===ze&&(k.current+=1,V.current=!0,te(z),k.current/m.length===E&&(b.current=!0,E>0&&$&&$())))}),[z,O,E,R,P,m,$]);return e.useEffect((function(){var Re=setTimeout(x,re);return b.current&&clearTimeout(Re),function(){return clearTimeout(Re)}}),[x,re]),R},go}var kD=oR();const aR=()=>{};var Jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},lR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],f=t[n++],d=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,f=u?t[o+1]:0,d=o+2<t.length,m=d?t[o+2]:0,v=l>>2,E=(l&3)<<4|f>>4;let T=(f&15)<<2|m>>6,P=m&63;d||(P=64,u||(T=64)),i.push(n[v],n[E],n[T],n[P])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||f==null||m==null||E==null)throw new uR;const T=l<<2|f>>4;if(i.push(T),m!==64){const P=f<<4&240|m>>2;if(i.push(P),E!==64){const L=m<<6&192|E;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cR=function(t){const e=iE(t);return sE.encodeByteArray(e,!0)},Ac=function(t){return cR(t).replace(/\./g,"")},hR=function(t){try{return sE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=()=>fR().__FIREBASE_DEFAULTS__,pR=()=>{if(typeof process>"u"||typeof Jv>"u")return;const t=Jv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hR(t[1]);return e&&JSON.parse(e)},Fp=()=>{try{return aR()||dR()||pR()||mR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gR=t=>Fp()?.emulatorHosts?.[t],yR=t=>{const e=gR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},oE=()=>Fp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _R(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ac(JSON.stringify(n)),Ac(JSON.stringify(u)),""].join(".")}const el={};function wR(){const t={prod:[],emulator:[]};for(const e of Object.keys(el))el[e]?t.emulator.push(e):t.prod.push(e);return t}function TR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Zv=!1;function SR(t,e){if(typeof window>"u"||typeof document>"u"||!Bp(window.location.host)||el[t]===e||el[t]||Zv)return;el[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=wR().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,P){T.setAttribute("width","24"),T.setAttribute("id",P),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Zv=!0,u()},T}function v(T,P){T.setAttribute("id",P),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=TR(i),P=n("text"),L=document.getElementById(P)||document.createElement("span"),O=n("learnmore"),D=document.getElementById(O)||document.createElement("a"),z=n("preprendIcon"),$=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const q=T.element;f(q),v(D,O);const re=m();d($,z),q.append($,L,D,re),document.body.appendChild(q)}l?(L.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CR(){const t=Fp()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PR(){return!CR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IR(){try{return typeof indexedDB=="object"}catch{return!1}}function RR(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="FirebaseError";class $o extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=xR,Object.setPrototypeOf(this,$o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aE.prototype.create)}}class aE{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?VR(l,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new $o(o,f,i)}}function VR(t,e){return t.replace(kR,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const kR=/\{\$([^}]+)}/g;function Cc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(e0(l)&&e0(u)){if(!Cc(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function e0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){return t&&t._delegate?t._delegate:t}class dl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new vR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NR(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:MR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MR(t){return t===fs?void 0:t}function NR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const OR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},bR=Le.INFO,FR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},BR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=FR[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lE{constructor(e){this.name=e,this._logLevel=bR,this._logHandler=BR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const UR=(t,e)=>e.some(n=>t instanceof n);let t0,n0;function jR(){return t0||(t0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zR(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uE=new WeakMap,Dd=new WeakMap,cE=new WeakMap,ed=new WeakMap,Up=new WeakMap;function $R(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Si(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&uE.set(n,t)}).catch(()=>{}),Up.set(e,t),e}function HR(t){if(Dd.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Dd.set(t,e)}let Md={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WR(t){Md=t(Md)}function KR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(td(this),e,...n);return cE.set(i,e.sort?e.sort():[e]),Si(i)}:zR().includes(t)?function(...e){return t.apply(td(this),e),Si(uE.get(this))}:function(...e){return Si(t.apply(td(this),e))}}function qR(t){return typeof t=="function"?KR(t):(t instanceof IDBTransaction&&HR(t),UR(t,jR())?new Proxy(t,Md):t)}function Si(t){if(t instanceof IDBRequest)return $R(t);if(ed.has(t))return ed.get(t);const e=qR(t);return e!==t&&(ed.set(t,e),Up.set(e,t)),e}const td=t=>Up.get(t);function GR(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),f=Si(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Si(u.result),d.oldVersion,d.newVersion,Si(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{l&&d.addEventListener("close",()=>l()),o&&d.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const QR=["get","getKey","getAll","getAllKeys","count"],XR=["put","add","delete","clear"],nd=new Map;function r0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nd.get(e))return nd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=XR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||QR.includes(n)))return;const l=async function(u,...f){const d=this.transaction(u,o?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),o&&d.done]))[0]};return nd.set(e,l),l}WR(t=>({...t,get:(e,n,i)=>r0(e,n)||t.get(e,n,i),has:(e,n)=>!!r0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function JR(t){return t.getComponent()?.type==="VERSION"}const Nd="@firebase/app",i0="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new lE("@firebase/app"),ZR="@firebase/app-compat",ex="@firebase/analytics-compat",tx="@firebase/analytics",nx="@firebase/app-check-compat",rx="@firebase/app-check",ix="@firebase/auth",sx="@firebase/auth-compat",ox="@firebase/database",ax="@firebase/data-connect",lx="@firebase/database-compat",ux="@firebase/functions",cx="@firebase/functions-compat",hx="@firebase/installations",fx="@firebase/installations-compat",dx="@firebase/messaging",px="@firebase/messaging-compat",mx="@firebase/performance",gx="@firebase/performance-compat",yx="@firebase/remote-config",vx="@firebase/remote-config-compat",_x="@firebase/storage",Ex="@firebase/storage-compat",wx="@firebase/firestore",Tx="@firebase/ai",Sx="@firebase/firestore-compat",Ax="firebase",Cx="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]",Px={[Nd]:"fire-core",[ZR]:"fire-core-compat",[tx]:"fire-analytics",[ex]:"fire-analytics-compat",[rx]:"fire-app-check",[nx]:"fire-app-check-compat",[ix]:"fire-auth",[sx]:"fire-auth-compat",[ox]:"fire-rtdb",[ax]:"fire-data-connect",[lx]:"fire-rtdb-compat",[ux]:"fire-fn",[cx]:"fire-fn-compat",[hx]:"fire-iid",[fx]:"fire-iid-compat",[dx]:"fire-fcm",[px]:"fire-fcm-compat",[mx]:"fire-perf",[gx]:"fire-perf-compat",[yx]:"fire-rc",[vx]:"fire-rc-compat",[_x]:"fire-gcs",[Ex]:"fire-gcs-compat",[wx]:"fire-fst",[Sx]:"fire-fst-compat",[Tx]:"fire-vertex","fire-js":"fire-js",[Ax]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,Ix=new Map,Od=new Map;function s0(t,e){try{t.container.addComponent(e)}catch(n){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ic(t){const e=t.name;if(Od.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;Od.set(e,t);for(const n of Pc.values())s0(n,t);for(const n of Ix.values())s0(n,t);return!0}function Rx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xx(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new aE("app","Firebase",Vx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new dl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=Cx;function Mx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Ld,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ai.create("bad-app-name",{appName:String(o)});if(n||(n=oE()),!n)throw Ai.create("no-options");const l=Pc.get(o);if(l){if(Cc(n,l.options)&&Cc(i,l.config))return l;throw Ai.create("duplicate-app",{appName:o})}const u=new LR(o);for(const d of Od.values())u.addComponent(d);const f=new kx(n,i,u);return Pc.set(o,f),f}function Nx(t=Ld){const e=Pc.get(t);if(!e&&t===Ld&&oE())return Mx();if(!e)throw Ai.create("no-app",{appName:t});return e}function Io(t,e,n){let i=Px[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(u.join(" "));return}Ic(new dl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="firebase-heartbeat-database",Ox=1,pl="firebase-heartbeat-store";let rd=null;function hE(){return rd||(rd=GR(Lx,Ox,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ai.create("idb-open",{originalErrorMessage:t.message})})),rd}async function bx(t){try{const n=(await hE()).transaction(pl),i=await n.objectStore(pl).get(fE(t));return await n.done,i}catch(e){if(e instanceof $o)Ur.warn(e.message);else{const n=Ai.create("idb-get",{originalErrorMessage:e?.message});Ur.warn(n.message)}}}async function o0(t,e){try{const i=(await hE()).transaction(pl,"readwrite");await i.objectStore(pl).put(e,fE(t)),await i.done}catch(n){if(n instanceof $o)Ur.warn(n.message);else{const i=Ai.create("idb-set",{originalErrorMessage:n?.message});Ur.warn(i.message)}}}function fE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=1024,Bx=30;class Ux{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zx(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=a0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>Bx){const o=$x(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ur.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a0(),{heartbeatsToSend:n,unsentEntries:i}=jx(this._heartbeatsCache.heartbeats),o=Ac(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ur.warn(e),""}}}function a0(){return new Date().toISOString().substring(0,10)}function jx(t,e=Fx){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),l0(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),l0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class zx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IR()?RR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function l0(t){return Ac(JSON.stringify({version:2,heartbeats:t})).length}function $x(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){Ic(new dl("platform-logger",e=>new YR(e),"PRIVATE")),Ic(new dl("heartbeat",e=>new Ux(e),"PRIVATE")),Io(Nd,i0,t),Io(Nd,i0,"esm2020"),Io("fire-js","")}Hx("");var Wx="firebase",Kx="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io(Wx,Kx,"app");var u0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ci,dE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function C(){}C.prototype=A.prototype,R.F=A.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(k,V,b){for(var x=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)x[Re-2]=arguments[Re];return A.prototype[V].apply(k,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,C){C||(C=0);const k=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)k[V]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(V=0;V<16;++V)k[V]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=R.g[0],C=R.g[1],V=R.g[2];let b=R.g[3],x;x=A+(b^C&(V^b))+k[0]+3614090360&4294967295,A=C+(x<<7&4294967295|x>>>25),x=b+(V^A&(C^V))+k[1]+3905402710&4294967295,b=A+(x<<12&4294967295|x>>>20),x=V+(C^b&(A^C))+k[2]+606105819&4294967295,V=b+(x<<17&4294967295|x>>>15),x=C+(A^V&(b^A))+k[3]+3250441966&4294967295,C=V+(x<<22&4294967295|x>>>10),x=A+(b^C&(V^b))+k[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=b+(V^A&(C^V))+k[5]+1200080426&4294967295,b=A+(x<<12&4294967295|x>>>20),x=V+(C^b&(A^C))+k[6]+2821735955&4294967295,V=b+(x<<17&4294967295|x>>>15),x=C+(A^V&(b^A))+k[7]+4249261313&4294967295,C=V+(x<<22&4294967295|x>>>10),x=A+(b^C&(V^b))+k[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=b+(V^A&(C^V))+k[9]+2336552879&4294967295,b=A+(x<<12&4294967295|x>>>20),x=V+(C^b&(A^C))+k[10]+4294925233&4294967295,V=b+(x<<17&4294967295|x>>>15),x=C+(A^V&(b^A))+k[11]+2304563134&4294967295,C=V+(x<<22&4294967295|x>>>10),x=A+(b^C&(V^b))+k[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=b+(V^A&(C^V))+k[13]+4254626195&4294967295,b=A+(x<<12&4294967295|x>>>20),x=V+(C^b&(A^C))+k[14]+2792965006&4294967295,V=b+(x<<17&4294967295|x>>>15),x=C+(A^V&(b^A))+k[15]+1236535329&4294967295,C=V+(x<<22&4294967295|x>>>10),x=A+(V^b&(C^V))+k[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=b+(C^V&(A^C))+k[6]+3225465664&4294967295,b=A+(x<<9&4294967295|x>>>23),x=V+(A^C&(b^A))+k[11]+643717713&4294967295,V=b+(x<<14&4294967295|x>>>18),x=C+(b^A&(V^b))+k[0]+3921069994&4294967295,C=V+(x<<20&4294967295|x>>>12),x=A+(V^b&(C^V))+k[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=b+(C^V&(A^C))+k[10]+38016083&4294967295,b=A+(x<<9&4294967295|x>>>23),x=V+(A^C&(b^A))+k[15]+3634488961&4294967295,V=b+(x<<14&4294967295|x>>>18),x=C+(b^A&(V^b))+k[4]+3889429448&4294967295,C=V+(x<<20&4294967295|x>>>12),x=A+(V^b&(C^V))+k[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=b+(C^V&(A^C))+k[14]+3275163606&4294967295,b=A+(x<<9&4294967295|x>>>23),x=V+(A^C&(b^A))+k[3]+4107603335&4294967295,V=b+(x<<14&4294967295|x>>>18),x=C+(b^A&(V^b))+k[8]+1163531501&4294967295,C=V+(x<<20&4294967295|x>>>12),x=A+(V^b&(C^V))+k[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=b+(C^V&(A^C))+k[2]+4243563512&4294967295,b=A+(x<<9&4294967295|x>>>23),x=V+(A^C&(b^A))+k[7]+1735328473&4294967295,V=b+(x<<14&4294967295|x>>>18),x=C+(b^A&(V^b))+k[12]+2368359562&4294967295,C=V+(x<<20&4294967295|x>>>12),x=A+(C^V^b)+k[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=b+(A^C^V)+k[8]+2272392833&4294967295,b=A+(x<<11&4294967295|x>>>21),x=V+(b^A^C)+k[11]+1839030562&4294967295,V=b+(x<<16&4294967295|x>>>16),x=C+(V^b^A)+k[14]+4259657740&4294967295,C=V+(x<<23&4294967295|x>>>9),x=A+(C^V^b)+k[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=b+(A^C^V)+k[4]+1272893353&4294967295,b=A+(x<<11&4294967295|x>>>21),x=V+(b^A^C)+k[7]+4139469664&4294967295,V=b+(x<<16&4294967295|x>>>16),x=C+(V^b^A)+k[10]+3200236656&4294967295,C=V+(x<<23&4294967295|x>>>9),x=A+(C^V^b)+k[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=b+(A^C^V)+k[0]+3936430074&4294967295,b=A+(x<<11&4294967295|x>>>21),x=V+(b^A^C)+k[3]+3572445317&4294967295,V=b+(x<<16&4294967295|x>>>16),x=C+(V^b^A)+k[6]+76029189&4294967295,C=V+(x<<23&4294967295|x>>>9),x=A+(C^V^b)+k[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=b+(A^C^V)+k[12]+3873151461&4294967295,b=A+(x<<11&4294967295|x>>>21),x=V+(b^A^C)+k[15]+530742520&4294967295,V=b+(x<<16&4294967295|x>>>16),x=C+(V^b^A)+k[2]+3299628645&4294967295,C=V+(x<<23&4294967295|x>>>9),x=A+(V^(C|~b))+k[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=b+(C^(A|~V))+k[7]+1126891415&4294967295,b=A+(x<<10&4294967295|x>>>22),x=V+(A^(b|~C))+k[14]+2878612391&4294967295,V=b+(x<<15&4294967295|x>>>17),x=C+(b^(V|~A))+k[5]+4237533241&4294967295,C=V+(x<<21&4294967295|x>>>11),x=A+(V^(C|~b))+k[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=b+(C^(A|~V))+k[3]+2399980690&4294967295,b=A+(x<<10&4294967295|x>>>22),x=V+(A^(b|~C))+k[10]+4293915773&4294967295,V=b+(x<<15&4294967295|x>>>17),x=C+(b^(V|~A))+k[1]+2240044497&4294967295,C=V+(x<<21&4294967295|x>>>11),x=A+(V^(C|~b))+k[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=b+(C^(A|~V))+k[15]+4264355552&4294967295,b=A+(x<<10&4294967295|x>>>22),x=V+(A^(b|~C))+k[6]+2734768916&4294967295,V=b+(x<<15&4294967295|x>>>17),x=C+(b^(V|~A))+k[13]+1309151649&4294967295,C=V+(x<<21&4294967295|x>>>11),x=A+(V^(C|~b))+k[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=b+(C^(A|~V))+k[11]+3174756917&4294967295,b=A+(x<<10&4294967295|x>>>22),x=V+(A^(b|~C))+k[2]+718787259&4294967295,V=b+(x<<15&4294967295|x>>>17),x=C+(b^(V|~A))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+b&4294967295}i.prototype.v=function(R,A){A===void 0&&(A=R.length);const C=A-this.blockSize,k=this.C;let V=this.h,b=0;for(;b<A;){if(V==0)for(;b<=C;)o(this,R,b),b+=this.blockSize;if(typeof R=="string"){for(;b<A;)if(k[V++]=R.charCodeAt(b++),V==this.blockSize){o(this,k),V=0;break}}else for(;b<A;)if(k[V++]=R[b++],V==this.blockSize){o(this,k),V=0;break}}this.h=V,this.o+=A},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)R[A++]=this.g[C]>>>k&255;return R};function l(R,A){var C=f;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=A(R)}function u(R,A){this.h=A;const C=[];let k=!0;for(let V=R.length-1;V>=0;V--){const b=R[V]|0;k&&b==A||(C[V]=b,k=!1)}this.g=C}var f={};function d(R){return-128<=R&&R<128?l(R,function(A){return new u([A|0],A<0?-1:0)}):new u([R|0],R<0?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return D(m(-R));const A=[];let C=1;for(let k=0;R>=C;k++)A[k]=R/C|0,C*=4294967296;return new u(A,0)}function v(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return D(v(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(A,8));let k=E;for(let b=0;b<R.length;b+=8){var V=Math.min(8,R.length-b);const x=parseInt(R.substring(b,b+V),A);V<8?(V=m(Math.pow(A,V)),k=k.j(V).add(m(x))):(k=k.j(C),k=k.add(m(x)))}return k}var E=d(0),T=d(1),P=d(16777216);t=u.prototype,t.m=function(){if(O(this))return-D(this).m();let R=0,A=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);R+=(k>=0?k:4294967296+k)*A,A*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(O(this))return"-"+D(this).toString(R);const A=m(Math.pow(R,6));var C=this;let k="";for(;;){const V=re(C,A).g;C=z(C,V.j(A));let b=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=V,L(C))return b+k;for(;b.length<6;)b="0"+b;k=b+k}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function O(R){return R.h==-1}t.l=function(R){return R=z(this,R),O(R)?-1:L(R)?0:1};function D(R){const A=R.g.length,C=[];for(let k=0;k<A;k++)C[k]=~R.g[k];return new u(C,~R.h).add(T)}t.abs=function(){return O(this)?D(this):this},t.add=function(R){const A=Math.max(this.g.length,R.g.length),C=[];let k=0;for(let V=0;V<=A;V++){let b=k+(this.i(V)&65535)+(R.i(V)&65535),x=(b>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);k=x>>>16,b&=65535,x&=65535,C[V]=x<<16|b}return new u(C,C[C.length-1]&-2147483648?-1:0)};function z(R,A){return R.add(D(A))}t.j=function(R){if(L(this)||L(R))return E;if(O(this))return O(R)?D(this).j(D(R)):D(D(this).j(R));if(O(R))return D(this.j(D(R)));if(this.l(P)<0&&R.l(P)<0)return m(this.m()*R.m());const A=this.g.length+R.g.length,C=[];for(var k=0;k<2*A;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let V=0;V<R.g.length;V++){const b=this.i(k)>>>16,x=this.i(k)&65535,Re=R.i(V)>>>16,ze=R.i(V)&65535;C[2*k+2*V]+=x*ze,$(C,2*k+2*V),C[2*k+2*V+1]+=b*ze,$(C,2*k+2*V+1),C[2*k+2*V+1]+=x*Re,$(C,2*k+2*V+1),C[2*k+2*V+2]+=b*Re,$(C,2*k+2*V+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new u(C,0)};function $(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function q(R,A){this.g=R,this.h=A}function re(R,A){if(L(A))throw Error("division by zero");if(L(R))return new q(E,E);if(O(R))return A=re(D(R),A),new q(D(A.g),D(A.h));if(O(A))return A=re(R,D(A)),new q(D(A.g),A.h);if(R.g.length>30){if(O(R)||O(A))throw Error("slowDivide_ only works with positive integers.");for(var C=T,k=A;k.l(R)<=0;)C=te(C),k=te(k);var V=ie(C,1),b=ie(k,1);for(k=ie(k,2),C=ie(C,2);!L(k);){var x=b.add(k);x.l(R)<=0&&(V=V.add(C),b=x),k=ie(k,1),C=ie(C,1)}return A=z(R,V.j(A)),new q(V,A)}for(V=E;R.l(A)>=0;){for(C=Math.max(1,Math.floor(R.m()/A.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),b=m(C),x=b.j(A);O(x)||x.l(R)>0;)C-=k,b=m(C),x=b.j(A);L(b)&&(b=T),V=V.add(b),R=z(R,x)}return new q(V,R)}t.B=function(R){return re(this,R).h},t.and=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<A;k++)C[k]=this.i(k)&R.i(k);return new u(C,this.h&R.h)},t.or=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<A;k++)C[k]=this.i(k)|R.i(k);return new u(C,this.h|R.h)},t.xor=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<A;k++)C[k]=this.i(k)^R.i(k);return new u(C,this.h^R.h)};function te(R){const A=R.g.length+1,C=[];for(let k=0;k<A;k++)C[k]=R.i(k)<<1|R.i(k-1)>>>31;return new u(C,R.h)}function ie(R,A){const C=A>>5;A%=32;const k=R.g.length-C,V=[];for(let b=0;b<k;b++)V[b]=A>0?R.i(b+C)>>>A|R.i(b+C+1)<<32-A:R.i(b+C);return new u(V,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,dE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ci=u}).apply(typeof u0<"u"?u0:typeof self<"u"?self:typeof window<"u"?window:{});var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pE,Ka,mE,fc,bd,gE,yE,vE;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ec=="object"&&ec];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(c,y){if(y)e:{var _=i;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in _))break e;_=_[j]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&_.push([S,y[S]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function d(c,y,_){return c.call.apply(c.bind,arguments)}function m(c,y,_){return m=d,m.apply(null,arguments)}function v(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function E(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(S,j,K){for(var se=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)se[Se-2]=arguments[Se];return y.prototype[j].apply(S,se)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function L(c,y){for(let S=1;S<arguments.length;S++){const j=arguments[S];var _=typeof j;if(_=_!="object"?_:j?Array.isArray(j)?"array":_:"null",_=="array"||_=="object"&&typeof j.length=="number"){_=c.length||0;const K=j.length||0;c.length=_+K;for(let se=0;se<K;se++)c[_+se]=j[se]}else c.push(j)}}class O{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function D(c){u.setTimeout(()=>{throw c},0)}function z(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ${constructor(){this.h=this.g=null}add(y,_){const S=q.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var q=new O(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ie=!1,R=new $,A=()=>{const c=Promise.resolve(void 0);te=()=>{c.then(C)}};function C(){for(var c;c=z();){try{c.h.call(c.g)}catch(_){D(_)}var y=q;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ie=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};u.addEventListener("test",_,y),u.removeEventListener("test",_,y)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function Re(c,y){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}E(Re,V),Re.prototype.init=function(c,y){const _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),Je=0;function we(c,y,_,S,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=j,this.key=++Je,this.da=this.fa=!1}function ee(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ue(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function oe(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function F(c){const y={};for(const _ in c)y[_]=c[_];return y}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ce(c,y){let _,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(_ in S)c[_]=S[_];for(let K=0;K<Q.length;K++)_=Q[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function Pe(c){this.src=c,this.g={},this.h=0}Pe.prototype.add=function(c,y,_,S,j){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=Ve(c,y,S,j);return se>-1?(y=c[se],_||(y.fa=!1)):(y=new we(y,this.src,K,!!S,j),y.fa=_,c.push(y)),y};function xe(c,y){const _=y.type;if(_ in c.g){var S=c.g[_],j=Array.prototype.indexOf.call(S,y,void 0),K;(K=j>=0)&&Array.prototype.splice.call(S,j,1),K&&(ee(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ve(c,y,_,S){for(let j=0;j<c.length;++j){const K=c[j];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return j}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Oe={};function He(c,y,_,S,j){if(Array.isArray(y)){for(let K=0;K<y.length;K++)He(c,y[K],_,S,j);return null}return _=Qo(_),c&&c[ze]?c.J(y,_,f(S)?!!S.capture:!1,j):Kt(c,y,_,!1,S,j)}function Kt(c,y,_,S,j,K){if(!y)throw Error("Invalid event type");const se=f(j)?!!j.capture:!!j;let Se=xs(c);if(Se||(c[Ue]=Se=new Pe(c)),_=Se.add(y,_,S,se,K),_.proxy)return _;if(S=Is(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)b||(j=se),j===void 0&&(j=!1),c.addEventListener(y.toString(),S,j);else if(c.attachEvent)c.attachEvent(Rs(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Is(){function c(_){return y.call(c.src,c.listener,_)}const y=Ml;return c}function Go(c,y,_,S,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)Go(c,y[K],_,S,j);else S=f(S)?!!S.capture:!!S,_=Qo(_),c&&c[ze]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],_=Ve(y,_,S,j),_>-1&&(ee(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=xs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ve(y,_,S,j)),(_=c>-1?y[c]:null)&&Hr(_))}function Hr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ze])xe(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Rs(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=xs(y))?(xe(_,c),_.h==0&&(_.src=null,y[Ue]=null)):ee(c)}}}function Rs(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function Ml(c,y){if(c.da)c=!0;else{y=new Re(y,this);const _=c.listener,S=c.ha||c.src;c.fa&&Hr(c),c=_.call(S,y)}return c}function xs(c){return c=c[Ue],c instanceof Pe?c:null}var bi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qo(c){return typeof c=="function"?c:(c[bi]||(c[bi]=function(y){return c.handleEvent(y)}),c[bi])}function pt(){k.call(this),this.i=new Pe(this),this.M=this,this.G=null}E(pt,k),pt.prototype[ze]=!0,pt.prototype.removeEventListener=function(c,y,_,S){Go(this,c,y,_,S)};function ut(c,y){var _,S=c.G;if(S)for(_=[];S;S=S.G)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new V(y,c);else if(y instanceof V)y.target=y.target||c;else{var j=y;y=new V(S,c),Ce(y,j)}j=!0;let K,se;if(_)for(se=_.length-1;se>=0;se--)K=y.g=_[se],j=xn(K,S,!0,y)&&j;if(K=y.g=c,j=xn(K,S,!0,y)&&j,j=xn(K,S,!1,y)&&j,_)for(se=0;se<_.length;se++)K=y.g=_[se],j=xn(K,S,!1,y)&&j}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let S=0;S<_.length;S++)ee(_[S]);delete c.g[y],c.h--}}this.G=null},pt.prototype.J=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},pt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function xn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==_){const Se=se.listener,ct=se.ha||se.src;se.fa&&xe(c.i,se),j=Se.call(ct,S)!==!1&&j}}return j&&!S.defaultPrevented}function Xo(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(c,y||0)}function Yo(c){c.g=Xo(()=>{c.g=null,c.i&&(c.i=!1,Yo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Nl extends k{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Yo(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(c){k.call(this),this.h=c,this.g={}}E(Wr,k);var Jo=[];function Vs(c){ue(c.g,function(y,_){this.g.hasOwnProperty(_)&&Hr(y)},c),c.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),Vs(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kr=u.JSON.stringify,Ll=u.JSON.parse,Fi=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function qr(){}function Ol(){}var Gr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ks(){V.call(this,"d")}E(ks,V);function Zo(){V.call(this,"c")}E(Zo,V);var Vn={},Ds=null;function Qr(){return Ds=Ds||new pt}Vn.Ia="serverreachability";function Ms(c){V.call(this,Vn.Ia,c)}E(Ms,V);function gr(c){const y=Qr();ut(y,new Ms(y))}Vn.STAT_EVENT="statevent";function yr(c,y){V.call(this,Vn.STAT_EVENT,c),this.stat=y}E(yr,V);function ot(c){const y=Qr();ut(y,new yr(y,c))}Vn.Ja="timingevent";function ea(c,y){V.call(this,Vn.Ja,c),this.size=y}E(ea,V);function Xr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},y)}function Yr(){this.g=!0}Yr.prototype.ua=function(){this.g=!1};function bl(c,y,_,S,j,K){c.info(function(){if(c.g)if(K){var se="",Se=K.split("&");for(let $e=0;$e<Se.length;$e++){var ct=Se[$e].split("=");if(ct.length>1){const mt=ct[0];ct=ct[1];const hn=mt.split("_");se=hn.length>=2&&hn[1]=="type"?se+(mt+"="+ct+"&"):se+(mt+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+_+`
`+se})}function Fl(c,y,_,S,j,K,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+_+`
`+K+" "+se})}function zn(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Bi(c,_)+(S?" "+S:"")})}function Bl(c,y){c.info(function(){return"TIMEOUT: "+y})}Yr.prototype.info=function(){};function Bi(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var _=K[c];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return Kr(K)}catch{return y}}var Jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ul;function vr(){}E(vr,qr),vr.prototype.g=function(){return new XMLHttpRequest},Ul=new vr;function $n(c){return encodeURIComponent(String(c))}function Ns(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function mn(c,y,_,S){this.j=c,this.i=y,this.l=_,this.S=S||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jl}function jl(){this.i=null,this.g="",this.h=!1}var zl={},ta={};function kn(c,y,_){c.M=1,c.A=Er(gn(y)),c.u=_,c.R=!0,na(c,null)}function na(c,y){c.F=Date.now(),Ui(c),c.B=gn(c.A);var _=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),fa(_.i,"t",S),c.C=0,_=c.j.L,c.h=new jl,c.g=Jl(c.j,_?y:null,!c.u),c.P>0&&(c.O=new Nl(m(c.Y,c,c.g),c.P)),y=c.V,_=c.g,S=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Jo[0]=j.toString()),j=Jo);for(let K=0;K<j.length;K++){const se=He(_,j[K],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?F(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),gr(),bl(c.i,c.v,c.B,c.l,c.S,c.u)}mn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Xn(c)==3?y.j():this.Y(c)},mn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Xn(this.g),ct=this.g.ya(),$e=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Xl(this.g)))){this.K||Se!=4||ct==7||(ct==8||$e<=0?gr(3):gr(2)),Ls(this);var y=this.g.ca();this.X=y;var _=$l(this);if(this.o=y==200,Fl(this.i,this.v,this.B,this.l,this.S,Se,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var K=S;break t}}K=null}if(c=K)zn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,c);else{this.o=!1,this.m=3,ot(12),_r(this),ji(this);break e}}if(this.R){c=!0;let mt;for(;!this.K&&this.C<_.length;)if(mt=Wl(this,_),mt==ta){Se==4&&(this.m=4,ot(14),c=!1),zn(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==zl){this.m=4,ot(15),zn(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else zn(this.i,this.l,mt,null),qe(this,mt);if(Hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||_.length!=0||this.h.h||(this.m=1,ot(16),c=!1),this.o=this.o&&c,!c)zn(this.i,this.l,_,"[Invalid Chunked Response]"),_r(this),ji(this);else if(_.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Xi(se),se.P=!0,ot(11))}}else zn(this.i,this.l,_,null),qe(this,_);Se==4&&_r(this),this.o&&!this.K&&(Se==4?Ws(this.j,this):(this.o=!1,Ui(this)))}else pa(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,ot(12)):(this.m=0,ot(13)),_r(this),ji(this)}}}catch{}finally{}};function $l(c){if(!Hl(c))return c.g.la();const y=Xl(c.g);if(y==="")return"";let _="";const S=y.length,j=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _r(c),ji(c),"";c.h.i=new u.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,_+=c.h.i.decode(y[K],{stream:!(j&&K==S-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function Hl(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Wl(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?ta:(_=Number(y.substring(_,S)),isNaN(_)?zl:(S+=1,S+_>y.length?ta:(y=y.slice(S,S+_),c.C=S+_,y)))}mn.prototype.cancel=function(){this.K=!0,_r(this)};function Ui(c){c.T=Date.now()+c.H,ra(c,c.H)}function ra(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Xr(m(c.aa,c),y)}function Ls(c){c.D&&(u.clearTimeout(c.D),c.D=null)}mn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Bl(this.i,this.B),this.M!=2&&(gr(),ot(17)),_r(this),this.m=2,ji(this)):ra(this,this.T-c)};function ji(c){c.j.I==0||c.K||Ws(c.j,c)}function _r(c){Ls(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Vs(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function qe(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||sa(_.h,c))){if(!c.L&&sa(_.h,c)&&_.I==3){try{var S=_.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Hs(_),un(_);else break e;Zn(_),ot(18)}}else _.xa=j[1],0<_.xa-_.K&&j[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Xr(m(_.Va,_),6e3));zi(_.h)<=1&&_.ta&&(_.ta=void 0)}else cn(_,11)}else if((c.L||_.g==c)&&Hs(_),!x(y))for(j=_.Ba.g.parse(y),y=0;y<j.length;y++){let $e=j[y];const mt=$e[0];if(!(mt<=_.K))if(_.K=mt,$e=$e[1],_.I==2)if($e[0]=="c"){_.M=$e[1],_.ba=$e[2];const hn=$e[3];hn!=null&&(_.ka=hn,_.j.info("VER="+_.ka));const Cr=$e[4];Cr!=null&&(_.za=Cr,_.j.info("SVER="+_.za));const er=$e[5];er!=null&&typeof er=="number"&&er>0&&(S=1.5*er,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const tr=c.g;if(tr){const Gs=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var K=S.h;K.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(bs(K,K.h),K.h=null))}if(S.G){const ya=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(S.wa=ya,Be(S.J,S.G,ya))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var se=c;if(S.na=ga(S,S.L?S.ba:null,S.W),se.L){$i(S.h,se);var Se=se,ct=S.O;ct&&(Se.H=ct),Se.D&&(Ls(Se),Ui(Se)),S.g=se}else bt(S);_.i.length>0&&Ar(_)}else $e[0]!="stop"&&$e[0]!="close"||cn(_,7);else _.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?cn(_,7):zs(_):$e[0]!="noop"&&_.l&&_.l.qa($e),_.A=0)}}gr(4)}catch{}}var lh=class{constructor(c,y){this.g=c,this.map=y}};function Os(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ia(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function zi(c){return c.h?1:c.g?c.g.size:0}function sa(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function bs(c,y){c.g?c.g.add(y):c.h=y}function $i(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Os.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function on(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return P(c.i)}var Kl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function an(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const S=c[_].indexOf("=");let j,K=null;S>=0?(j=c[_].substring(0,S),K=c[_].substring(S+1)):j=c[_],y(j,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Hn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Hn?(this.l=c.l,Hi(this,c.j),this.o=c.o,this.g=c.g,Wn(this,c.u),this.h=c.h,ei(this,da(c.i)),this.m=c.m):c&&(y=String(c).match(Kl))?(this.l=!1,Hi(this,y[1]||"",!0),this.o=Wi(y[2]||""),this.g=Wi(y[3]||"",!0),Wn(this,y[4]),this.h=Wi(y[5]||"",!0),ei(this,y[6]||"",!0),this.m=Wi(y[7]||"")):(this.l=!1,this.i=new Me(null,this.l))}Hn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ki(y,aa,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ki(y,aa,!0),"@"),c.push($n(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ki(_,_.charAt(0)=="/"?qi:la,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ki(_,ua)),c.join("")},Hn.prototype.resolve=function(c){const y=gn(this);let _=!!c.j;_?Hi(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var S=c.h;if(_)Wn(y,c.u);else if(_=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=y.h.lastIndexOf("/");j!=-1&&(S=y.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const K=[];for(let se=0;se<j.length;){const Se=j[se++];Se=="."?S&&se==j.length&&K.push(""):Se==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&se==j.length&&K.push("")):(K.push(Se),S=!0)}S=K.join("/")}else S=j}return _?y.h=S:_=c.i.toString()!=="",_?ei(y,da(c.i)):_=!!c.m,_&&(y.m=c.m),y};function gn(c){return new Hn(c)}function Hi(c,y,_){c.j=_?Wi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Wn(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function ei(c,y,_){y instanceof Me?(c.i=y,Bs(c.i,c.l)):(_||(y=Ki(y,uh)),c.i=new Me(y,c.l))}function Be(c,y,_){c.i.set(y,_)}function Er(c){return Be(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Wi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ki(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,oa),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function oa(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var aa=/[#\/\?@]/g,la=/[#\?:]/g,qi=/[#\?]/g,uh=/[#\?@]/g,ua=/#/g;function Me(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Kn(c){c.g||(c.g=new Map,c.h=0,c.i&&an(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}t=Me.prototype,t.add=function(c,y){Kn(this),this.i=null,c=qn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ca(c,y){Kn(c),y=qn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Fs(c,y){return Kn(c),y=qn(c,y),c.g.has(y)}t.forEach=function(c,y){Kn(this),this.g.forEach(function(_,S){_.forEach(function(j){c.call(y,j,S,this)},this)},this)};function ha(c,y){Kn(c);let _=[];if(typeof y=="string")Fs(c,y)&&(_=_.concat(c.g.get(qn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}t.set=function(c,y){return Kn(this),this.i=null,c=qn(this,c),Fs(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=ha(this,c),c.length>0?String(c[0]):y):y};function fa(c,y,_){ca(c,y),_.length>0&&(c.i=null,c.g.set(qn(c,y),P(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var _=y[S];const j=$n(_);_=ha(this,_);for(let K=0;K<_.length;K++){let se=j;_[K]!==""&&(se+="="+$n(_[K])),c.push(se)}}return this.i=c.join("&")};function da(c){const y=new Me;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function qn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Bs(c,y){y&&!c.j&&(Kn(c),c.i=null,c.g.forEach(function(_,S){const j=S.toLowerCase();S!=j&&(ca(this,S),fa(this,j,_))},c)),c.j=y}function Gn(c,y){const _=new Yr;if(u.Image){const S=new Image;S.onload=v(Rt,_,"TestLoadImage: loaded",!0,y,S),S.onerror=v(Rt,_,"TestLoadImage: error",!1,y,S),S.onabort=v(Rt,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=v(Rt,_,"TestLoadImage: timeout",!1,y,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Qn(c,y){const _=new Yr,S=new AbortController,j=setTimeout(()=>{S.abort(),Rt(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(j),K.ok?Rt(_,"TestPingServer: ok",!0,y):Rt(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Rt(_,"TestPingServer: error",!1,y)})}function Rt(c,y,_,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(_)}catch{}}function Gi(){this.g=new Fi}function wr(c){this.i=c.Sb||null,this.h=c.ab||!1}E(wr,qr),wr.prototype.g=function(){return new ln(this.i,this.h)};function ln(c,y){pt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ln,pt),t=ln.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Dn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ql(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ql(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ti(this):Dn(this),this.readyState==3&&ql(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,ti(this))},t.Na=function(c){this.g&&(this.response=c,ti(this))},t.ga=function(){this.g&&ti(this)};function ti(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Dn(c)}t.setRequestHeader=function(c,y){this.A.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Dn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ln.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Gl(c){let y="";return ue(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Us(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Gl(_),typeof c=="string"?_!=null&&$n(_):Be(c,y,_))}function We(c){pt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(We,pt);var Ql=/^https?$/i,ch=["POST","PUT"];t=We.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ul.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){ni(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)_.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),j=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(ch,y,void 0)>=0)||S||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of _)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){ni(this,K)}};function ni(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,ri(c),Sr(c)}function ri(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ut(this,"complete"),ut(this,"abort"),Sr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),We.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Tr(this):this.Xa())},t.Xa=function(){Tr(this)};function Tr(c){if(c.h&&typeof l<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(ut(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=K===0){let se=String(c.D).match(Kl)[1]||null;!se&&u.self&&u.self.location&&(se=u.self.location.protocol.slice(0,-1)),S=!Ql.test(se?se.toLowerCase():"")}_=S}if(_)ut(c,"complete"),ut(c,"success");else{c.o=6;try{var j=Xn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",ri(c)}}finally{Sr(c)}}}}function Sr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||ut(c,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ll(y)}};function Xl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pa(c){const y={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(x(c[S]))continue;var _=Ns(c[S]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[j]||[];y[j]=K,K.push(_)}oe(y,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yn(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function js(c){this.za=0,this.i=[],this.j=new Yr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yn("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yn("baseRetryDelayMs",5e3,c),this.Za=Yn("retryDelaySeedMs",1e4,c),this.Ta=Yn("forwardChannelMaxRetries",2,c),this.va=Yn("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Os(c&&c.concurrentRequestLimit),this.Ba=new Gi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=js.prototype,t.ka=8,t.I=1,t.connect=function(c,y,_,S){ot(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=ga(this,null,this.W),Ar(this)};function zs(c){if($s(c),c.I==3){var y=c.V++,_=gn(c.J);if(Be(_,"SID",c.M),Be(_,"RID",y),Be(_,"TYPE","terminate"),Jn(c,_),y=new mn(c,c.j,y),y.M=2,y.A=Er(gn(_)),_=!1,u.navigator&&u.navigator.sendBeacon)try{_=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&u.Image&&(new Image().src=y.A,_=!0),_||(y.g=Jl(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ui(y)}Yi(c)}function un(c){c.g&&(Xi(c),c.g.cancel(),c.g=null)}function $s(c){un(c),c.v&&(u.clearTimeout(c.v),c.v=null),Hs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Ar(c){if(!ia(c.h)&&!c.m){c.m=!0;var y=c.Ea;te||A(),ie||(te(),ie=!0),R.add(y,c),c.D=0}}function Yl(c,y){return zi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Xr(m(c.Ea,c,y),Ks(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new mn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=F(K),Ce(K,this.U)):K=this.U),this.u!==null||this.R||(j.J=K,K=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ma(this,j,y),_=gn(this.J),Be(_,"RID",c),Be(_,"CVER",22),this.G&&Be(_,"X-HTTP-Session-Id",this.G),Jn(this,_),K&&(this.R?y="headers="+$n(Gl(K))+"&"+y:this.u&&Us(_,this.u,K)),bs(this.h,j),this.Ra&&Be(_,"TYPE","init"),this.S?(Be(_,"$req",y),Be(_,"SID","null"),j.U=!0,kn(j,_,null)):kn(j,_,y),this.I=2}}else this.I==3&&(c?Qi(this,c):this.i.length==0||ia(this.h)||Qi(this))};function Qi(c,y){var _;y?_=y.l:_=c.V++;const S=gn(c.J);Be(S,"SID",c.M),Be(S,"RID",_),Be(S,"AID",c.K),Jn(c,S),c.u&&c.o&&Us(S,c.u,c.o),_=new mn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ma(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),bs(c.h,_),kn(_,S,y)}function Jn(c,y){c.H&&ue(c.H,function(_,S){Be(y,S,_)}),c.l&&ue({},function(_,S){Be(y,S,_)})}function ma(c,y,_){_=Math.min(c.i.length,_);const S=c.l?m(c.l.Ka,c.l,c):null;e:{var j=c.i;let Se=-1;for(;;){const ct=["count="+_];Se==-1?_>0?(Se=j[0].g,ct.push("ofs="+Se)):Se=0:ct.push("ofs="+Se);let $e=!0;for(let mt=0;mt<_;mt++){var K=j[mt].g;const hn=j[mt].map;if(K-=Se,K<0)Se=Math.max(0,j[mt].g-100),$e=!1;else try{K="req"+K+"_"||"";try{var se=hn instanceof Map?hn:Object.entries(hn);for(const[Cr,er]of se){let tr=er;f(er)&&(tr=Kr(er)),ct.push(K+Cr+"="+encodeURIComponent(tr))}}catch(Cr){throw ct.push(K+"type="+encodeURIComponent("_badmap")),Cr}}catch{S&&S(hn)}}if($e){se=ct.join("&");break e}}se=void 0}return c=c.i.splice(0,_),y.G=c,se}function bt(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;te||A(),ie||(te(),ie=!0),R.add(y,c),c.A=0}}function Zn(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Xr(m(c.Da,c),Ks(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,ii(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Xr(m(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ot(10),un(this),ii(this))};function Xi(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function ii(c){c.g=new mn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=gn(c.na);Be(y,"RID","rpc"),Be(y,"SID",c.M),Be(y,"AID",c.K),Be(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Be(y,"TO",c.ia),Be(y,"TYPE","xmlhttp"),Jn(c,y),c.u&&c.o&&Us(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Er(gn(y)),_.u=null,_.R=!0,na(_,c)}t.Va=function(){this.C!=null&&(this.C=null,un(this),Zn(this),ot(19))};function Hs(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function Ws(c,y){var _=null;if(c.g==y){Hs(c),Xi(c),c.g=null;var S=2}else if(sa(c.h,y))_=y.G,$i(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;S=Qr(),ut(S,new ea(S,_)),Ar(c)}else bt(c);else if(j=y.m,j==3||j==0&&y.X>0||!(S==1&&Yl(c,y)||S==2&&Zn(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),j){case 1:cn(c,5);break;case 4:cn(c,10);break;case 3:cn(c,6);break;default:cn(c,2)}}}function Ks(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function cn(c,y){if(c.j.info("Error code "+y),y==2){var _=m(c.bb,c),S=c.Ua;const j=!S;S=new Hn(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Hi(S,"https"),Er(S),j?Gn(S.toString(),_):Qn(S.toString(),_)}else ot(2);c.I=0,c.l&&c.l.pa(y),Yi(c),$s(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Yi(c){if(c.I=0,c.ja=[],c.l){const y=on(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ja,y),L(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function ga(c,y,_){var S=_ instanceof Hn?gn(_):new Hn(_);if(S.g!="")y&&(S.g=y+"."+S.g),Wn(S,S.u);else{var j=u.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const K=new Hn(null);S&&Hi(K,S),y&&(K.g=y),j&&Wn(K,j),_&&(K.h=_),S=K}return _=c.G,y=c.wa,_&&y&&Be(S,_,y),Be(S,"VER",c.ka),Jn(c,S),S}function Jl(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new wr({ab:_})):new We(c.ma),y.Fa(c.L),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zl(){}t=Zl.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function qs(){}qs.prototype.g=function(c,y){return new xt(c,y)};function xt(c,y){pt.call(this),this.g=new js(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!x(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new si(this)}E(xt,pt),xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){zs(this.g)},xt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=Kr(c),c=_);y.i.push(new lh(y.Ya++,c)),y.I==3&&Ar(y)},xt.prototype.N=function(){this.g.l=null,delete this.j,zs(this.g),delete this.g,xt.Z.N.call(this)};function eu(c){ks.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}E(eu,ks);function tu(){Zo.call(this),this.status=1}E(tu,Zo);function si(c){this.g=c}E(si,Zl),si.prototype.ra=function(){ut(this.g,"a")},si.prototype.qa=function(c){ut(this.g,new eu(c))},si.prototype.pa=function(c){ut(this.g,new tu)},si.prototype.oa=function(){ut(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,vE=function(){return new qs},yE=function(){return Qr()},gE=Vn,bd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,fc=Jr,Zr.COMPLETE="complete",mE=Zr,Ol.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Ka=Ol,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,pE=We}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});const c0="@firebase/firestore",h0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new lE("@firebase/firestore");function yo(){return _s.logLevel}function le(t,...e){if(_s.logLevel<=Le.DEBUG){const n=e.map(jp);_s.debug(`Firestore (${Ho}): ${t}`,...n)}}function jr(t,...e){if(_s.logLevel<=Le.ERROR){const n=e.map(jp);_s.error(`Firestore (${Ho}): ${t}`,...n)}}function Mo(t,...e){if(_s.logLevel<=Le.WARN){const n=e.map(jp);_s.warn(`Firestore (${Ho}): ${t}`,...n)}}function jp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,_E(t,i,n)}function _E(t,e,n){let i=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw jr(i),new Error(i)}function je(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||_E(e,o,i)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends $o{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class Gx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Qx{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0,42304);let i=this.i;const o=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let l=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Pi,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await o(this.currentUser)}))},f=d=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>f(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Pi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(je(typeof i.accessToken=="string",31837,{l:i}),new EE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class Xx{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Yx{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new Xx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class f0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xx(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){je(this.o===void 0,3512);const i=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new f0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new f0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=Zx(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<n&&(i+=e.charAt(o[l]%62))}return i}}function ke(t,e){return t<e?-1:t>e?1:0}function Fd(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),l=e.charAt(i);if(o!==l)return id(o)===id(l)?ke(o,l):id(o)?1:-1}return ke(t.length,e.length)}const e4=55296,t4=57343;function id(t){const e=t.charCodeAt(0);return e>=e4&&e<=t4}function No(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="__name__";class or{constructor(e,n,i){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ve(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const l=or.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return ke(e.length,n.length)}static compareSegments(e,n){const i=or.isNumericId(e),o=or.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?or.extractNumericId(e).compare(or.extractNumericId(n)):Fd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ci.fromString(e.substring(4,e.length-2))}}class Xe extends or{construct(e,n,i){return new Xe(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Xe(n)}static emptyPath(){return new Xe([])}}const n4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends or{construct(e,n,i){return new Nt(e,n,i)}static isValidIdentifier(e){return n4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d0}static keyField(){return new Nt([d0])}static fromServerFormat(e){const n=[];let i="",o=0;const l=()=>{if(i.length===0)throw new pe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new pe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new pe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(l(),o++)}if(l(),u)throw new pe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Xe.fromString(e))}static fromName(e){return new me(Xe.fromString(e).popFirst(5))}static empty(){return new me(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e,n){if(!n)throw new pe(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r4(t,e,n,i){if(e===!0&&i===!0)throw new pe(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function p0(t){if(!me.isDocumentKey(t))throw new pe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function m0(t){if(me.isDocumentKey(t))throw new pe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function TE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $p(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve(12329,{type:typeof t})}function Rc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(t);throw new pe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e){const n={typeString:t};return e&&(n.value=e),n}function Rl(t,e){if(!TE(t))throw new pe(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new pe(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=-62135596800,y0=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*y0);return new Ye(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<g0)throw new pe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rl(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:_t("string",Ye._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Ye(0,0))}static max(){return new Te(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=-1;function i4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(i===1e9?new Ye(n+1,0):new Ye(n,i));return new Vi(o,me.empty(),e)}function s4(t){return new Vi(t.readTime,t.key,ml)}class Vi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Vi(Te.min(),me.empty(),ml)}static max(){return new Vi(Te.max(),me.empty(),ml)}}function o4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==a4)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):G.reject(n)}static resolve(e){return new G(((n,i)=>{n(e)}))}static reject(e){return new G(((n,i)=>{i(e)}))}static waitFor(e){return new G(((n,i)=>{let o=0,l=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++l,u&&l===o&&n()}),(d=>i(d)))})),u=!0,l===o&&n()}))}static or(e){let n=G.resolve(!1);for(const i of e)n=n.next((o=>o?G.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,l)=>{i.push(n.call(this,o,l))})),this.waitFor(i)}static mapArray(e,n){return new G(((i,o)=>{const l=e.length,u=new Array(l);let f=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((v=>{u[m]=v,++f,f===l&&i(u)}),(v=>o(v)))}}))}static doWhile(e,n){return new G(((i,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):i()};l()}))}}function u4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-1;function Qc(t){return t==null}function xc(t){return t===0&&1/t==-1/0}function c4(t){return typeof t=="number"&&Number.isInteger(t)&&!xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="";function h4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=v0(e)),e=f4(t.get(n),e);return v0(e)}function f4(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case SE:n+="";break;default:n+=l}}return n}function v0(t){return t+SE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ss(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??Mt.RED,this.left=o??Mt.EMPTY,this.right=l??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,l){return new Mt(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Mt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,i,o,l){return this}insert(e,n,i){return new Mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new E0(this.data.getIterator())}getIteratorFrom(e){return new E0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class E0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new St(Nt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new CE("Invalid base64 string: "+l):l}})(e);return new Ot(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const d4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(t){if(je(!!t,39018),typeof t=="string"){let e=0;const n=d4.exec(t);if(je(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Di(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="server_timestamp",IE="__type__",RE="__previous_value__",xE="__local_write_time__";function Wp(t){return(t?.mapValue?.fields||{})[IE]?.stringValue===PE}function Xc(t){const e=t.mapValue.fields[RE];return Wp(e)?Xc(e):e}function gl(t){const e=ki(t.mapValue.fields[xE].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,i,o,l,u,f,d,m,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=v}}const Vc="(default)";class yl{constructor(e,n){this.projectId=e,this.database=n||Vc}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database===Vc}isEqual(e){return e instanceof yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="__type__",m4="__max__",nc={mapValue:{}},kE="__vector__",kc="value";function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wp(t)?4:y4(t)?9007199254740991:g4(t)?10:11:ve(28295,{value:t})}function dr(t,e){if(t===e)return!0;const n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gl(t).isEqual(gl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=ki(o.timestampValue),f=ki(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return Di(o.bytesValue).isEqual(Di(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return dt(o.geoPointValue.latitude)===dt(l.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return dt(o.integerValue)===dt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=dt(o.doubleValue),f=dt(l.doubleValue);return u===f?xc(u)===xc(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return No(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(_0(u)!==_0(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!dr(u[d],f[d])))return!1;return!0})(t,e);default:return ve(52216,{left:t})}}function vl(t,e){return(t.values||[]).find((n=>dr(n,e)))!==void 0}function Lo(t,e){if(t===e)return 0;const n=Mi(t),i=Mi(e);if(n!==i)return ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=dt(l.integerValue||l.doubleValue),d=dt(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1})(t,e);case 3:return w0(t.timestampValue,e.timestampValue);case 4:return w0(gl(t),gl(e));case 5:return Fd(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Di(l),d=Di(u);return f.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),d=u.split("/");for(let m=0;m<f.length&&m<d.length;m++){const v=ke(f[m],d[m]);if(v!==0)return v}return ke(f.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=ke(dt(l.latitude),dt(u.latitude));return f!==0?f:ke(dt(l.longitude),dt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return T0(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},d=u.fields||{},m=f[kc]?.arrayValue,v=d[kc]?.arrayValue,E=ke(m?.values?.length||0,v?.values?.length||0);return E!==0?E:T0(m,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===nc.mapValue&&u===nc.mapValue)return 0;if(l===nc.mapValue)return 1;if(u===nc.mapValue)return-1;const f=l.fields||{},d=Object.keys(f),m=u.fields||{},v=Object.keys(m);d.sort(),v.sort();for(let E=0;E<d.length&&E<v.length;++E){const T=Fd(d[E],v[E]);if(T!==0)return T;const P=Lo(f[d[E]],m[v[E]]);if(P!==0)return P}return ke(d.length,v.length)})(t.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function w0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=ki(t),i=ki(e),o=ke(n.seconds,i.seconds);return o!==0?o:ke(n.nanos,i.nanos)}function T0(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const l=Lo(n[o],i[o]);if(l)return l}return ke(n.length,i.length)}function Oo(t){return Bd(t)}function Bd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ki(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Di(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const l of n.values||[])o?o=!1:i+=",",i+=Bd(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const u of i)l?l=!1:o+=",",o+=`${u}:${Bd(n.fields[u])}`;return o+"}"})(t.mapValue):ve(61005,{value:t})}function dc(t){switch(Mi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xc(t);return e?16+dc(e):16;case 5:return 2*t.stringValue.length;case 6:return Di(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+dc(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return Ss(i.fields,((l,u)=>{o+=l.length+dc(u)})),o})(t.mapValue);default:throw ve(13486,{value:t})}}function Ud(t){return!!t&&"integerValue"in t}function Kp(t){return!!t&&"arrayValue"in t}function S0(t){return!!t&&"nullValue"in t}function A0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pc(t){return!!t&&"mapValue"in t}function g4(t){return(t?.mapValue?.fields||{})[VE]?.stringValue===kE}function tl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ss(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=tl(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return{...t}}function y4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===m4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!pc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=Nt.emptyPath(),i={},o=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,i,o),i={},o=[],n=f.popLast()}u?i[f.lastSegment()]=tl(u):o.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,o)}delete(e){const n=this.field(e.popLast());pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Ss(n,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Cn(tl(this.value))}}function DE(t){const e=[];return Ss(t.fields,((n,i)=>{const o=new Nt([n]);if(pc(i)){const l=DE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,i,o,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Ht(e,0,Te.min(),Te.min(),Te.min(),Cn.empty(),0)}static newFoundDocument(e,n,i,o){return new Ht(e,1,n,Te.min(),i,o,0)}static newNoDocument(e,n){return new Ht(e,2,n,Te.min(),Te.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,Te.min(),Te.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.position=e,this.inclusive=n}}function C0(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const l=e[o],u=t.position[o];if(l.field.isKeyField()?i=me.comparator(me.fromName(u.referenceValue),n.key):i=Lo(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function P0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function v4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{}class Tt extends ME{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new E4(e,n,i):n==="array-contains"?new S4(e,i):n==="in"?new A4(e,i):n==="not-in"?new C4(e,i):n==="array-contains-any"?new P4(e,i):new Tt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new w4(e,i):new T4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lo(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends ME{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new pr(e,n)}matches(e){return NE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NE(t){return t.op==="and"}function LE(t){return _4(t)&&NE(t)}function _4(t){for(const e of t.filters)if(e instanceof pr)return!1;return!0}function jd(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+Oo(t.value);if(LE(t))return t.filters.map((e=>jd(e))).join(",");{const e=t.filters.map((n=>jd(n))).join(",");return`${t.op}(${e})`}}function OE(t,e){return t instanceof Tt?(function(i,o){return o instanceof Tt&&i.op===o.op&&i.field.isEqual(o.field)&&dr(i.value,o.value)})(t,e):t instanceof pr?(function(i,o){return o instanceof pr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,u,f)=>l&&OE(u,o.filters[f])),!0):!1})(t,e):void ve(19439)}function bE(t){return t instanceof Tt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(t):t instanceof pr?(function(n){return n.op.toString()+" {"+n.getFilters().map(bE).join(" ,")+"}"})(t):"Filter"}class E4 extends Tt{constructor(e,n,i){super(e,n,i),this.key=me.fromName(i.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class w4 extends Tt{constructor(e,n){super(e,"in",n),this.keys=FE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class T4 extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=FE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function FE(t,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class S4 extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kp(n)&&vl(n.arrayValue,this.value)}}class A4 extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vl(this.value.arrayValue,n)}}class C4 extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vl(this.value.arrayValue,n)}}class P4 extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>vl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n=null,i=[],o=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function I0(t,e=null,n=[],i=[],o=null,l=null,u=null){return new I4(t,e,n,i,o,l,u)}function qp(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>jd(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Qc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Oo(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Oo(i))).join(",")),e.Te=n}return e.Te}function Gp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!v4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P0(t.startAt,e.startAt)&&P0(t.endAt,e.endAt)}function zd(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n=null,i=[],o=[],l=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function R4(t,e,n,i,o,l,u,f){return new Yc(t,e,n,i,o,l,u,f)}function BE(t){return new Yc(t)}function R0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function x4(t){return t.collectionGroup!==null}function nl(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new St(Nt.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Mc(l,i))})),n.has(Nt.keyField().canonicalString())||e.Ie.push(new Mc(Nt.keyField(),i))}return e.Ie}function ur(t){const e=Ae(t);return e.Ee||(e.Ee=V4(e,nl(t))),e.Ee}function V4(t,e){if(t.limitType==="F")return I0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Mc(o.field,l)}));const n=t.endAt?new Dc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Dc(t.startAt.position,t.startAt.inclusive):null;return I0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function $d(t,e,n){return new Yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jc(t,e){return Gp(ur(t),ur(e))&&t.limitType===e.limitType}function UE(t){return`${qp(ur(t))}|lt:${t.limitType}`}function vo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>bE(o))).join(", ")}]`),Qc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>Oo(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>Oo(o))).join(",")),`Target(${i})`})(ur(t))}; limitType=${t.limitType})`}function Zc(t,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,o){for(const l of nl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(u,f,d){const m=C0(u,f,d);return u.inclusive?m<=0:m<0})(i.startAt,nl(i),o)||i.endAt&&!(function(u,f,d){const m=C0(u,f,d);return u.inclusive?m>=0:m>0})(i.endAt,nl(i),o))})(t,e)}function k4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jE(t){return(e,n)=>{let i=!1;for(const o of nl(t)){const l=D4(o,e,n);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function D4(t,e,n){const i=t.field.isKeyField()?me.comparator(e.key,n.key):(function(l,u,f){const d=u.data.field(l),m=f.data.field(l);return d!==null&&m!==null?Lo(d,m):ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,((n,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new st(me.comparator);function zr(){return M4}const zE=new st(me.comparator);function qa(...t){let e=zE;for(const n of t)e=e.insert(n.key,n);return e}function $E(t){let e=zE;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ms(){return rl()}function HE(){return rl()}function rl(){return new As((t=>t.toString()),((t,e)=>t.isEqual(e)))}const N4=new st(me.comparator),L4=new St(me.comparator);function De(...t){let e=L4;for(const n of t)e=e.add(n);return e}const O4=new St(ke);function b4(){return O4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function WE(t){return{integerValue:""+t}}function F4(t,e){return c4(e)?WE(e):Qp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function B4(t,e,n){return t instanceof Nc?(function(o,l){const u={fields:{[IE]:{stringValue:PE},[xE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Wp(l)&&(l=Xc(l)),l&&(u.fields[RE]=l),{mapValue:u}})(n,e):t instanceof _l?qE(t,e):t instanceof El?GE(t,e):(function(o,l){const u=KE(o,l),f=x0(u)+x0(o.Ae);return Ud(u)&&Ud(o.Ae)?WE(f):Qp(o.serializer,f)})(t,e)}function U4(t,e,n){return t instanceof _l?qE(t,e):t instanceof El?GE(t,e):n}function KE(t,e){return t instanceof Lc?(function(i){return Ud(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Nc extends eh{}class _l extends eh{constructor(e){super(),this.elements=e}}function qE(t,e){const n=QE(e);for(const i of t.elements)n.some((o=>dr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class El extends eh{constructor(e){super(),this.elements=e}}function GE(t,e){let n=QE(e);for(const i of t.elements)n=n.filter((o=>!dr(o,i)));return{arrayValue:{values:n}}}class Lc extends eh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function x0(t){return dt(t.integerValue||t.doubleValue)}function QE(t){return Kp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function j4(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof _l&&o instanceof _l||i instanceof El&&o instanceof El?No(i.elements,o.elements,dr):i instanceof Lc&&o instanceof Lc?dr(i.Ae,o.Ae):i instanceof Nc&&o instanceof Nc})(t.transform,e.transform)}class z4{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class th{}function XE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new JE(t.key,Or.none()):new xl(t.key,t.data,Or.none());{const n=t.data,i=Cn.empty();let o=new St(Nt.comparator);for(let l of e.fields)if(!o.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),o=o.add(l)}return new Cs(t.key,i,new Un(o.toArray()),Or.none())}}function $4(t,e,n){t instanceof xl?(function(o,l,u){const f=o.value.clone(),d=k0(o.fieldTransforms,l,u.transformResults);f.setAll(d),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Cs?(function(o,l,u){if(!mc(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=k0(o.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(YE(o)),d.setAll(f),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function il(t,e,n,i){return t instanceof xl?(function(l,u,f,d){if(!mc(l.precondition,u))return f;const m=l.value.clone(),v=D0(l.fieldTransforms,d,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,i):t instanceof Cs?(function(l,u,f,d){if(!mc(l.precondition,u))return f;const m=D0(l.fieldTransforms,d,u),v=u.data;return v.setAll(YE(l)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,i):(function(l,u,f){return mc(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function H4(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),l=KE(i.transform,o||null);l!=null&&(n===null&&(n=Cn.empty()),n.set(i.field,l))}return n||null}function V0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&No(i,o,((l,u)=>j4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xl extends th{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cs extends th{constructor(e,n,i,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function YE(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function k0(t,e,n){const i=new Map;je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const l=t[o],u=l.transform,f=e.data.field(l.field);i.set(l.field,U4(u,f,n[o]))}return i}function D0(t,e,n){const i=new Map;for(const o of t){const l=o.transform,u=n.data.field(o.field);i.set(o.field,B4(l,u,e))}return i}class JE extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W4 extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&$4(l,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=il(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=il(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=HE();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(o.key)?null:f;const d=XE(u,f);d!==null&&i.set(o.key,d),u.isValidDocument()||u.convertToNoDocument(Te.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),De())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,((n,i)=>V0(n,i)))&&No(this.baseMutations,e.baseMutations,((n,i)=>V0(n,i)))}}class Xp{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){je(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return N4})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,i[u].version);return new Xp(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ne;function Q4(t){switch(t){case Y.OK:return ve(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ve(15467,{code:t})}}function ZE(t){if(t===void 0)return jr("GRPC error has no .code"),Y.UNKNOWN;switch(t){case yt.OK:return Y.OK;case yt.CANCELLED:return Y.CANCELLED;case yt.UNKNOWN:return Y.UNKNOWN;case yt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case yt.INTERNAL:return Y.INTERNAL;case yt.UNAVAILABLE:return Y.UNAVAILABLE;case yt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case yt.NOT_FOUND:return Y.NOT_FOUND;case yt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case yt.ABORTED:return Y.ABORTED;case yt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case yt.DATA_LOSS:return Y.DATA_LOSS;default:return ve(39323,{code:t})}}(Ne=yt||(yt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new Ci([4294967295,4294967295],0);function M0(t){const e=X4().encode(t),n=new dE;return n.update(e),new Uint8Array(n.digest())}function N0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ci([n,i],0),new Ci([o,l],0)]}class Yp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ga(`Invalid padding: ${n}`);if(i<0)throw new Ga(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ci.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Ci.fromNumber(i)));return o.compare(Y4)===1&&(o=new Ci([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=M0(e),[i,o]=N0(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,o,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Yp(l,o,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=M0(e),[i,o]=N0(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,o,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,i,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new nh(Te.min(),o,new st(ke),zr(),De())}}class Vl{constructor(e,n,i,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Vl(i,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class ew{constructor(e,n){this.targetId=e,this.Ce=n}}class tw{constructor(e,n,i=Ot.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class L0{constructor(){this.ve=0,this.Fe=O0(),this.Me=Ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),n=De(),i=De();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ve(38017,{changeType:l})}})),new Vl(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=O0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J4{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=rc(),this.He=rc(),this.Ye=new st(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(zd(l))if(i===0){const u=new me(l.path);this.et(n,u,Ht.newNoDocument(u,Te.min()))}else je(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),d=f?this.ct(f,e,u):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=n;let u,f;try{u=Di(i).toUint8Array()}catch(d){if(d instanceof CE)return Mo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new Yp(u,o,l)}catch(d){return Mo(d instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&zd(f.target)){const d=new me(f.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,Ht.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=De();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new nh(e,n,this.Ye,this.je,i);return this.je=zr(),this.Je=rc(),this.He=rc(),this.Ye=new st(ke),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new L0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new St(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new St(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new L0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rc(){return new st(me.comparator)}function O0(){return new st(me.comparator)}const Z4={asc:"ASCENDING",desc:"DESCENDING"},eV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tV={and:"AND",or:"OR"};class nV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hd(t,e){return t.useProto3Json||Qc(e)?e:{value:e}}function Oc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rV(t,e){return Oc(t,e.toTimestamp())}function cr(t){return je(!!t,49232),Te.fromTimestamp((function(n){const i=ki(n);return new Ye(i.seconds,i.nanos)})(t))}function Jp(t,e){return Wd(t,e).canonicalString()}function Wd(t,e){const n=(function(o){return new Xe(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function rw(t){const e=Xe.fromString(t);return je(lw(e),10190,{key:e.toString()}),e}function Kd(t,e){return Jp(t.databaseId,e.path)}function sd(t,e){const n=rw(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(sw(n))}function iw(t,e){return Jp(t.databaseId,e)}function iV(t){const e=rw(t);return e.length===4?Xe.emptyPath():sw(e)}function qd(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sw(t){return je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function b0(t,e,n){return{name:Kd(t,e),fields:n.value.mapValue.fields}}function sV(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ve(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(m,v){return m.useProto3Json?(je(v===void 0||typeof v=="string",58123),Ot.fromBase64String(v||"")):(je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ot.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(m){const v=m.code===void 0?Y.UNKNOWN:ZE(m.code);return new pe(v,m.message||"")})(u);n=new tw(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=sd(t,i.document.name),l=cr(i.document.updateTime),u=i.document.createTime?cr(i.document.createTime):Te.min(),f=new Cn({mapValue:{fields:i.document.fields}}),d=Ht.newFoundDocument(o,l,u,f),m=i.targetIds||[],v=i.removedTargetIds||[];n=new gc(m,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=sd(t,i.document),l=i.readTime?cr(i.readTime):Te.min(),u=Ht.newNoDocument(o,l),f=i.removedTargetIds||[];n=new gc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=sd(t,i.document),l=i.removedTargetIds||[];n=new gc([],l,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,u=new G4(o,l),f=i.targetId;n=new ew(f,u)}}return n}function oV(t,e){let n;if(e instanceof xl)n={update:b0(t,e.key,e.value)};else if(e instanceof JE)n={delete:Kd(t,e.key)};else if(e instanceof Cs)n={update:b0(t,e.key,e.data),updateMask:mV(e.fieldMask)};else{if(!(e instanceof W4))return ve(16599,{Vt:e.type});n={verify:Kd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof Nc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof _l)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof El)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Lc)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw ve(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:rV(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ve(27497)})(t,e.precondition)),n}function aV(t,e){return t&&t.length>0?(je(e!==void 0,14353),t.map((n=>(function(o,l){let u=o.updateTime?cr(o.updateTime):cr(l);return u.isEqual(Te.min())&&(u=cr(l)),new z4(u,o.transformResults||[])})(n,e)))):[]}function lV(t,e){return{documents:[iw(t,e.path)]}}function uV(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=iw(t,o);const l=(function(m){if(m.length!==0)return aw(pr.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((v=>(function(T){return{field:_o(T.field),direction:fV(T.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Hd(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function cV(t){let e=iV(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){je(i===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(E){const T=ow(E);return T instanceof pr&&LE(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((T=>(function(L){return new Mc(Eo(L.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(T)))})(n.orderBy));let f=null;n.limit&&(f=(function(E){let T;return T=typeof E=="object"?E.value:E,Qc(T)?null:T})(n.limit));let d=null;n.startAt&&(d=(function(E){const T=!!E.before,P=E.values||[];return new Dc(P,T)})(n.startAt));let m=null;return n.endAt&&(m=(function(E){const T=!E.before,P=E.values||[];return new Dc(P,T)})(n.endAt)),R4(e,o,u,l,f,"F",d,m)}function hV(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ow(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Eo(n.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Eo(n.unaryFilter.field);return Tt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Eo(n.unaryFilter.field);return Tt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Tt.create(Eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return pr.create(n.compositeFilter.filters.map((i=>ow(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(t):ve(30097,{filter:t})}function fV(t){return Z4[t]}function dV(t){return eV[t]}function pV(t){return tV[t]}function _o(t){return{fieldPath:t.canonicalString()}}function Eo(t){return Nt.fromServerFormat(t.fieldPath)}function aw(t){return t instanceof Tt?(function(n){if(n.op==="=="){if(A0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(S0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(A0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(S0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:dV(n.op),value:n.value}}})(t):t instanceof pr?(function(n){const i=n.getFilters().map((o=>aw(o)));return i.length===1?i[0]:{compositeFilter:{op:pV(n.op),filters:i}}})(t):ve(54877,{filter:t})}function mV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,i,o,l=Te.min(),u=Te.min(),f=Ot.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.yt=e}}function yV(t){const e=cV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$d(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.Cn=new _V}addToCollectionParentIndex(e,n){return this.Cn.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Vi.min())}updateCollectionGroup(e,n,i){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class _V{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new St(Xe.comparator),l=!o.has(i);return this.index[n]=o.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new St(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uw=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(uw,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="LruGarbageCollector",EV=1048576;function U0([t,e],[n,i]){const o=ke(t,n);return o===0?ke(e,i):o}class wV{constructor(e){this.Ir=e,this.buffer=new St(U0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();U0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TV{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(B0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ko(n)?le(B0,"Ignoring IndexedDB error during garbage collection: ",n):await Wo(n)}await this.Vr(3e5)}))}}class SV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return G.resolve(Gc.ce);const i=new wV(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(F0)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,l,u,f,d,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,f=Date.now(),this.removeTargets(e,i,n)))).next((E=>(l=E,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(m=Date.now(),yo()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${l} targets in `+(d-f)+`ms
	Removed ${E} documents in `+(m-d)+`ms
Total Duration: ${m-v}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function AV(t,e){return new SV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.changes=new As((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?G.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&il(i.mutation,o,Un.empty(),Ye.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,De()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=De()){const o=ms();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((l=>{let u=qa();return l.forEach(((f,d)=>{u=u.insert(f,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=ms();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,De())))}populateOverlays(e,n,i){const o=[];return i.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,o){let l=zr();const u=rl(),f=(function(){return rl()})();return n.forEach(((d,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Cs)?l=l.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),il(v.mutation,m,v.mutation.getFieldMask(),Ye.now())):u.set(m.key,Un.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,v)=>u.set(m,v))),n.forEach(((m,v)=>f.set(m,new PV(v,u.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=rl();let o=new st(((u,f)=>u-f)),l=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let v=i.get(d)||Un.empty();v=f.applyToLocalView(m,v),i.set(d,v);const E=(o.get(f.batchId)||De()).add(d);o=o.insert(f.batchId,E)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),m=d.key,v=d.value,E=HE();v.forEach((T=>{if(!l.has(T)){const P=XE(n.get(T),i.get(T));P!==null&&E.set(T,P),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return G.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(u){return me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):x4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-l.size):G.resolve(ms());let f=ml,d=l;return u.next((m=>G.forEach(m,((v,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(v)?G.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{d=d.insert(v,T)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,De()))).next((v=>({batchId:f,changes:$E(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((i=>{let o=qa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const l=n.collectionGroup;let u=qa();return this.indexManager.getCollectionParents(e,l).next((f=>G.forEach(f,(d=>{const m=(function(E,T){return new Yc(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next((v=>{v.forEach(((E,T)=>{u=u.insert(E,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,o)))).next((u=>{l.forEach(((d,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Ht.newInvalidDocument(v)))}));let f=qa();return u.forEach(((d,m)=>{const v=l.get(d);v!==void 0&&il(v.mutation,m,Un.empty(),Ye.now()),Zc(n,m)&&(f=f.insert(d,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return G.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:cr(o.createTime)}})(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:yV(o.bundledQuery),readTime:cr(o.readTime)}})(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.overlays=new st(me.comparator),this.qr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ms();return G.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,l)=>{this.St(e,n,l)})),G.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),G.resolve()}getOverlaysForCollection(e,n,i){const o=ms(),l=n.length+1,u=new me(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>i&&o.set(d.getKey(),d)}return G.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let l=new st(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=ms(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=ms(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,v)=>f.set(m,v))),!(f.size()>=o)););return G.resolve(f)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new q4(n,i));let l=this.qr.get(n);l===void 0&&(l=De(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.Qr=new St(It.$r),this.Ur=new St(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new It(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new me(new Xe([])),i=new It(n,e),o=new It(n,e+1),l=[];return this.Ur.forEachInRange([i,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new Xe([])),i=new It(n,e),o=new It(n,e+1);let l=De();return this.Ur.forEachInRange([i,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new It(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new St(It.$r)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new K4(l,n,i,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new It(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return G.resolve(u)}lookupMutationBatch(e,n){return G.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Hp:this.tr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new It(n,0),o=new It(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(u=>{const f=this.Xr(u.Yr);l.push(f)})),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new St(ke);return n.forEach((o=>{const l=new It(o,0),u=new It(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{i=i.add(f.Yr)}))})),G.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let l=i;me.isDocumentKey(l)||(l=l.child(""));const u=new It(new me(l),0);let f=new St(ke);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(f=f.add(d.Yr)),!0)}),u),G.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return G.forEach(n.mutations,(o=>{const l=new It(o.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new It(n,0),o=this.Zr.firstAfterOrEqual(i);return G.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.ri=e,this.docs=(function(){return new st(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),l=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return G.resolve(i?i.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let i=zr();return n.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Ht.newInvalidDocument(o))})),G.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let l=zr();const u=n.path,f=new me(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||o4(s4(v),i)<=0||(o.has(v.key)||Zc(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,n,i,o){ve(9500)}ii(e,n){return G.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new MV(this)}getSize(e){return G.resolve(this.size)}}class MV extends CV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),G.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.persistence=e,this.si=new As((n=>qp(n)),Gp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Zp,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),G.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Pr(n),G.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,i){let o=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),G.waitFor(l).next((()=>o))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return G.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),G.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),G.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return G.resolve(i)}containsKey(e,n){return G.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gc(0),this.li=!1,this.li=!0,this.hi=new VV,this.referenceDelegate=e(this),this.Pi=new NV(this),this.indexManager=new vV,this.remoteDocumentCache=(function(o){return new DV(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new gV(n),this.Ii=new RV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new kV(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){le("MemoryPersistence","Starting transaction:",e);const o=new LV(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,n){return G.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class LV extends l4{constructor(e){super(),this.currentSequenceNumber=e}}class em{constructor(e){this.persistence=e,this.Ri=new Zp,this.Vi=null}static mi(e){return new em(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),G.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),G.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.fi,(i=>{const o=me.fromPath(i);return this.gi(e,o).next((l=>{l||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return G.or([()=>G.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class bc{constructor(e,n){this.persistence=e,this.pi=new As((i=>h4(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=AV(this,n)}static mi(e,n){return new bc(e,n)}Ei(){}di(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return G.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?G.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((f=>{f||(i++,l.removeEntry(u,Te.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dc(e.data.value)),n}br(e,n,i){return G.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=De(),o=De();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new tm(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PR()?8:u4(AR())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,o,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new OV;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(yo()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),G.resolve()):(yo()<=Le.DEBUG&&le("QueryEngine","Query:",vo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(yo()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):G.resolve())}ys(e,n){if(R0(n))return G.resolve(null);let i=ur(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=$d(n,null,"F"),i=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=De(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((d=>{const m=this.Ds(n,f);return this.Cs(n,m,u,d.readTime)?this.ys(e,$d(n,null,"F")):this.vs(e,m,n,d)}))))})))))}ws(e,n,i,o){return R0(n)||o.isEqual(Te.min())?G.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,o)?G.resolve(null):(yo()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(n)),this.vs(e,u,n,i4(o,ml)).next((f=>f)))}))}Ds(e,n){let i=new St(jE(e));return n.forEach(((o,l)=>{Zc(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,i){return yo()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",vo(n)),this.ps.getDocumentsMatchingQuery(e,n,Vi.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="LocalStore",FV=3e8;class BV{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new st(ke),this.xs=new As((l=>qp(l)),Gp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function UV(t,e,n,i){return new BV(t,e,n,i)}async function hw(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let d=De();for(const m of o){u.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}for(const m of l){f.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(i,d).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:f})))}))}))}function jV(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,d,m,v){const E=m.batch,T=E.keys();let P=G.resolve();return T.forEach((L=>{P=P.next((()=>v.getEntry(d,L))).next((O=>{const D=m.docVersions.get(L);je(D!==null,48541),O.version.compareTo(D)<0&&(E.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),v.addEntry(O)))}))})),P.next((()=>f.mutationQueue.removeMutationBatch(d,E)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let d=De();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(d=d.add(f.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function fw(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function zV(t,e){const n=Ae(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach(((v,E)=>{const T=o.get(E);if(!T)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,E))));let P=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?P=P.withResumeToken(Ot.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):v.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(v.resumeToken,i)),o=o.insert(E,P),(function(O,D,z){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=FV?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(T,P,v)&&f.push(n.Pi.updateTargetData(l,P))}));let d=zr(),m=De();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push($V(l,u,e.documentUpdates).next((v=>{d=v.ks,m=v.qs}))),!i.isEqual(Te.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(v)}return G.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.Ms=o,l)))}function $V(t,e,n){let i=De(),o=De();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=zr();return n.forEach(((f,d)=>{const m=l.get(f);d.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),d.isNoDocument()&&d.version.isEqual(Te.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):le(nm,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",d.version)})),{ks:u,qs:o}}))}function HV(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Hp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function WV(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((l=>l?(o=l,G.resolve(o)):n.Pi.allocateTargetId(i).next((u=>(o=new wi(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Gd(t,e,n){const i=Ae(t),o=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Ko(u))throw u;le(nm,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function j0(t,e,n){const i=Ae(t);let o=Te.min(),l=De();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,m,v){const E=Ae(d),T=E.xs.get(v);return T!==void 0?G.resolve(E.Ms.get(T)):E.Pi.getTargetData(m,v)})(i,u,ur(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((d=>{l=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?o:Te.min(),n?l:De()))).next((f=>(KV(i,k4(e),f),{documents:f,Qs:l})))))}function KV(t,e,n){let i=t.Os.get(e)||Te.min();n.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class z0{constructor(){this.activeTargetIds=b4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qV{constructor(){this.Mo=new z0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new z0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="ConnectivityMonitor";class H0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le($0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le($0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic=null;function Qd(){return ic===null?ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():ic++,"0x"+ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="RestConnection",QV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Vc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,l){const u=Qd(),f=this.zo(e,n.toUriEncodedString());le(od,`Sending RPC '${e}' ${u}:`,f,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,o,l);const{host:m}=new URL(f),v=Bp(m);return this.Jo(e,f,d,i,v).then((E=>(le(od,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Mo(od,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",i),E}))}Ho(e,n,i,o,l,u){return this.Go(e,n,i,o,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ho})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,n){const i=QV[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class JV extends XV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,l){const u=Qd();return new Promise(((f,d)=>{const m=new pE;m.setWithCredentials(!0),m.listenOnce(mE.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case fc.NO_ERROR:const E=m.getResponseJson();le(zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case fc.TIMEOUT:le(zt,`RPC '${e}' ${u} timed out`),d(new pe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:const T=m.getStatus();if(le(zt,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let P=m.getResponseJson();Array.isArray(P)&&(P=P[0]);const L=P?.error;if(L&&L.status&&L.message){const O=(function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf($)>=0?$:Y.UNKNOWN})(L.status);d(new pe(O,L.message))}else d(new pe(Y.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new pe(Y.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{le(zt,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);le(zt,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",v,i,15)}))}T_(e,n,i){const o=Qd(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=vE(),f=yE(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const v=l.join("");le(zt,`Creating RPC '${e}' stream ${o}: ${v}`,d);const E=u.createWebChannel(v,d);this.I_(E);let T=!1,P=!1;const L=new YV({Yo:D=>{P?le(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(T||(le(zt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),le(zt,`RPC '${e}' stream ${o} sending:`,D),E.send(D))},Zo:()=>E.close()}),O=(D,z,$)=>{D.listen(z,(q=>{try{$(q)}catch(re){setTimeout((()=>{throw re}),0)}}))};return O(E,Ka.EventType.OPEN,(()=>{P||(le(zt,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),O(E,Ka.EventType.CLOSE,(()=>{P||(P=!0,le(zt,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(E))})),O(E,Ka.EventType.ERROR,(D=>{P||(P=!0,Mo(zt,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),L.a_(new pe(Y.UNAVAILABLE,"The operation could not be completed")))})),O(E,Ka.EventType.MESSAGE,(D=>{if(!P){const z=D.data[0];je(!!z,16349);const $=z,q=$?.error||$[0]?.error;if(q){le(zt,`RPC '${e}' stream ${o} received error:`,q);const re=q.status;let te=(function(A){const C=yt[A];if(C!==void 0)return ZE(C)})(re),ie=q.message;te===void 0&&(te=Y.INTERNAL,ie="Unknown error status: "+re+" with message "+q.message),P=!0,L.a_(new pe(te,ie)),E.close()}else le(zt,`RPC '${e}' stream ${o} received:`,z),L.u_(z)}})),O(f,gE.STAT_EVENT,(D=>{D.stat===bd.PROXY?le(zt,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===bd.NOPROXY&&le(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ad(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){return new nV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="PersistentStream";class pw{constructor(e,n,i,o,l,u,f,d){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new pe(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(W0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZV extends pw{constructor(e,n,i,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sV(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Te.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Te.min():u.readTime?cr(u.readTime):Te.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=qd(this.serializer),n.addTarget=(function(l,u){let f;const d=u.target;if(f=zd(d)?{documents:lV(l,d)}:{query:uV(l,d).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=nw(l,u.resumeToken);const m=Hd(l,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(Te.min())>0){f.readTime=Oc(l,u.snapshotVersion.toTimestamp());const m=Hd(l,u.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const i=hV(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=qd(this.serializer),n.removeTarget=e,this.q_(n)}}class ek extends pw{constructor(e,n,i,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=aV(e.writeResults,e.commitTime),i=cr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=qd(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>oV(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{}class nk extends tk{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Wd(n,i),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(Y.UNKNOWN,l.toString())}))}Ho(e,n,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Wd(n,i),o,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(Y.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class ik{constructor(e,n,i,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Ps(this)&&(le(Es,"Restarting streams for network reachability change."),await(async function(d){const m=Ae(d);m.Ea.add(4),await kl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await ih(m)})(this))}))})),this.Ra=new rk(i,o)}}async function ih(t){if(Ps(t))for(const e of t.da)await e(!0)}async function kl(t){for(const e of t.da)await e(!1)}function mw(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),om(n)?sm(n):qo(n).O_()&&im(n,e))}function rm(t,e){const n=Ae(t),i=qo(n);n.Ia.delete(e),i.O_()&&gw(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ps(n)&&n.Ra.set("Unknown"))}function im(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qo(t).Y_(e)}function gw(t,e){t.Va.Ue(e),qo(t).Z_(e)}function sm(t){t.Va=new J4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),qo(t).start(),t.Ra.ua()}function om(t){return Ps(t)&&!qo(t).x_()&&t.Ia.size>0}function Ps(t){return Ae(t).Ea.size===0}function yw(t){t.Va=void 0}async function sk(t){t.Ra.set("Online")}async function ok(t){t.Ia.forEach(((e,n)=>{im(t,e)}))}async function ak(t,e){yw(t),om(t)?(t.Ra.ha(e),sm(t)):t.Ra.set("Unknown")}async function lk(t,e,n){if(t.Ra.set("Online"),e instanceof tw&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))})(t,e)}catch(i){le(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Fc(t,i)}else if(e instanceof gc?t.Va.Ze(e):e instanceof ew?t.Va.st(e):t.Va.tt(e),!n.isEqual(Te.min()))try{const i=await fw(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(d.resumeToken,u))}})),f.targetMismatches.forEach(((d,m)=>{const v=l.Ia.get(d);if(!v)return;l.Ia.set(d,v.withResumeToken(Ot.EMPTY_BYTE_STRING,v.snapshotVersion)),gw(l,d);const E=new wi(v.target,d,m,v.sequenceNumber);im(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){le(Es,"Failed to raise snapshot:",i),await Fc(t,i)}}async function Fc(t,e,n){if(!Ko(e))throw e;t.Ea.add(1),await kl(t),t.Ra.set("Offline"),n||(n=()=>fw(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(Es,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ih(t)}))}function vw(t,e){return e().catch((n=>Fc(t,n,e)))}async function sh(t){const e=Ae(t),n=Ni(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hp;for(;uk(e);)try{const o=await HV(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,ck(e,o)}catch(o){await Fc(e,o)}_w(e)&&Ew(e)}function uk(t){return Ps(t)&&t.Ta.length<10}function ck(t,e){t.Ta.push(e);const n=Ni(t);n.O_()&&n.X_&&n.ea(e.mutations)}function _w(t){return Ps(t)&&!Ni(t).x_()&&t.Ta.length>0}function Ew(t){Ni(t).start()}async function hk(t){Ni(t).ra()}async function fk(t){const e=Ni(t);for(const n of t.Ta)e.ea(n.mutations)}async function dk(t,e,n){const i=t.Ta.shift(),o=Xp.from(i,e,n);await vw(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await sh(t)}async function pk(t,e){e&&Ni(t).X_&&await(async function(i,o){if((function(u){return Q4(u)&&u!==Y.ABORTED})(o.code)){const l=i.Ta.shift();Ni(i).B_(),await vw(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await sh(i)}})(t,e),_w(t)&&Ew(t)}async function K0(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),le(Es,"RemoteStore received new credentials");const i=Ps(n);n.Ea.add(3),await kl(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ih(n)}async function mk(t,e){const n=Ae(t);e?(n.Ea.delete(2),await ih(n)):e||(n.Ea.add(2),await kl(n),n.Ra.set("Unknown"))}function qo(t){return t.ma||(t.ma=(function(n,i,o){const l=Ae(n);return l.sa(),new ZV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:sk.bind(null,t),t_:ok.bind(null,t),r_:ak.bind(null,t),H_:lk.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),om(t)?sm(t):t.Ra.set("Unknown")):(await t.ma.stop(),yw(t))}))),t.ma}function Ni(t){return t.fa||(t.fa=(function(n,i,o){const l=Ae(n);return l.sa(),new ek(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hk.bind(null,t),r_:pk.bind(null,t),ta:fk.bind(null,t),na:dk.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await sh(t)):(await t.fa.stop(),t.Ta.length>0&&(le(Es,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,i,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,l){const u=Date.now()+i,f=new am(e,n,u,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lm(t,e){if(jr("AsyncQueue",`${e}: ${t}`),Ko(t))return new pe(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||me.comparator(n.key,i.key):(n,i)=>me.comparator(n.key,i.key),this.keyedMap=qa(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ro;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.ga=new st(me.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Fo{constructor(e,n,i,o,l,u,f,d,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,o,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Fo(e,n,Ro.emptySet(n),u,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yk{constructor(){this.queries=G0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ae(n),l=o.queries;o.queries=G0(),l.forEach(((u,f)=>{for(const d of f.Sa)d.onError(i)}))})(this,new pe(Y.ABORTED,"Firestore shutting down"))}}function G0(){return new As((t=>UE(t)),Jc)}async function vk(t,e){const n=Ae(t);let i=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new gk,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const f=lm(u,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&um(n)}async function _k(t,e){const n=Ae(t),i=e.query;let o=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Ek(t,e){const n=Ae(t);let i=!1;for(const o of e){const l=o.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(o)&&(i=!0);u.wa=o}}i&&um(n)}function wk(t,e,n){const i=Ae(t),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);i.queries.delete(e)}function um(t){t.Ca.forEach((e=>{e.next()}))}var Xd,Q0;(Q0=Xd||(Xd={})).Ma="default",Q0.Cache="cache";class Tk{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Fo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.key=e}}class Tw{constructor(e){this.key=e}}class Sk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=jE(e),this.tu=new Ro(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new q0,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=o,f=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,E)=>{const T=o.get(v),P=Zc(this.query,E)?E:null,L=!!T&&this.mutatedKeys.has(T.key),O=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let D=!1;T&&P?T.data.isEqual(P.data)?L!==O&&(i.track({type:3,doc:P}),D=!0):this.su(T,P)||(i.track({type:2,doc:P}),D=!0,(d&&this.eu(P,d)>0||m&&this.eu(P,m)<0)&&(f=!0)):!T&&P?(i.track({type:0,doc:P}),D=!0):T&&!P&&(i.track({type:1,doc:T}),D=!0,(d||m)&&(f=!0)),D&&(P?(u=u.add(P),l=O?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,E)=>(function(P,L){const O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:D})}};return O(P)-O(L)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(i),o=o??!1;const f=n&&!o?this._u():[],d=this.Xa.size===0&&this.current&&!o?1:0,m=d!==this.Za;return this.Za=d,u.length!==0||m?{snapshot:new Fo(this.query,e.tu,l,u,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new Tw(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new ww(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=De();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cm="SyncEngine";class Ak{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Ck{constructor(e){this.key=e,this.hu=!1}}class Pk{constructor(e,n,i,o,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new As((f=>UE(f)),Jc),this.Iu=new Map,this.Eu=new Set,this.du=new st(me.comparator),this.Au=new Map,this.Ru=new Zp,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ik(t,e,n=!0){const i=Rw(t);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Sw(i,e,n,!0),o}async function Rk(t,e){const n=Rw(t);await Sw(n,e,!0,!1)}async function Sw(t,e,n,i){const o=await WV(t.localStore,ur(e)),l=o.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await xk(t,e,l,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&mw(t.remoteStore,o),f}async function xk(t,e,n,i,o){t.pu=(E,T,P)=>(async function(O,D,z,$){let q=D.view.ru(z);q.Cs&&(q=await j0(O.localStore,D.query,!1).then((({documents:R})=>D.view.ru(R,q))));const re=$&&$.targetChanges.get(D.targetId),te=$&&$.targetMismatches.get(D.targetId)!=null,ie=D.view.applyChanges(q,O.isPrimaryClient,re,te);return Y0(O,D.targetId,ie.au),ie.snapshot})(t,E,T,P);const l=await j0(t.localStore,e,!0),u=new Sk(e,l.Qs),f=u.ru(l.documents),d=Vl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),m=u.applyChanges(f,t.isPrimaryClient,d);Y0(t,n,m.au);const v=new Ak(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function Vk(t,e,n){const i=Ae(t),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((u=>!Jc(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Gd(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&rm(i.remoteStore,o.targetId),Yd(i,o.targetId)})).catch(Wo)):(Yd(i,o.targetId),await Gd(i.localStore,o.targetId,!0))}async function kk(t,e){const n=Ae(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),rm(n.remoteStore,i.targetId))}async function Dk(t,e,n){const i=Bk(t);try{const o=await(function(u,f){const d=Ae(u),m=Ye.now(),v=f.reduce(((P,L)=>P.add(L.key)),De());let E,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let L=zr(),O=De();return d.Ns.getEntries(P,v).next((D=>{L=D,L.forEach(((z,$)=>{$.isValidDocument()||(O=O.add(z))}))})).next((()=>d.localDocuments.getOverlayedDocuments(P,L))).next((D=>{E=D;const z=[];for(const $ of f){const q=H4($,E.get($.key).overlayedDocument);q!=null&&z.push(new Cs($.key,q,DE(q.value.mapValue),Or.exists(!0)))}return d.mutationQueue.addMutationBatch(P,m,z,f)})).next((D=>{T=D;const z=D.applyToLocalDocumentSet(E,O);return d.documentOverlayCache.saveOverlays(P,D.batchId,z)}))})).then((()=>({batchId:T.batchId,changes:$E(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,f,d){let m=u.Vu[u.currentUser.toKey()];m||(m=new st(ke)),m=m.insert(f,d),u.Vu[u.currentUser.toKey()]=m})(i,o.batchId,n),await Dl(i,o.changes),await sh(i.remoteStore)}catch(o){const l=lm(o,"Failed to persist write");n.reject(l)}}async function Aw(t,e){const n=Ae(t);try{const i=await zV(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=n.Au.get(l);u&&(je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?je(u.hu,14607):o.removedDocuments.size>0&&(je(u.hu,42227),u.hu=!1))})),await Dl(n,i,e)}catch(i){await Wo(i)}}function X0(t,e,n){const i=Ae(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const d=Ae(u);d.onlineState=f;let m=!1;d.queries.forEach(((v,E)=>{for(const T of E.Sa)T.va(f)&&(m=!0)})),m&&um(d)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Mk(t,e,n){const i=Ae(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),l=o&&o.key;if(l){let u=new st(me.comparator);u=u.insert(l,Ht.newNoDocument(l,Te.min()));const f=De().add(l),d=new nh(Te.min(),new Map,new st(ke),u,f);await Aw(i,d),i.du=i.du.remove(l),i.Au.delete(e),hm(i)}else await Gd(i.localStore,e,!1).then((()=>Yd(i,e,n))).catch(Wo)}async function Nk(t,e){const n=Ae(t),i=e.batch.batchId;try{const o=await jV(n.localStore,e);Pw(n,i,null),Cw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Dl(n,o)}catch(o){await Wo(o)}}async function Lk(t,e,n){const i=Ae(t);try{const o=await(function(u,f){const d=Ae(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return d.mutationQueue.lookupMutationBatch(m,f).next((E=>(je(E!==null,37113),v=E.keys(),d.mutationQueue.removeMutationBatch(m,E)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,v,f))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>d.localDocuments.getDocuments(m,v)))}))})(i.localStore,e);Pw(i,e,n),Cw(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Dl(i,o)}catch(o){await Wo(o)}}function Cw(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Pw(t,e,n){const i=Ae(t);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Yd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||Iw(t,i)}))}function Iw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),hm(t))}function Y0(t,e,n){for(const i of n)i instanceof ww?(t.Ru.addReference(i.key,e),Ok(t,i)):i instanceof Tw?(le(cm,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||Iw(t,i.key)):ve(19791,{wu:i})}function Ok(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(le(cm,"New document in limbo: "+n),t.Eu.add(i),hm(t))}function hm(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new me(Xe.fromString(e)),i=t.fu.next();t.Au.set(i,new Ck(n)),t.du=t.du.insert(n,i),mw(t.remoteStore,new wi(ur(BE(n.path)),i,"TargetPurposeLimboResolution",Gc.ce))}}async function Dl(t,e,n){const i=Ae(t),o=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,d)=>{u.push(i.pu(d,e,n).then((m=>{if((m||n)&&i.isPrimaryClient){const v=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(m){o.push(m);const v=tm.As(d.targetId,m);l.push(v)}})))})),await Promise.all(u),i.Pu.H_(o),await(async function(d,m){const v=Ae(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>G.forEach(m,(T=>G.forEach(T.Es,(P=>v.persistence.referenceDelegate.addReference(E,T.targetId,P))).next((()=>G.forEach(T.ds,(P=>v.persistence.referenceDelegate.removeReference(E,T.targetId,P)))))))))}catch(E){if(!Ko(E))throw E;le(nm,"Failed to update sequence numbers: "+E)}for(const E of m){const T=E.targetId;if(!E.fromCache){const P=v.Ms.get(T),L=P.snapshotVersion,O=P.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(T,O)}}})(i.localStore,l))}async function bk(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){le(cm,"User change. New user:",e.toKey());const i=await hw(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((d=>{d.reject(new pe(Y.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Dl(n,i.Ls)}}function Fk(t,e){const n=Ae(t),i=n.Au.get(e);if(i&&i.hu)return De().add(i.key);{let o=De();const l=n.Iu.get(e);if(!l)return o;for(const u of l){const f=n.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function Rw(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mk.bind(null,e),e.Pu.H_=Ek.bind(null,e.eventManager),e.Pu.yu=wk.bind(null,e.eventManager),e}function Bk(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lk.bind(null,e),e}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return UV(this.persistence,new bV,e.initialUser,this.serializer)}Cu(e){return new cw(em.mi,this.serializer)}Du(e){return new qV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class Uk extends Bc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){je(this.persistence.referenceDelegate instanceof bc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new TV(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new cw((i=>bc.mi(i,n)),this.serializer)}}class Jd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>X0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=bk.bind(null,this.syncEngine),await mk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yk})()}createDatastore(e){const n=rh(e.databaseInfo.databaseId),i=(function(l){return new JV(l)})(e.databaseInfo);return(function(l,u,f,d){return new nk(l,u,f,d)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,l,u,f){return new ik(i,o,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>X0(this.syncEngine,n,0)),(function(){return H0.v()?new H0:new GV})())}createSyncEngine(e,n){return(function(o,l,u,f,d,m,v){const E=new Pk(o,l,u,f,d,m);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ae(n);le(Es,"RemoteStore shutting down."),i.Ea.add(5),await kl(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jd.provider={build:()=>new Jd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="FirestoreClient";class zk{constructor(e,n,i,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{le(Li,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(le(Li,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=lm(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ld(t,e){t.asyncQueue.verifyOperationInProgress(),le(Li,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await hw(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function J0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $k(t);le(Li,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>K0(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>K0(e.remoteStore,o))),t._onlineComponents=e}async function $k(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(Li,"Using user provided OfflineComponentProvider");try{await ld(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await ld(t,new Bc)}}else le(Li,"Using default OfflineComponentProvider"),await ld(t,new Uk(void 0));return t._offlineComponents}async function xw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(Li,"Using user provided OnlineComponentProvider"),await J0(t,t._uninitializedComponentsProvider._online)):(le(Li,"Using default OnlineComponentProvider"),await J0(t,new Jd))),t._onlineComponents}function Hk(t){return xw(t).then((e=>e.syncEngine))}async function Wk(t){const e=await xw(t),n=e.eventManager;return n.onListen=Ik.bind(null,e.syncEngine),n.onUnlisten=Vk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Rk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kk.bind(null,e.syncEngine),n}function Kk(t,e,n={}){const i=new Pi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,d,m){const v=new jk({next:T=>{v.Nu(),u.enqueueAndForget((()=>_k(l,E))),T.fromCache&&d.source==="server"?m.reject(new pe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),E=new Tk(f,v,{includeMetadataChanges:!0,qa:!0});return vk(l,E)})(await Wk(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="firestore.googleapis.com",e_=!0;class t_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kw,this.ssl=e_}else this.host=e.host,this.ssl=e.ssl??e_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EV)throw new pe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new qx;switch(i.type){case"firstParty":return new Yx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Z0.get(n);i&&(le("ComponentProvider","Removing Datastore"),Z0.delete(n),i.terminate())})(this),Promise.resolve()}}function qk(t,e,n,i={}){t=Rc(t,oh);const o=Bp(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(_R(`https://${f}`),SR("Firestore",!0)),l.host!==kw&&l.host!==f&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:f,ssl:o,emulatorOptions:i};if(!Cc(d,u)&&(t._setSettings(d),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=$t.MOCK_USER;else{m=ER(i.mockUserToken,t._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new pe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new $t(E)}t._authCredentials=new Gx(new EE(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ah(this.firestore,e,this._query)}}class Lt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Rl(n,Lt._jsonSchema))return new Lt(e,i||null,new me(Xe.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:_t("string",Lt._jsonSchemaVersion),referencePath:_t("string")};class Ii extends ah{constructor(e,n,i){super(e,n,BE(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new me(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function MD(t,e,...n){if(t=fl(t),wE("collection","path",e),t instanceof oh){const i=Xe.fromString(e,...n);return m0(i),new Ii(t,null,i)}{if(!(t instanceof Lt||t instanceof Ii))throw new pe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Xe.fromString(e,...n));return m0(i),new Ii(t.firestore,null,i)}}function Gk(t,e,...n){if(t=fl(t),arguments.length===1&&(e=zp.newId()),wE("doc","path",e),t instanceof oh){const i=Xe.fromString(e,...n);return p0(i),new Lt(t,null,new me(i))}{if(!(t instanceof Lt||t instanceof Ii))throw new pe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Xe.fromString(e,...n));return p0(i),new Lt(t.firestore,t instanceof Ii?t.converter:null,new me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="AsyncQueue";class r_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dw(this,"async_queue_retry"),this._c=()=>{const i=ad();i&&le(n_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ad();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ad();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Pi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;le(n_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,jr("INTERNAL UNHANDLED ERROR: ",i_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=am.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:i_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function i_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fm extends oh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new r_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r_(e),this._firestoreClient=void 0,await e}}}function ND(t,e){const n=typeof t=="object"?t:Nx(),i=typeof t=="string"?t:Vc,o=Rx(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=yR("firestore");l&&qk(o,...l)}return o}function Dw(t){if(t._terminated)throw new pe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Qk(t),t._firestoreClient}function Qk(t){const e=t._freezeSettings(),n=(function(o,l,u,f){return new p4(o,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Vw(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new zk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Ot.fromBase64String(e))}catch(n){throw new pe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rl(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:_t("string",Pn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hr._jsonSchemaVersion}}static fromJSON(e){if(Rl(e,hr._jsonSchema))return new hr(e.latitude,e.longitude)}}hr._jsonSchemaVersion="firestore/geoPoint/1.0",hr._jsonSchema={type:_t("string",hr._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rl(e,fr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fr(e.vectorValues);throw new pe(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fr._jsonSchemaVersion="firestore/vectorValue/1.0",fr._jsonSchema={type:_t("string",fr._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=/^__.*__$/;class Yk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new xl(e,this.data,n,this.fieldTransforms)}}function Nw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:t})}}class pm{constructor(e,n,i,o,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Nw(this.Ac)&&Xk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Jk{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||rh(e)}Cc(e,n,i,o=!1){return new pm({Ac:e,methodName:n,Dc:i,path:Nt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zk(t){const e=t._freezeSettings(),n=rh(t._databaseId);return new Jk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eD(t,e,n,i,o,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,o);Fw("Data must be an object, but it was:",u,i);const f=Ow(i,u);let d,m;if(l.merge)d=new Un(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const T=tD(e,E,n);if(!u.contains(T))throw new pe(Y.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);rD(v,T)||v.push(T)}d=new Un(v),m=u.fieldTransforms.filter((E=>d.covers(E.field)))}else d=null,m=u.fieldTransforms;return new Yk(new Cn(f),d,m)}function Lw(t,e){if(bw(t=fl(t)))return Fw("Unsupported field value:",e,t),Ow(t,e);if(t instanceof Mw)return(function(i,o){if(!Nw(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let u=0;for(const f of i){let d=Lw(f,o.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,o){if((i=fl(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return F4(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ye.fromDate(i);return{timestampValue:Oc(o.serializer,l)}}if(i instanceof Ye){const l=new Ye(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Oc(o.serializer,l)}}if(i instanceof hr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Pn)return{bytesValue:nw(o.serializer,i._byteString)};if(i instanceof Lt){const l=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof fr)return(function(u,f){return{mapValue:{fields:{[VE]:{stringValue:kE},[kc]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return Qp(f.serializer,m)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${$p(i)}`)})(t,e)}function Ow(t,e){const n={};return AE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(t,((i,o)=>{const l=Lw(o,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function bw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof hr||t instanceof Pn||t instanceof Lt||t instanceof Mw||t instanceof fr)}function Fw(t,e,n){if(!bw(n)||!TE(n)){const i=$p(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function tD(t,e,n){if((e=fl(e))instanceof dm)return e._internalPath;if(typeof e=="string")return Bw(t,e);throw Uc("Field path arguments must be of type string or ",t,!1,void 0,n)}const nD=new RegExp("[~\\*/\\[\\]]");function Bw(t,e,n){if(e.search(nD)>=0)throw Uc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dm(...e.split("."))._internalPath}catch{throw Uc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uc(t,e,n,i,o){const l=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${i}`),u&&(d+=` in document ${o}`),d+=")"),new pe(Y.INVALID_ARGUMENT,f+t+d)}function rD(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,i,o,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iD extends Uw{data(){return super.data()}}function jw(t,e){return typeof e=="string"?Bw(t,e):e instanceof dm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oD{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ss(e,((o,l)=>{i[o]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[kc].arrayValue?.values?.map((i=>dt(i.doubleValue)));return new fr(n)}convertGeoPoint(e){return new hr(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Xc(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(gl(e));default:return null}}convertTimestamp(e){const n=ki(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Xe.fromString(e);je(lw(i),9688,{name:e});const o=new yl(i.get(1),i.get(3)),l=new me(i.popFirst(5));return o.isEqual(n)||jr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xo extends Uw{constructor(e,n,i,o,l,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(jw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",xo._jsonSchema={type:_t("string",xo._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class yc extends xo{data(e={}){return super.data(e)}}class Vo{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new sc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new yc(this._firestore,this._userDataWriter,i.key,i,new sc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const d=new yc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new sc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const d=new yc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new sc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:lD(f.type),doc:d,oldIndex:m,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:t})}}Vo._jsonSchemaVersion="firestore/querySnapshot/1.0",Vo._jsonSchema={type:_t("string",Vo._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class uD extends oD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function LD(t){t=Rc(t,ah);const e=Rc(t.firestore,fm),n=Dw(e),i=new uD(e);return sD(t._query),Kk(n,t._query).then((o=>new Vo(e,i,t,o)))}function OD(t,e){const n=Rc(t.firestore,fm),i=Gk(t),o=aD(t.converter,e);return cD(n,[eD(Zk(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,Or.exists(!1))]).then((()=>i))}function cD(t,e){return(function(i,o){const l=new Pi;return i.asyncQueue.enqueueAndForget((async()=>Dk(await Hk(i),o,l))),l.promise})(Dw(t),e)}(function(e,n=!0){(function(o){Ho=o})(Dx),Ic(new dl("firestore",((i,{instanceIdentifier:o,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new fm(new Qx(i.getProvider("auth-internal")),new Jx(u,i.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(m.options.projectId,v)})(u,o),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Io(c0,h0,e),Io(c0,h0,"esm2020")})();export{pD as A,ED as F,dD as H,m2 as N,fD as R,yD as a,vD as b,_D as c,WS as d,hD as e,gs as f,kD as g,TD as h,AD as i,Nr as j,VD as k,xD as l,gD as m,ND as n,Mx as o,CD as p,SD as q,B as r,PD as s,wD as t,Ts as u,RD as v,ID as w,LD as x,MD as y,OD as z};
